


                             TOPS-20 KL Model B                             TOPS-20 KL Model B

                             Installation Guide                             Installation Guide


|                         Electronic Distribution



|                                April 1990


                  This manual describes the procedures for
                  installing  TOPS-20 Version 7.0 on a new
                  system and updating TOPS-20 software  on
                  an existing KL10 Model B system.

                  Change  bars  in  the  margins  indicate
                  material  that has been added or changed
                  since  the  previous  release  of   this
                  manual.

                  This manual supersedes the manual of the
|                 same name and order number, AA-M229C-TM.
                  Please read it in its entirety.



                  OPERATING SYSTEM:  TOPS-20 Version 7.0

                  SOFTWARE:  RSX-20F Version 16-00
                             KLINIT Version 16-00
                             Microcode Version 442



                  digital equipment corporation
                  maynard, massachusetts



                                               First Printing, April 1982
                                                   Updated, December 1982
                                                  Revised, September 1985
                                                       Revised, June 1988
|                                      Software Update Tape 2, April 1990



   The information in this document is subject to change  without  notice
   and  should  not  be  construed  as  a commitment by Digital Equipment
   Corporation.  Digital Equipment Corporation assumes no  responsibility
   for any errors that may appear in this document.

   The software described in this document is furnished under  a  license
   and  may  only  be used or copied in accordance with the terms of such
   license.

   No responsibility is assumed for the use or reliability of software on
   equipment that is not supplied by Digital Equipment Corporation or its
   affiliated companies.


|  Copyright  C 1982, 1985, 1988, 1990, Digital Equipment Corporation.

   All Rights Reserved.
   Printed in U.S.A.



   The Reader's Comments form on the last page of this document  requests
   the   user's   critical  evaluation  to  assist  in  preparing  future
   documentation.

   The following are trademarks of Digital Equipment Corporation:

   CI             DECtape     LA50             SITGO-10
   DDCMP          DECUS       LN01             TOPS-10
   DEC            DECwriter   LN03             TOPS-20
   DECmail        DELNI       MASSBUS          TOPS-20AN
   DECnet         DELUA       PDP              UNIBUS
   DECnet-VAX     HSC         PDP-11/24        UETP
   DECserver      HSC-50      PrintServer      VAX
   DECserver 100  KA10        PrintServer 40   VAX/VMS
   DECserver 200  KI          Q-bus            VT50
   DECsystem-10   KL10        ReGIS
   DECSYSTEM-20   KS10        RSX              d i g i t a l



                                      CONTENTS



   PREFACE


   CHAPTER 1       INTRODUCTION

           1.1     COLLECTING INFORMATION . . . . . . . . . . . . . . 1-1
           1.1.1     Disk Drives  . . . . . . . . . . . . . . . . . . 1-2
           1.1.2     Terminal Lines . . . . . . . . . . . . . . . . . 1-2
           1.1.3     Magnetic Tape Drives . . . . . . . . . . . . . . 1-3
           1.1.4     Line Printers  . . . . . . . . . . . . . . . . . 1-4
           1.2     INSTALLATION TOOLS . . . . . . . . . . . . . . . . 1-4
           1.2.1     Floppy Disks . . . . . . . . . . . . . . . . . . 1-5
           1.2.2     Tapes  . . . . . . . . . . . . . . . . . . . . . 1-5
           1.3     THE TOPS-20 MONITORS . . . . . . . . . . . . . . . 1-6
           1.4     THE BATCH AND SPOOLING SYSTEM  . . . . . . . . . . 1-6


   CHAPTER 2       CREATING THE TOPS-20 FILE SYSTEM

           2.1     CHECKING THE TOPS-20 SOFTWARE PACKAGE  . . . . . . 2-1
           2.2     PREPARING THE DECSYSTEM-20 FOR INSTALLATION  . . . 2-2
           2.3     LOADING AND STARTING THE TOPS-20 MONITOR . . . . . 2-7
           2.4     INITIALIZING THE TOPS-20 FILE SYSTEM . . . . . .  2-14
           2.5     RESTARTING THE MONITOR . . . . . . . . . . . . .  2-21
           2.6     CREATING SYSTEM DIRECTORIES  . . . . . . . . . .  2-24
           2.7     RUNNING DUMPER FROM TAPE . . . . . . . . . . . .  2-26
           2.8     RESTORING TOPS-20 BUNDLED SOFTWARE FROM TAPE . .  2-27
           2.9     CREATING THE DUMP.EXE FILE . . . . . . . . . . .  2-34


   CHAPTER 3       TAILORING THE SYSTEM

           3.1     SELECTING A TOPS-20 MONITOR  . . . . . . . . . . . 3-2
           3.2     CHANGING THE SYSTEM NAME . . . . . . . . . . . . . 3-5
           3.3     CREATING SYSTEM DEFAULTS IN THE CONFIGURATION 
                   COMMAND FILE . . . . . . . . . . . . . . . . . . . 3-6
           3.3.1     Setting Terminal Speeds  . . . . . . . . . . . . 3-7
           3.3.2     Defining Dial-Up (Remote) Lines  . . . . . . . . 3-9
           3.3.3     Defining System Logical Names  . . . . . . . .  3-10
           3.3.3.1     Selecting an Editor  . . . . . . . . . . . .  3-11
           3.3.4     Defining Magnetic Tape Logical Unit Numbers  .  3-11
           3.3.5     Defining Line Printer Parameters . . . . . . .  3-12
           3.3.5.1     Specifying the VFU File  . . . . . . . . . .  3-13
           3.3.5.2     Specifying the RAM File  . . . . . . . . . .  3-14
           3.3.6     Defining the Local Time Zone . . . . . . . . .  3-15
           3.3.7     Directory Parameter Setting  . . . . . . . . .  3-15
           3.3.8     Account Validation . . . . . . . . . . . . . .  3-16
           3.3.9     Performance Improvements . . . . . . . . . . .  3-16


                                    iii



           3.3.9.1     Full Latency Optimization  . . . . . . . . .  3-16
           3.3.9.2     Working Set Swapping . . . . . . . . . . . .  3-17
           3.3.10    Scheduler Controls . . . . . . . . . . . . . .  3-18
           3.3.10.1    Bias Controls  . . . . . . . . . . . . . . .  3-18
           3.3.10.2    Class Scheduling . . . . . . . . . . . . . .  3-18
           3.3.11    File Archiving and Migration Parameters  . . .  3-20
           3.3.11.1    Archive Tape Recycle Period  . . . . . . . .  3-20
           3.3.11.2    Migration Tape Recycle Period  . . . . . . .  3-20
           3.3.12    Tape Drive Allocation  . . . . . . . . . . . .  3-21
           3.3.12.1    Enabling Tape Drive Allocation . . . . . . .  3-21
           3.3.12.2    Treatment of Unrecognized Tapes  . . . . . .  3-21
           3.3.13    Accounting Shift Changes . . . . . . . . . . .  3-22
           3.3.14    Assigning MSCP-served Disk Drives  . . . . . .  3-23
           3.3.15    Specifying Daylight Savings Time . . . . . . .  3-23
           3.3.16    Specifying Remote Line Conditions  . . . . . .  3-24
           3.3.17    Controlling System Message Levels  . . . . . .  3-24
           3.3.18    Network Information  . . . . . . . . . . . . .  3-25
           3.3.19    Designating Off-line Structures  . . . . . . .  3-26
           3.3.20    Designating Login Structure  . . . . . . . . .  3-26
           3.3.21    Preventing Fast logins . . . . . . . . . . . .  3-27
           3.3.22    Cluster Data Gathering . . . . . . . . . . . .  3-28
           3.3.22.1    Cluster Information  . . . . . . . . . . . .  3-28
           3.3.22.2    Cluster Sendalls . . . . . . . . . . . . . .  3-28
           3.3.23    Password Management  . . . . . . . . . . . . .  3-29
           3.3.23.1    Designating Minimum Password Length  . . . .  3-29
           3.3.23.2    Changing Passwords Regularly . . . . . . . .  3-29
           3.3.23.3    Disallowing Certain Passwords  . . . . . . .  3-30
           3.3.24    Dumping on Non-fatal System Errors . . . . . .  3-30
           3.3.25    Disabling the Console Terminal for Operator 
                     Output . . . . . . . . . . . . . . . . . . . .  3-31
           3.3.26    Enabling the Access Control Program  . . . . .  3-31
           3.3.27    Hangup on DETACH . . . . . . . . . . . . . . .  3-32
           3.3.28    Scheduling Low Priority to Batch Jobs  . . . .  3-32
           3.4     SAVING THE CONFIGURATION COMMAND FILE  . . . . .  3-33
           3.5     CHANGING THE OPERATOR'S PASSWORD AND USER GROUP   3-36
           3.6     CREATING THE DIRECTORY PS:<REMARKS>  . . . . . .  3-37
           3.7     CREATING THE LPFORM.INI FILE . . . . . . . . . .  3-38
           3.8     BUILDING A FRONT-END FILE STRUCTURE  . . . . . .  3-40


   CHAPTER 4       CREATING THE FRONT-END FILE SYSTEM

           4.1     HALTING THE TOPS-20 MONITOR  . . . . . . . . . . . 4-1
           4.2     RESTARTING THE FRONT-END MONITOR . . . . . . . . . 4-3
           4.3     COPYING FILES FROM FLOPPY DISK TO RP04 OR RP06 . . 4-4
           4.4     RENAMING THE DX20 MICROCODE FILES  . . . . . . .  4-14


   CHAPTER 5       STARTING THE SYSTEM





                                     iv



   CHAPTER 6       INSTALLING THE TOPS-20 DISTRIBUTION TAPES


   CHAPTER 7       RUNNING THE TOPS-20 UETP PACKAGE

           7.1     RUNNING THE STANDARD TESTS . . . . . . . . . . . . 7-1
           7.2     RUNNING OPTIONAL TESTS . . . . . . . . . . . . . . 7-5
           7.3     DELETING TEMPORARY DIRECTORIES . . . . . . . . . . 7-8


   APPENDIX A      UPDATING THE DECSYSTEM-20 SOFTWARE

           A.1     INSTALLATION TOOLS . . . . . . . . . . . . . . . . A-2
           A.2     INSTALLING THE VERSION 7.0 SOFTWARE  . . . . . . . A-2
           A.2.1     Preparing for Installation . . . . . . . . . . . A-2
           A.2.2     Creating System Directories  . . . . . . . . . . A-7
           A.2.3     Restoring TOPS-20 Bundled Software from Tape . . A-8
           A.2.4     Renaming the Version 6.1 Monitor . . . . . . .  A-12
           A.2.5     Creating the Configuration Command File  . . .  A-14
           A.2.6     Setting Parameters for <OPERATOR>  . . . . . .  A-16
           A.2.7     Shutting Down the DECSYSTEM-20 . . . . . . . .  A-17
           A.2.8     Starting the New Software  . . . . . . . . . .  A-18
           A.3     REVERTING TO VERSION 6.1 . . . . . . . . . . . .  A-24
           A.4     MAKING THE VERSION 7.0 MONITOR THE PRIMARY 
                   MONITOR  . . . . . . . . . . . . . . . . . . . .  A-27
           A.5     MAKING THE VERSION 7.0 MONITOR THE PERMANENT 
                   MONITOR  . . . . . . . . . . . . . . . . . . . .  A-29


   APPENDIX B      POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


   APPENDIX C      INSTALLING TCP/IP-20

           C.1     TCP/IP INSTALLATION TOOLS  . . . . . . . . . . . . C-1
           C.2     RESTORING THE TOPS-20 BUNDLED SOFTWARE FROM TAPE . C-2
           C.3     RESTORING THE TCP/IP DISTRIBUTION TAPE . . . . . . C-2
           C.4     CUSTOMIZING A DATA FILE  . . . . . . . . . . . . . C-6
           C.5     CHOOSING A MONITOR . . . . . . . . . . . . . . . . C-8
           C.6     CHANGING THE SYSTEM NAME . . . . . . . . . . . .  C-10
           C.7     COMPLETING YOUR TCP/IP INSTALLATION  . . . . . .  C-11
           C.8     ACCESSING THE LIMITED DOMAIN RESOLVER  . . . . .  C-14


   APPENDIX D      GENERATING A TAILORED BATCH AND SPOOLING SYSTEM

           D.1     RESTORING THE GALAXY SOURCE FILES  . . . . . . . . D-2
           D.2     RUNNING THE GALGEN PROGRAM . . . . . . . . . . . . D-9
           D.3     ASSEMBLING THE NEW GALAXY SYSTEM . . . . . . . .  D-17
           D.4     SHUTTING DOWN THE OLD GALAXY SYSTEM  . . . . . .  D-18
           D.5     STARTING UP THE NEW GALAXY SYSTEM  . . . . . . .  D-22
           D.6     MAKING YOUR NEW GALAXY SYSTEM PERMANENT  . . . .  D-25


                                     v



   INDEX


   FIGURES

           2-1     Directories on the Public Structure  . . . . . .  2-34
           3-1     The 7-CONFIG.CMD File  . . . . . . . . . . . . .  3-35
           4-1     Directory Listing of Front-End Files . . . . . .  4-13
           5-1     Sample Console Terminal Output at System Startup . 5-6


   TABLES

           3-1     Maximum Structure Size . . . . . . . . . . . . . . 3-4
           3-2     DECSYSTEM-20 Terminal Line Numbers . . . . . . . . 3-8
           3-3     DECSYSTEM-20 Line Printers . . . . . . . . . . .  3-13
           5-1     System Reload Abbreviations  . . . . . . . . . . . 5-4
           7-1     UETP Commands for Optional Software Product Tests  7-6

























































                                    vii















                                  PREFACE                                  PREFACE



       _______ __ _____ _ ____________ _____   The TOPS-20 KL Model B Installation Guide describes the procedures for
   installing  TOPS-20  software  on a new DECSYSTEM-20.  This guide also
   provides information on updating TOPS-20 software on an existing  KL10
   Model   B   system,   installing   TCP/IP-20   (Transmission   Control
   Protocol/Internet Protocol), and generating tailored GALAXY software.



   AUDIENCE   AUDIENCE

   This guide addresses TOPS-20 operators, system  managers,  and  others
   who have the responsibility to:

         o  Install the TOPS-20 software on a new DECSYSTEM-20.

         o  Update the TOPS-20 software on an existing DECSYSTEM-20.

         o  Install TCP/IP-20 software.

         o  Generate a tailored batch and spooling (GALAXY) system.



   ORGANIZATION   ORGANIZATION

   Chapter 1      INTRODUCTION, describes what you need to do to  prepare
                  for installation.  It also describes the tools you need
                  to install the software.

   Chapter 2      CREATING THE TOPS-20 FILE SYSTEM, describes powering up
                  the   DECSYSTEM-20   and   obtaining  the  DECSYSTEM-20
                  front-end monitor from floppy disk.  This chapter  also
                  describes  loading  the  TOPS-20  bundled software from
                  magnetic tape.

   Chapter 3      TAILORING THE  SYSTEM,  describes  how  to  select  the


                                    viii



                  proper monitor, declare the system name, and change the
                  system  defaults   for   terminals,   system   devices,
                  accounting,    performance    improvements,   scheduler
                  controls,  file  archiving  and  migration,  and  other
                  system functions.

   Chapter 4      CREATING THE FRONT-END FILE SYSTEM,  describes  how  to
                  create  the  front-end file system for the DECSYSTEM-20
                  and copy files into it from the  floppy  disks.   (When
                  you finish this chapter, the installation is complete.)

   Chapter 5      STARTING THE SYSTEM, describes how to boot  the  system
                  from disk.

   Chapter 6      INSTALLING THE TOPS-20 DISTRIBUTION TAPE, describes how
                  to  install  TOPS-20  Distribution,  Update,  and Tools
                  tapes.

   Chapter 7      RUNNING THE TOPS-20 UETP PACKAGE, describes how to  run
                  the User Environment Test Package (UETP program).  This
                  program performs a cursory check of the system.

   Appendix A     UPDATING   THE    DECSYSTEM-20    SOFTWARE,    contains
                  step-by-step  instructions,  with  pointers  to various
                  chapters within this guide, describing how to update  a
                  TOPS-20 software system on the DECSYSTEM-20.

   Appendix B     POCKET INSTALLATION GUIDE FOR THE  DECSYSTEM-20,  is  a
                  pocket   installation   guide   for   the   experienced
                  installer.  It contains the  text  and  output  from  a
                  sample  installation  of  the  TOPS-20  software  on  a
                  DECSYSTEM-20, Model 2060.  (This appendix does not have
                  error recovery procedures.)  The steps are keyed to the
                  steps within the body of this guide that  describe  how
                  to install the TOPS-20 software on a new DECSYSTEM-20.

   Appendix C     INSTALLING TCP/IP-20, contains the steps for installing
                  TCP/IP-20,  with  pointers  to  various chapters within
                  this guide.

   Appendix D     GENERATING  A  TAILORED  BATCH  AND  SPOOLING   SYSTEM,
                  contains  the steps for generating a batch and spooling
                  (GALAXY) system tailored for your particular site.



   RELATED DOCUMENTS   RELATED DOCUMENTS

   The following manuals are valuable  as  references  while  using  this
   guide.   All  of  these  manuals  are included in the TOPS-20 Software
   Notebook Set.



                                     ix



        _______ ________ _________ ______        TOPS-20 Commands Reference Manual

        _______ ____ _________ ______        TOPS-20 EDIT Reference Manual

        _______ _______ _____ _________ ______        TOPS-20 Monitor Calls Reference Manual

        _______ __________ _____        TOPS-20 Operator's Guide

        _______ __________ _______ ________ _________ ______        TOPS-20 Operator's Command Language Reference Manual

        _______ ______ _________ _____        TOPS-20 System Manager's Guide

        _______ ______ _____        TOPS-20 User's Guide

        _______ ____ _________ _____        TOPS-20 User Utilities Guide



   USING RECOGNITION INPUT   USING RECOGNITION INPUT

   TOPS-20 offers a helpful  feature  to  prompt  you  when  you  type  a
   command.   Simply  type  the  first few characters, and then press the
   ESCape key.  This tells TOPS-20 to examine the  characters  you  typed
   and  to  complete  the  command  for  you.   If TOPS-20 recognizes the
   characters you typed, it completes as much of the command as  it  can.
   When it cannot print any more or does not recognize the characters you
   typed as part of a valid command,  TOPS-20  rings  the  terminal  bell
   (your  terminal  bell  may  be  a  buzzer)  and  waits for you to type
   additional characters.  If you type part of a command that means  more
   than one thing to TOPS-20, it rings the terminal bell to indicate that
   it needs more information.  Using the ESCape key in these ways is  how
                                      recognition input   you use the TOPS-20 feature called recognition input.

   When you use recognition input, TOPS-20  also  prints  some  words  in
   parentheses.   These  words,  called quidewords, make the command more
   readable and also tell you what kind of argument TOPS-20  expects  you
   to type.

   In this guide, commands are shown as complete words  followed  by  the
   appropriate arguments.  For example:

         _____ _____________ _____        $BUILD PS:<OPERATOR> <RET>

   If you use recognition input for this command, it looks like this:

            _____            <ESC>
              |
         _____                  _____________ _____        $BUILD (DIRECTORY NAME) PS:<OPERATOR> <RET>

   Using recognition input provides the guidewords (DIRECTORY NAME).

   Here is another example:


                                     x



         ____ ___________________ _____________________ _____        $COPY PS:<SYSTEM>FILE.CMD PS:<OPERATOR>FILE.CMD <RET>

   Using recognition input, the command looks like this:

           _____                      _____           <ESC>                      <ESC>
             |                          |
         ____        ___________________      _____________________ _____        $COPY (FROM) PS:<SYSTEM>FILE.CMD (TO) PS:<OPERATOR>FILE.CMD <RET>

   If you type accurately, the command lines shown in this guide will  be
   accepted and interpreted correctly by TOPS-20.  If you choose, you can
   use recognition input.  In most cases, if you  press  the  ESCape  key
   after  you  type  a  command  or  an  argument,  TOPS-20  will provide
   guidewords or instruct you to press the RETURN key.

   Recognition  input  offers  several  advantages.    First,   you   can
   double-check  your typing, because the completed command as printed by
   TOPS-20 verifies that your  typing  has  been  interpreted  correctly.
   Second,  you  can  minimize  typing, because you need only type enough
   characters to make a unique match with a  command  or  argument.   And
   third,   TOPS-20   prompts  your  next  response,  because  it  prints
   guidewords in parentheses.



   HOW TO USE THIS GUIDE   HOW TO USE THIS GUIDE

   Before using this guide, be  familiar  with  the  information  in  the
   _______  ______  _____        _______  ______ _________ _____   TOPS-20  User's  Guide,  the  TOPS-20  System Manager's Guide, and the
   _______ __________ _____   TOPS-20 Operator's Guide.

   If you are installing a new system, read Chapters 1 through 7.  If you
   are  updating an existing TOPS-20 system, read Appendix A.  If you are
   installing a system with TCP/IP capability, read Appendix C.   If  you
   are generating a tailored GALAXY, read Appendix D.

   The following conventions are used in this guide:

        ______              _________        Symbol              Indicates

        <RET>               The RETURN key.

        <ESC>               The ESCape (ESC,  ALT,  ALTMODE,  or  PREFIX)
                            key.

                                               __        $                   The ENABLEd prompt or the echo of the  ESCape
                            key.

        $$                  The subcommand prompt.

        <CTRL/\>            Pressing  the  CTRL  (CONTROL)  key  and  the
                            backslash  key simultaneously.  The backslash
                            key is located near the key labeled  LINEFEED


                                     xi



                            or LF on your console terminal (CTY).

        <CTRL/x>            Pressing the CTRL (CONTROL) key  and  another
                            key simultaneously.

        ^x                  The echo of <CTRL/x>.  For example,  pressing
                            <CTRL/Z>  echoes  as  ^Z.  Note that pressing
                            <CTRL/x> does not always echo with ^x on your
                            terminal.  For example, <CTRL/\> has no echo.

        @                   The TOPS-20 prompt.

        UPPERCASE           Actual input required in  a  command  string.
                            You must type an uppercase element in full or
                            with  an  abbreviation  acceptable   to   the
                            system.

        lowercase           An input variable in a  command  string  (for
                            example,   name   or   number).    These  are
                            variables that you must determine.

        Spaces              Separate elements of a command.  Spaces  must
                            be input where shown.

        { }                 A list of alternatives within a command.  You
                            must  specify one of the alternatives in your
                            command string.  Do not type  braces  in  the
                            actual command string.

        .                   That some of the  lines  in  the  example  or
                            figure are not shown.
        .
        .

        __________ ____        Underlined text     What you type at  your  terminal  in  command
                            examples  (in  either  uppercase or lowercase
                            characters).

        Regular Print       What the system prints or  displays  at  your
                            terminal  (in  either  uppercase or lowercase
                            characters).

                             __________   The commands you type are underlined.  If you type accurately, all you
   have  to  do  is  perform  the indicated function and verify that your
   actual terminal output  resembles  the  sample  output.   Be  sure  to
   include  the spaces shown in the command lines.  Remember that systems
   differ  in  memory  size  and  peripherals,  so  steps  that  describe
   configuring  memory,  initializing  line  printers and disk packs, and
   assigning logical unit numbers to tape drives, require you to type the
   values that are correct for your system and not the sample parameters.

   If your terminal output does not resemble  the  sample  output,  first


                                    xii



   read  ALL  of the instructions after the word "Error," then choose the
   recovery procedure that corrects your problem.

                                    NOTE

           The version and  edit  numbers  in  this  guide  could
           differ  from  those  printed on your console terminal.
           The numbers printed on your console must be  equal  to
           or greater than the numbers in this guide.

                                                _____   Time estimates are included so that you know about  how  long  a  step
   takes.  Times are estimated to the nearest minute, so don't worry if a
   step takes somewhat longer or shorter than this.









































                                    xiii












                                 CHAPTER 1

                                INTRODUCTION                                INTRODUCTION



   This introductory chapter describes collecting information before  you
   start  an  installation,  what  tools  you  will  need,  the  monitors
   available to you, and information on GALAXY.

   When installing the TOPS-20 software on a  DECSYSTEM-20  model  number
   2060  or  on  a  DECSYSTEM-20  model number 2040S, you should be using
   software package QT023, which contains the Installation tape  and  the
   Distribution tapes.  (The installation of a DECSYSTEM-20 Model 2065 is
   identical to that of  a  DECSYSTEM-20  Model  2060.   Throughout  this
   guide, Model 2060 will be used to designate both Model 2060 and 2065.)

                                    NOTE

           Before starting the  installation,  read  the  listing
                    TOPS20.BWR           labeled  TOPS20.BWR,  which accompanies your software.
           The TOPS20.BWR file describes changes in the  software
           and   installation   procedures   made  too  late  for
           inclusion in this guide.



   1.1  COLLECTING INFORMATION   1.1  COLLECTING INFORMATION

   A DIGITAL Field Service Representative will install your  DECSYSTEM-20
   hardware  and  inform  you when the system runs diagnostics correctly.
   Before he leaves, you need to obtain the following information:

         o  The channel, unit, and controller number of each disk drive

         o  A list of terminal line numbers and line speeds

         o  The serial number of each magnetic tape drive

         o  The unit number and type of each line printer





                                    1-1
                                INTRODUCTION                                INTRODUCTION


   1.1.1  Disk Drives   1.1.1  Disk Drives

   You need to know the channel, unit, and controller number of each disk
   drive,  and  whether  it is dual-ported.  The controller number for an
   RP04, RP06, and RP07 is -1.  The controller number for  both  an  RA60
   and  RA81  is 7.  RP20 disk drives have a different controller number.
   The unit number is located on the display panel on the drive.

   The DECSYSTEM-20 dual-ported disk drives are connected to both the CPU
   and   the   front-end  processor.   In  a  common  file  system  (CFS)
   environment,  dual-ported  disks   may   be   connected   to   another
   DECSYSTEM-20.   When  doing  an  installation,  these  disks should be
   ported to one system or the other.  It is an error if two  dual-ported
   drives  with  the  same  unit  number  are  connected to the front-end
   processor.  Remember that it is possible  for  RP04,  RP06,  and  RP07
   disks  to be dual-ported to two different channels on the same system.
   The procedures in this guide assume that the unit  on  which  you  are
   installing  the front-end software is Unit 0.  Use the following chart
   to record the necessary information.


                                ____ ______                                Disk Drives

             Type  Channel #  Unit #  Controller #  Dual-Ported ?

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------

             ----  ---------  ------  ------------  -------------



   1.1.2  Terminal Lines   1.1.2  Terminal Lines

   You need a list of terminal line numbers and line speeds.   Use  these
   numbers  in  Section  3.3.1  when you set the default terminal speeds.
   Also, find out which lines are remote  so  that  you  can  define  the


                                    1-2
                                INTRODUCTION                                INTRODUCTION


   remote  lines  as described in Section 3.3.2.  Use the following chart
   to record this information.


                                    _____                                    Lines

                      Auto                        Auto
             Line #   Speed   Remote?    Line #   Speed   Remote?

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

             ------   -----   -------    ------   -----   -------

                                    NOTE

           The word Auto over the word Speed  declares  that  the
           line is an autobaud line (see Section 3.3.2).



   1.1.3  Magnetic Tape Drives   1.1.3  Magnetic Tape Drives

   You need to know the serial number of each magnetic tape  drive.   Use
   these  numbers  in  Section 3.3.4 to define magnetic tape logical unit
                                                         ___   numbers.  The number appearing on the thumbwheel does not  necessarily
   correspond to the logical unit number of the drive.  Use the following
   chart to record this information.


                               ________ _____                               Magnetic Tapes

             Serial #   Type   Serial #   Type   Serial #   Type

             --------   ----   --------   ----   --------   ----

             --------   ----   --------   ----   --------   ----

             --------   ----   --------   ----   --------   ----

             --------   ----   --------   ----   --------   ----

             --------   ----   --------   ----   --------   ----


                                    1-3
                                INTRODUCTION                                INTRODUCTION


             --------   ----   --------   ----   --------   ----

                                    NOTE

           The serial numbers on TU70 and/or TU71 tape drives are
           made  up  of  three factors.  These factors consist of
           the RH20  channel  number,  the  DX20  number,  and  a
           two-digit  tape  unit  number.  Assuming that the RH20
           channel number is 2, the serial number for tape unit 3
           would  be  2003.  In this example, the RH20 channel is
           the first digit (2), the DX20  number  is  the  second
           digit  (0),  and the last two digits are the tape unit
           number (03).  The serial number for a TU72 tape  drive
           can be found on the back of the tape drive.



   1.1.4  Line Printers   1.1.4  Line Printers

   You need the unit number and type of  each  line  printer.   Use  this
   information in Section 3.3.5 to initialize the line printers.  Use the
   following chart to record this information.


                               ____ ________                               Line Printers

                                                     Programmable
             Unit #      Model #     Lowercase ?     VFU ?

             ------      -------     -----------     ------------

             ------      -------     -----------     ------------

             ------      -------     -----------     ------------



   1.2  INSTALLATION TOOLS   1.2  INSTALLATION TOOLS

   You need the following tools to install  the  TOPS-20  software  on  a
   DECSYSTEM-20:

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy A

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy B

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy C

         o  The TOPS-20 Version 7.0 Installation Tape

         o  The TOPS-20 Version 7.0 Distribution Tape 1



                                    1-4
                                INTRODUCTION                                INTRODUCTION


         o  The TOPS-20 Version 7.0 Distribution Tape 2

         o  A separate tape for each optional software product  you  have
            purchased

         o  Formatted disk packs (If your disk packs are  not  formatted,
            ask  your DIGITAL Field Service Representative to format them
            for you)

                                 RP20 Disks

           If you  are  installing  the  TOPS-20  software  on  a
           DECSYSTEM-20,  Model  2040s  or 2060, that contains an
           RP20 disk subsystem, be sure you  have  Floppy  C,  as
           this  floppy  disk contains the microcode necessary to
           boot the RP20.



   1.2.1  Floppy Disks   1.2.1  Floppy Disks

   System Floppy A contains the files to boot the central processor  from
   an RP04 or RP06 disk pack.

   System Floppy B contains the  files  for  various  functions  used  to
   install and maintain the software on a DECSYSTEM-20.

   System Floppy C contains the RSX-20F Version 16-00 map  file  and  the
   RP20/DX20 microcode files.



   1.2.2  Tapes   1.2.2  Tapes

   The TOPS-20 Installation tape,  for  DECSYSTEM-20s  Models  2040S  and
   2060,  contains  the  TOPS-20 monitor and related programs.  The files
   are:

         o  The TOPS-20 monitor (SAVE format)

         o  The TOPS-20 command processor (SAVE format)

         o  The DLUSER program (SAVE format)

         o  DLUSER data (ASCII file)

         o  The DUMPER program (SAVE format)

         o  Four DUMPER savesets recorded at 1600 bpi  in  DUMPER  format
            for the following directories:




                                    1-5
                                INTRODUCTION                                INTRODUCTION


             -  PS:<SYSTEM> for the monitor and related programs.

             -  PS:<SUBSYS> for the system program files and  the  GALAXY
                files.

             -  PS:<UETP.LIB> for the UETP files.

   The TOPS-20 Distribution  tapes  for  all  DECSYSTEM-20s  contain  the
   TOPS-20  bundled  software.   TOPS-20 Distribution tape 1 contains one
   DUMPER saveset recorded at 1600 bpi in DUMPER  format.   This  saveset
   contains  source  files  needed to build the software in the directory
   <SUBSYS>, except for the monitor and the TOPS-20 command processor.

   TOPS-20 Distribution tape 2 contains three DUMPER savesets recorded at
   1600 bpi in DUMPER format.

         o  Saveset 1 contains documents about the software.

         o  Saveset 2 contains language source files.

         o  Saveset 3 contains GALAXY source files.

                                    NOTE

           The term "bundled software" refers to the contents  of
           the  Installation  and  Distribution  tapes considered
           together, or to the contents of the Distribution tapes
           alone.   The  term  "unbundled software" refers to the
           contents of the tapes for optional software products.



   1.3  THE TOPS-20 MONITORS   1.3  THE TOPS-20 MONITORS

   Two monitors  are  distributed  with  the  TOPS-20  software  for  the
   DECSYSTEM-20, Models 2040S and 2060.  They are:

        2060-MONBIG.EXE

        2060-MONMAX.EXE

   Read Chapter 3 for descriptions of these monitors.   The  installation
   will  proceed more smoothly if you take time now to choose the monitor
   you want to use.



   1.4  THE BATCH AND SPOOLING SYSTEM   1.4  THE BATCH AND SPOOLING SYSTEM

   Your TOPS-20 software system initialization includes a standard GALAXY
   batch  and  spooling system.  If you need a special batch and spooling
   system, first install the standard system; then see Appendix D of this


                                    1-6
                                INTRODUCTION                                INTRODUCTION


   manual for instructions on how to build your own specialized batch and
   spooling system.




















































                                    1-7












                                 CHAPTER 2

                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM



   This chapter describes how to create a new TOPS-20 file system on  the
   DECSYSTEM-20.   To  create  a new file system, you must load and start
   the TOPS-20 monitor, initialize the file system, restart the  monitor,
   and restore the bundled software from tape.

                _____ _____ __________ _______ _ ___ ______                STOP: These Procedures Install a New System

           Follow the procedures  in  this  chapter  if  you  are
           installing TOPS-20 software on a new system, or if you
           are creating a new file system on a set of disk packs.
           Use  Appendix  A  to  update  TOPS-20  software  on an
           existing system.



   2.1  CHECKING THE TOPS-20 SOFTWARE PACKAGE   2.1  CHECKING THE TOPS-20 SOFTWARE PACKAGE

   The TOPS-20 software package contains the following items:

        1.  The TOPS-20 RSX20F Version 16-00 System Floppy A

        2.  The TOPS-20 RSX20F Version 16-00 System Floppy B

        3.  The TOPS-20 RSX20F Version 16-00 System Floppy C

        4.  The TOPS-20 Installation Tape Version 7.0

        5.  The TOPS-20 Distribution Tape 1 Version 7.0

        6.  The TOPS-20 Distribution Tape 2 Version 7.0

        7.  A separate tape for each optional software product purchased

   Be sure that you have all of these items.   See  Chapter  1,  Sections
   1.2.1  and  1.2.2  for  the  contents of the floppy disks and magnetic
   tapes.



                                    2-1
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   2.2  PREPARING THE DECSYSTEM-20 FOR INSTALLATION   2.2  PREPARING THE DECSYSTEM-20 FOR INSTALLATION

   You prepare the system for installation by powering  it  up,  checking
   for  formatted disks, and labeling the disk packs.  You then mount the
   disk packs and turn on the disk drives; mount the  floppy  disks;  and
   mount the Installation tape.

   Perform Steps 1 through 9 to prepare for installation.


   ____ __  ____ ___ _______ _______ ___________   Step 1:  Read the listing labeled TOPS20.BWR.

   Read the listing labeled TOPS20.BWR to learn  about  any  last  minute
   changes made to the installation procedure or to the TOPS-20 software.


   ____ __  ___ ____ _______ _____ _______  ______________  __  ___  ____   Step 2:  Ask your DIGITAL Field Service  Representative  if  the  disk
            _____ ___ __________            packs are formatted.

   Ask your DIGITAL Field Service Representative if the  disk  packs  are
   formatted  for use with the DECSYSTEM-20.  If they are not, ask him to
   format them.  The packs must be formatted before you proceed  further.
   Note that you cannot use an RP20 for the system structure.


   ____ __  _____ __ ___ _______   Step 3:  Power up the system.

   Turn on the power by pressing the POWER switch if the light under  the
   word  POWER  on  the  operator's  panel  is  off.   (Do  not touch the
   emergency power switch unless you see smoke or sparks coming from  the
   system.)  The system is ready after a few seconds, and the power light
   comes on.

   Be sure that the system is completely powered on:

        1.  Check the disk drives.

        2.  Check the magnetic tape drives.  If power is off,  press  the
            rocker  switch (the white switch containing the ON/OFF light)
            on the front panel.  If you have trouble with the disk drives
            or  magnetic  tape  drives,  call  your DIGITAL Field Service
            Representative for assistance.

        3.  Check the line printers.  If power is off  for  an  LP20A  or
            LP20B printer (which has four buttons on the right of the top
            panel), reset the knee-level breaker on the lower panel.  The
            TAPE  light may be on; disregard it.  If you have an LP20F or
            LP20H printer (which has four rocker switches on the left  of
            the  top  panel),  lift  the  cover just above the lights and
            reset the breaker.  Be sure that the printer has paper.




                                    2-2
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


        4.  Turn on the console terminal (CTY).  Be sure that  it  is  on
            line and has paper.


   ____ __  _____ ___ ____ ______   Step 4:  Label the disk packs.

   This guide contains the procedures for creating the  system  structure
   for  your  system.   The  system  structure  name  can  be  up  to six
   characters and contains the files  needed  to  run  the  system.   The
   system  structure  cannot include RP20, RA81, or RA60 disk drives.  If
   the system structure is on an RP07  disk  drive,  the  front-end  file
   system must reside on a RP04 or RP06 dual-ported disk drive.

   Decide how many packs you  will  have,  and  assign  them  consecutive
   "logical  unit  numbers," starting with 0.  These are the logical pack
   numbers referred to in Step 25.  Identify each pack by  writing  these
   numbers  with a felt-tip pen on the pack cover with a gummed label.  A
   sample of the format of the label is:

        TOPS-20 Disk Pack
        Structure ID:  structure name
        Logical Unit:  n

                                  CAUTION

           __ ___ ___ _ ______ _____ __ ___ _______ __  ___  ____           Do not use a gummed label on the surface of  the  pack
           ______           itself,  because  it  can  spin  off  and cause severe
           damage to the drive.


   ____ __  _____ ___ ____ __ ____ ____ _____   Step 5:  Mount the RP04 or RP06 disk pack.

   Mount the disk packs on the proper drives.  RP04 and RP06  disk  packs
   are similar in appearance but can be distinguished by the name RP04 or
   RP06 written on the upper surface of the pack.  Make  sure  you  place
   one  pack  on  the drive that is unit 0, dual-ported, and connected to
   the front end.  The installation procedure stores the  files  used  by
   the  front  end on this pack.  After the installation is complete, you
   can dismount  the  disk  packs  to  clean  and  maintain  the  drives.
   However, during system operation, the pack that contains the front-end
   files must be on dual-ported drive 0 as it was during installation.

                                    NOTE

           RP07 and RP20 disk packs are non-removable.  To  mount
                                     ______ ______ _____           an RA60 disk pack see the HSC-50 User's Guide.

   Be careful when mounting a disk pack because the drive  shaft  can  be
   damaged if the pack is jammed off center into the drive.  Follow these
   instructions when mounting a pack:




                                    2-3
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


        1.  If another RP04 or RP06 disk is already mounted on the  drive
            and spinning, do the following:

            a.  Press the START/STOP button  and  wait  until  the  drive
                stops.

            b.  Push the door back.  Slide the pack cover down  over  the
                pack.

            c.  Turn the cover handle counterclockwise a few turns  until
                it  turns  freely.   Gently lift the pack vertically.  If
                there is any resistance, turn the handle a few more turns
                counterclockwise and lift again.

            d.  Lift the pack out of  the  drive  and  place  it  on  the
                protective  bottom  cover.  Be sure that the cover clicks
                closed.

        2.  Pick up the pack to be  mounted  and  remove  the  protective
            bottom cover by squeezing the handle of the bottom cover.

                                       CAUTION

                    If you insert a  pack  without  removing  the
                    bottom  cover,  you  will be unable to use or
                    remove the pack.

        3.  Gently lower  the  pack  vertically  into  the  drive,  being
            careful  not  to  hit  the sides of the drive.  Keep the pack
            centered in the drive while lowering it.

        4.  Turn the handle clockwise about two  full  turns.   You  will
            feel  a  resistance  roughly equal to the power steering on a
                                                            ____  _______            car.  When the resistance increases noticeably, stop  turning
            or damage will result.

        5.  Lift off the cover vertically.

        6.  Close the door to the drive.

        7.  Start the drive by pressing the START/STOP button.  The  disk
            is  ready  to  be used when the READY light comes on.  (On an
            RP06 the DOOR LOCKED light ensures that the disk  is  mounted
            properly.)

        8.  Be sure that the drive is not write  protected.   The  switch
            labeled WRITE PROTECT must be off.

                                       CAUTION

                    Do not leave a disk pack or magnetic tape  on
                    top  of a disk drive.  The vibration from the


                                    2-4
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


                    drive can cause these items to  fall  to  the
                    floor,   causing  expensive  and  irreparable
                    damage.


   ____ __  _____ ___ __________ ______ ________ __ ___ ____ ______   Step 6:  Check the CONTROLLER SELECT switches on the disk drive.

   Be sure that the CONTROLLER SELECT switch on dual-ported  drive  0  is
   set to A/B and that every other drive has the CONTROLLER SELECT switch
   set to A.  To change the CONTROLLER SELECT switch, set the  switch  to
   the  desired  position  and  press  the STOP button to cycle the drive
   down.  When the drive has stopped spinning, press the START button and
   wait for the READY light to come on.


   ____ __  _____ ______ ______ _ __ _____ __   Step 7:  Mount System Floppy A in drive 0.

                                 System Floppy A   Place the floppy disk labeled System Floppy A in the left floppy drive
   (drive  0).   To  mount  a floppy disk, hold the floppy disk with your
   thumb on the label.  Then with your thumb and the label facing upward,
   slide the floppy disk into the floppy drive until it contacts the back
   of the drive and stops.  Press down the bar until it clicks.

                                  CAUTION

           Make sure that the paper directory that  is  sometimes
                                              ___           included  with  the floppy disk is not sticking to the
           back of the floppy disk.  Failure to do so will damage
           the floppy disk and the floppy disk drive.


   ____ __  _____ ______ ______ _ __ _____ __   Step 8:  Mount System Floppy B in drive 1.

   In the right floppy drive (drive 1), place  the  floppy  disk  labeled
   System Floppy B   System Floppy B.

                                    HINT

           Be sure that you have mounted the floppy disks in  the
           correct drives, or problems will develop in Step 12.


   ____ __  _____ ___ ____________ ____ __ ______   Step 9:  Mount the Installation tape on MTA0:.

   Mount the correct version of the Installation tape  for  your  system.
   (See  Chapter  1  for the correct Installation tape for your system.) 
   Remove the write ring (if present)  from  the  magnetic  tape  labeled
   TOPS-20  Installation  Tape   TOPS-20  Installation  Tape and mount the tape on drive 0.  Drive 0 is
   the lowest unit on  the  lowest  channel  on  the  lowest  TM03,  TM02
   controller   or   DX20   controller.    (Your  DIGITAL  Field  Service
   Representative gives you this information.)  If you  cannot  determine
   which  drive is drive 0, make sure that all drives are off line except


                                    2-5
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   the one you want to use.

                                  CAUTION

           The logical unit number for a magnetic tape  drive  is
           ___           not  determined by the numbered thumbwheel on the left
           side of TU45 drives.  The numbered thumbwheel  is  the
           slave  number  of the drive.  Never change the setting
           of this thumbwheel.

   To mount a reel of tape on a TU45 tape drive:

        1.  Place the reel on the top hub with the labeled  side  of  the
            tape facing you.

        2.  Lock the reel on the hub by pressing the rocker in the center
            of the hub.

        3.  Thread the tape through the slot in front of the  tape  heads
            by  following  the  arrows.   Move  the head shields back for
            easier access to the tape slot.

        4.  Wind the tape one turn clockwise onto the take-up reel.

        5.  Press the LOAD button.  The tape  slowly  advances  onto  the
            take-up  reel and moves to the logical beginning of the tape.
            If the  drive  overshoots  the  beginning  of  the  tape,  it
            repositions itself.

        6.  Make sure the ON LINE button is lit; if it is not, press  the
            ON LINE button.

   To mount a reel of tape on a TU77 or TU78/TU79 tape drive:

        1.  Place the reel of tape on the top hub with the  labeled  side
            of the tape facing you.

        2.  Lock the reel on the hub by pressing the rocker in the center
            of the hub.

        3.  Press, in order, the RESET and LOAD  buttons.   The  tape  is
            wound  counterclockwise a few turns.  Then the tape leader is
            threaded  automatically  through  the  slot  near  the  upper
            right-hand corner of the drive, and the tape is positioned at
            the logical beginning of tape.

        4.  Press the ON LINE button.

   On completion, the LOAD, ON LINE, and FILE PROTECT (FPT) lights should
   be  on, indicating that the tape is positioned at the beginning.  When
   the FILE PROTECT light is on, the system cannot write on the tape.  If
   the  FILE PROTECT light is not on, remove the write ring from the back


                                    2-6
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   of the tape.

   To mount a reel of tape on a TU72 tape drive:

        1.  Place the reel of tape on the rightmost hub with the  labeled
            side of the tape facing you.

        2.  Thread  the  tape  leader  down  the   slot   until   it   is
            approximately three inches in front of the read/write head.

        3.  Press, in order, the RESET, LOAD,  and  START  buttons.   The
            tape leader is threaded automatically on the take-up reel and
            the tape is positioned at the logical beginning of tape.



   2.3  LOADING AND STARTING THE TOPS-20 MONITOR   2.3  LOADING AND STARTING THE TOPS-20 MONITOR

   To create the TOPS-20 file system, you must:

        1.  Load the front-end monitor from the floppy  disks.   Use  the
            front end to initialize the central processor and memory.

        2.  Use the front-end monitor to load the TOPS-20  Magnetic  Tape
            Bootstrap  (MTBOOT)  program  from  System  Floppy A into the
            central processor.

        3.  Use MTBOOT to load the TOPS-20  monitor  from  magnetic  tape
            into memory.

        4.  Use MTBOOT to start the TOPS-20 monitor at  the  file  system
            initialization routine.

   Perform steps 10 through 21 to load and start the TOPS-20 monitor.


   ____ ___  _____ ___ _________ ____ ______ __ ___ ______ _________   Step 10:  Place the front-end HALT switch in the ENABLE position.

   Open the second door from the left side of the DECSYSTEM-20,  directly
   under   the  DECSYSTEM-20  control  panel,  to  access  the  front-end
   switches.

   Be sure that the front-end HALT switch is in the ENABLE position.   If
   the switch is in the HALT position, move it up to the ENABLE position.
   When the HALT switch is in the HALT position, the front end  will  not
   operate.


   ____ ___  ___ ___ ______ ________ __ ______ ________   Step 11:  Set the switch register to 000007 (octal).

   The front-end control panel has 16 switch register switches.  Set them
   to  000007 (octal) by setting switches 2, 1, and 0 up, and leaving the


                                    2-7
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


                            _______  __________  _____   rest  down.   (See  the  TOPS-20  Operator's  Guide  for  a   detailed
   description of all switches.)

   Booting the front end from a floppy disk with the switch register  set
   to  000007  causes  the front-end monitor to run the central processor
   initialization dialog.  This loads the central processor microcode and
   configures central processor memory.


   ____ ___  ____ ______ ___ _____ ___ ______ ________ _______   Step 12:  Hold ENABLE and press the SWITCH REGISTER button.

   Hold ENABLE and press the SWITCH REGISTER button on the control  panel
   (Figure  2-1).   This  loads  the  front-end  monitor  and  starts the
   initialization dialog.  The system prints:

        RSX-20F VB16-00 12:00 3-Mar-88

        [SY0: redirected to DX0:]
        [DX0: mounted]
        [DX1: mounted]
        KLI -- VERSION VB16-00 RUNNING
        KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
        KLI> 

   where:

        Item                          Identifies        Item                          Identifies

        RSX-20F             The name of the front-end monitor.
        VB16-00             The version of the front-end monitor.
        12:00 3-Mar-88      The time and date that the front-end  monitor
                            was built.
        SY0:                The area from which the front end obtains its
                            files.   If  SY0:  is redirected to DX0:, the
                            front end obtains the files from floppy drive
                            0.  If SY0:  is redirected to DB0:, the front
                            end obtains the files from disk drive 0.
        KLI VB16-00         The name and version of the central processor
                            initialization dialog.
        KLI>                The  prompt   for   the   central   processor
                            initialization dialog.

   Error:    If the system does not print the above heading, be sure that
             the  floppy  disks  are mounted in the proper drives and the
             HALT switch is in the ENABLE position.  Then retry Step 12.

                                    NOTE

           The version and edit  numbers  in  this  manual  could
           differ  from the numbers printed on your console.  The
           numbers printed on your console must be  equal  to  or
           greater than the numbers in this manual.


                                    2-8
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 13:  Type YES and press the RETURN key.

   To enter the central processor initialization  dialog,  type  YES  and
   press  the RETURN key.  Following this, if you answer either NO or YES
   to this  question,  you  will  see  a  description  of  your  system's
   hardware.  First comes the serial number (S/N) of the CPU, followed by
   its type and power line frequency (either 50 or 60 Hertz).  Then comes
   a  list of hardware options present on your system.  If an item is not
   present, it will not be listed.  The example below shows all available
   options.   Following  this,  the system prints KLI -- RELOAD MICROCODE
   [YES,VERIFY,FIX,NO]?.

        KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
            ___ _____        KLI>YES <RET>
        KL1 -- KL10 S/N: 2102., MODEL B, 60 HERTZ
        KL1 -- KL10 HARDWARE ENVIRONMENT:
                MOS MASTER OSCILLATOR
                EXTENDED ADDRESSING
                INTERNAL CHANNELS
                CACHE


        KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
        KLI>

   Error:    If the system does not print the above heading, be sure that
             the  floppy  disks  are  mounted  in the proper drives, then
             return to Step 12.

                                    NOTE

           For a DECSYSTEM-20 Model 2065, the system prints:

                KLI -- SELECT PAGE TABLE [FILE,BOTH,0,1]?
                KLI>

           A Model 2065 has two page tables, whereas there is one
           page  table  in  a Model 2060.  Answer BOTH to utilize
           this additional page table.

                    ____ _____                KLI>BOTH <RET>
                KLI -- PAGE TABLE SELECTED: BOTH
                KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
                KLI>

                                 DELETE KEY

           If you make a typing error, press the  DELETE  key  to
           erase  a single character at a time.  Type <CTRL/U> to
           delete the entire line.




                                    2-9
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   ____ ___  ____ ___ ___ ___ _____ ___ ______ ____   Step 14:  Type YES KLX and press the RETURN key.

   To load the central processor microcode, type YES KLX  and  press  the
   RETURN  key.   After 30 seconds, during which the floppy drives click,
   the microcode is loaded and the system prints KLI -- MICROCODE VERSION
   2.1[442]     LOADED     followed     by    KLI -- RECONFIGURE    CACHE
   [FILE,ALL,YES,NO]?.

        KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
            ___ ___ _____        KLI>YES KLX <RET>
        KLI -- MICROCODE VERSION 2.1[442] LOADED


   ____ ___ _____   Step 15: STOP.

   Go to Step 16 if the system prints:

        KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?

   Go to Step 17 if the system prints:

        KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?
        KLI>


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 16:  Type ALL and press the RETURN key.

   To reconfigure the central processor cache, type  ALL  and  press  the
   RETURN  key.   Upon  receiving  this  reply, the system configures all
   available cache.  After the  configuration  is  complete,  the  system
   prints KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?.

            ___ _____        KLI>ALL <RET>
        KLI -- ALL CACHES ENABLED
        KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?
        KLI>

   Error:    If the system does not print one of the headings  above,  be
             sure that the floppy disks are mounted in the proper drives,
             then return to Step 12.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 17:  Type ALL and press the RETURN key.

   To configure the central processor memory,  type  ALL  and  press  the
   RETURN  key.   This answer configures all available memory in the most
   useful manner and then prints a message indicating the results.  These
   results  will vary, depending on the type of hardware you have.  Check
   the two sample outputs below to see which one pertains to your system.
                _______   __________   _____   (See   the   TOPS-20   Operator's   Guide   for   details   on  memory
   configuration.)  After  the  configuration  is  complete,  the  system
   prints KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?.


                                    2-10
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


        KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?
            ___ _____        KLI>ALL <RET>

   Depending on the size of your system, your output will resemble one of
   the following:

        LOGICAL MEMORY CONFIGURATION
          ADDRESS  SIZE  INT  TYPE  CONTROLLER
         00000000  768K  4    MF20   10

        KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?

        __        or

        LOGICAL MEMORY CONFIGURATION
          ADDRESS SIZE  INT  TYPE  CONTROLLER
         00000000 128K   4   MB20      0 & 1
         00400000 512K   4   MF20      10
         02400000 256K   4   MF20      14
         03400000 3200K        NON-EXISTENT

        KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?

   Error:    If the system does not print a heading  similar  to  one  of
             those  above,  be  sure  that  the  correct floppy disks are
             mounted in the proper drives, then return to Step 12.

                                    NOTE

           The MOS memory configurator is capable of  configuring
           4096K   of   memory.    The   message  concerning  the
           NON-EXISTENT memory can be ignored.  This  message  is
           specifying  the difference between the actual physical
           memory and 4096K.


   ____ ___  ____ ______ ___ _____ ___ ______ ____   Step 18:  Type MTBOOT and press the RETURN key.

   After the prompt KLI>, type MTBOOT and press the RETURN key.

        KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
            ______ _____        KLI>MTBOOT <RET>
        KLI -- WRITE CONFIGURATION FILE [YES,NO]?
        KLI>

   The  system  now  asks  whether  it   should   write   the   front-end
   configuration  file KL.CFG, which describes your current configuration
   and the method you used to bring up the system (disk, floppy disks, or
   magnetic  tape).   If this file is written, the front end will attempt
   to use the same method  and  the  same  configuration  when  you  next
   install  or  reload  the  system.   The default answer to the question
   WRITE  CONFIGURATION  FILE  [YES,NO]?   is  YES.   Therefore,  it   is


                                    2-11
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   recommended  that  you  answer  NO  to  this question for the present.
   Later, when you have a front-end configuration that should be recorded
   (Step  148  in  Chapter 4), the configuration file will be written for
   you.


   ____ ___  ____ __ ___ _____ ___ ______ ____   Step 19:  Type NO and press the RETURN key.

   After the prompt KLI>, type NO and press the RETURN key.

        KLI -- WRITE CONFIGURATION FILE [YES,NO]?
            __ _____        KLI>NO <RET>
        KLI -- BOOTSTRAP LOADED AND STARTED

        BOOT V11.0(315)

        MTBOOT>

   The front end loads the central processor memory  with  the  bootstrap
   program  from  the  floppy  mounted  on  drive  0, and then starts the
   bootstrap  program.   When  at  bootstrap  command  level  (about   45
   seconds), the system prints MTBOOT>.

   Error:    If the system prints:

                  KLI> -- ?BOOTSTRAP LOAD FAILED

             or any other error message, you may have  the  wrong  floppy
             disk  mounted  in  drive  0  or you may not have stopped the
             central processor.  Type <CTRL/\>.  (The backslash  key  (\)
             is  near  the  LINEFEED  key.)  After 10 seconds, the system
             prints PAR>.  Type the command ABORT and  press  the  RETURN
             key.   The  system  prints  PAR%,  which  means  the central
             processor has stopped.  Go back to Step 12.

             If the system prints the following message exactly:

                  KLI -- ?BOOT FILE NOT FOUND
                  KLI -- ?BOOTSTRAP LOAD FAILED
                  KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                  KLI>

             you either have the wrong floppies mounted or  you  mistyped
             the  name  of  the  bootstrap.   Go back to Step 13.  If the
             error recurs, make sure that you  have  mounted  the  proper
             floppy  disks.   If  the  error  continues,  contact DIGITAL
             Software Support.


   ____ ___  ____ __ ___ _____ ___ ______ ____   Step 20:  Type /L and press the RETURN key.

   To load the TOPS-20 monitor from magnetic tape into  memory,  type  /L


                                    2-12
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   and  press  the  RETURN  key.  The system rewinds the tape on drive 0,
   loads the resident monitor, skips a line, and prints MTBOOT>.

               __ _____        MTBOOT>/L <RET>
        [BOOT: LOADING] [OK]

        MTBOOT>

                               DX20 Microcode

           You  will  receive  a  message  concerning  the   DX20
           microcode  ONLY  if  you  are  installing  the TOPS-20
           software on a DECSYSTEM-20 with an RP20 tape  or  disk
           controller.

   Error:    If you made a typing error and pressed the RETURN  key,  the
             system prints MTBOOT> again.  Reissue the correct command.

             If you did not put the magnetic tape  on  line,  the  system
             prints:

                  ?NO RDY DRIVE
                  MTBOOT>

             Place the tape on line and give the /L command again.

             If the system prints one of these messages:

                  ?BAD FIL FMT
                  ?BAD EXE DIR

             do the following:

             1.  Make sure that you  have  mounted  the  correct  TOPS-20
                 Installation  tape  on  drive  0 and that all other tape
                 drives are off line.

             2.  Rewind the tape and try giving the /L command again.

             If the error recurs, call DIGITAL Software Support.

   Error:    If the system does not print MTBOOT>, you probably  mistyped
             the name MTBOOT.  The system then prints:

                  KLI -- ?BOOT FILE NOT FOUND
                  KLI -- ?BOOT LOAD FAILED
                  KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                  KLI>

             If the floppy disks  are  mounted  properly  and  you  typed
             MTBOOT  properly,  go back to Step 12.  If the error recurs,
             contact DIGITAL Software Support.


                                    2-13
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


             The system will use the  magnetic  tape  that  is  on  line.
             Check  to  see if you have more than one tape drive on line.
             If so, press the ON LINE button to take each unwanted  drive
             off line.  Try typing /L again.

                                    NOTE

           The following procedure is  intended  for  use  during
           installation  only.   If  you are trying to bring up a
           monitor that has already been installed on  a  set  of
           TOPS-20  disk packs, see Chapter 5 of this guide or to
                _______  __________   _____           the  TOPS-20  Operator's   Guide   for   the   correct
           procedure.


   ____ ___  ____ _____ ___ _____ ___ ______ ____   Step 21:  Type /G143 and press the RETURN key.

   To start the TOPS-20 file-system initialization  routine,  type  /G143
   and  press  the  RETURN key.  The system starts the TOPS-20 monitor at
   the file-system initialization routine.

               _____ _____        MTBOOT>/G143 <RET>

        [FOR ADDITIONAL INFORMATION TYPE "?" TO ANY OF THE FOLLOWING 
        QUESTIONS.]

        DO YOU WANT TO REPLACE THE FILE SYSTEM ON THE SYSTEM 
        STRUCTURE?

   Error:    If you make  an  error  and  the  system  reprints  MTBOOT>,
             reissue the correct command.

             If the system does not print MTBOOT>, check your typescript.
             Go back to Step 12.

             If the system prints:

                  ?BAD EXE DIR

             you probably typed the wrong command.  Try giving the  /G143
             command  again.   If  you  still  get  an  error, go back to
             Step 12.



   2.4  INITIALIZING THE TOPS-20 FILE SYSTEM   2.4  INITIALIZING THE TOPS-20 FILE SYSTEM

   To initialize the TOPS-20 file system, you must define the name of the
   system structure and the number and location of each disk pack that is
   part of the system structure.

   The steps in this  section  initialize  the  TOPS-20  file  system  by


                                    2-14
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   creating:

        1.  New home blocks (which contain pointers to the  beginning  of
            the file system).

        2.  The directory <ROOT-DIRECTORY> (which  contains  pointers  to
            all the directories in the system).

        3.  The    directories    <SYSTEM>,    <SUBSYS>,    <NEW-SYSTEM>,
            <NEW-SUBSYS>,  <UETP>,  <UETP.LIB>,  <UETP.RUN>,  <ACCOUNTS>,
            <SYSTEM-ERROR>, <OPERATOR>, and <SPOOL>.

        4.  Space for the front-end file system.

        5.  The  system  swapping  space  (the  area  allocated  for  the
            movement, by the monitor, of pages between memory and disk).

                                    NOTE

                   _______ ______ _________ _____           See the TOPS-20 System Manager's Guide for a  detailed
           explanation of all the above.

   Perform Steps 22 through 36 to initialize the TOPS-20 file system.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 22:  Type YES and press the RETURN key.

   To create the system structure, type YES and press the RETURN key.

        [FOR ADDITIONAL INFORMATION TYPE "?" TO ANY OF THE FOLLOWING
        QUESTIONS.] 

        DO YOU WANT TO REPLACE THE FILE SYSTEM ON THE SYSTEM 
                   ___ _____        STRUCTURE? YES <RET> 

        DO YOU WANT TO DEFINE THE SYSTEM STRUCTURE?


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 23:  Type YES and press the RETURN key.

   To write the home blocks for each unit in the system  structure,  type
   YES and press the RETURN key.

                                                    ___ _____        DO YOU WANT TO DEFINE THE SYSTEM STRUCTURE? YES <RET>

        HOW MANY PACKS ARE IN THIS STRUCTURE:


   ____ ___  ____ ___ ______ __ _____ ___ _____ ___ ______ ____   Step 24:  Type the number of packs and press the RETURN key.

   Count the number of disk  packs  you  plan  to  have  in  your  system
   structure.   Type  the  answer  and press the RETURN key.  The example


                                    2-15
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   uses 1.

                                              _ _____        HOW MANY PACKS ARE IN THIS STRUCTURE: 1 <RET>

        ON WHICH "CHANNEL,CONTROLLER,UNIT" IS LOGICAL PACK # 0 MOUNTED:

   Error:    If you type the wrong number of disk packs,  type  <CTRL/\>.
             After  the  system  prints PAR> (10 seconds), type ABORT and
             press the RETURN key.  The system  prints  PAR%,  indicating
             that   the  central  processor  has  stopped.   Go  back  to
             Step 12 and start again.


   ____ ___  ____ _  ___ ___ _____ ___ ______ _____   Step 25:  Type ?  (do not press the RETURN key).

   You must inform the system of the location of each disk pack  that  is
   to  be in the public file system.  If you are not sure of the channel,
   controller, and unit numbers of each disk pack, type ?.   This  causes
   the system to print the channel and unit number of each disk drive.

                                    NOTE

           The example shows  channel  and  unit  numbers  for  a
           specific  configuration.   The numbers for your system
           will probably be different, as they are  generated  by
           your own system configuration.

                                                                        ?        ON WHICH "CHANNEL,CONTROLLER,UNIT" IS LOGICAL PACK # 0 MOUNTED: ?
        [ENTER A TRIPLE OF NUMBERS SEPARATED BY COMMAS THAT SPECIFY THE
         CHANNEL, CONTROLLER, AND UNIT UPON WHICH THE APPROPRIATE PACK IS
         MOUNTED. THE FOLLOWING IS A LIST OF VALID CHANNEL, CONTROLLER,
         AND UNIT NUMBERS:
        1,-1,0 ;TYPE=RP06,DUAL PORT
        1,-1,1 ;TYPE=RP06,OFFLINE,DUAL PORT
        1,-1,2 ;TYPE=RP04,OFFLINE,DUAL PORT
        1,-1,3 ;TYPE=RP07,OFFLINE
        ]

        ON WHICH "CHANNEL,CONTROLLER,UNIT" IS LOGICAL PACK # 0 MOUNTED: 

                                    NOTE

           The controller number is  always  -1  for  all  system
           structures.

   Error:    If you followed the procedure in  Step 6  exactly,  drive  0
             will  be  listed  as  dual-ported.  Of the remaining drives,
             those that contain the packs that  are  to  be  your  system
             structure  will be listed as on line.  All other drives will
             be listed as off line.

             If a drive that you want to use is not listed,  the  drive's
             controller  select  switch is probably set to B.  Follow the

                                    2-16
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


             procedure in  Step  6 for  changing  it  to  A.   Then  type
             <CTRL/\>.   After  10 seconds, the system prints PAR>.  Type
             ABORT  and  press  the  RETURN  key  to  halt  the   central
             processor.  Return to Step 12 and start again.

             If a drive you want to use is listed as off line, turn it on
             line  and  wait  for the READY light to come on.  Go back to
             Step 12.


   ____ ___  ____ ___ _______ _______ __________ _______ ___ ____  ______   Step 26:  Type the channel number, controller number, and unit  number
             ___ _____ ___ ______ ____             and press the RETURN key.

   Type the channel number, the controller number, and the unit number of
   the dual-ported drive, and press the RETURN key.  You must answer this
   question once for each disk pack.  If there is any problem,  ask  your
   DIGITAL  Field Service representative to give you the channel and unit
   number of each drive.  The controller number of all drives (except the
   RP20) is -1.  (The RP20 controller number cannot be -1 as it cannot be
   used in the system structure.)

        ON WHICH "CHANNEL,CONTROLLER,UNIT" IS LOGICAL PACK # 0 MOUNTED: 
        ______ _____        1,-1,0 <RET>

        DO YOU WANT THE DEFAULT SWAPPING SPACE?

   Error:    If your answer is invalid, the system prints one of  several
             messages  and  repeats  the question.  You can simply repeat
             the current step.

             If your answer is valid but is not the one you wanted,  type
             <CTRL/\>.   After  10 seconds, the system prints PAR>.  Type
             ABORT  and  press  the  RETURN  key  to  halt  the   central
             processor.  Go back to Step 12 and start again.


   ____ ___  ____ _  ___ ___ _____ ___ ______ _____   Step 27:  Type ?  (do not press the RETURN key).

   To determine the default size of the swapping space for  your  system,
   type  ?.  The system prints the default swapping space, which is 10070
   for a 2060.

   If you are planning on using a monitor other than MONBIG for the 2060,
   see  Chapter  3  Section  3.1  for  the correct swapping space for the
   monitor you choose.

                                                _        DO YOU WANT THE DEFAULT SWAPPING SPACE? ?
        [THE DEFAULT IS 10070 PAGES]

        DO YOU WANT THE DEFAULT SWAPPING SPACE?


   ____ ___  ____ ___ __ __ ___ _____ ___ ______ ____   Step 28:  Type YES or NO and press the RETURN key.

                                    2-17
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   If you want to accept the default swapping space size, type YES, press
   the RETURN key, and proceed to Step 30.

                                                ___ _____        DO YOU WANT THE DEFAULT SWAPPING SPACE? YES <RET>

        DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM?

   If you want to specify the size of the swapping  space,  type  NO  and
   press  the  RETURN  key.   (The  formula  for  determining  the proper
                                                          _______  ______   swapping space  for  your  system  is  found  in  the  TOPS-20  System
   _________  _____   Manager's  Guide.)  After you determine the size of the swapping space
   you need, proceed to Step 29.

                                                __ _____        DO YOU WANT THE DEFAULT SWAPPING SPACE? NO <RET>

        HOW MANY PAGES FOR SWAPPING?

   Error:    If you type the  wrong  answer,  type  <CTRL/\>.   After  10
             seconds,  the  system prints PAR>.  Type ABORT and press the
             RETURN  key  to  halt  the  central  processor.   Return  to
             Step 12 and start again.


   ____ ___  ____ ___ _______ ______ __ _____ ___ _____ ___ ______ ____   Step 29:  Type the decimal number of pages and press the RETURN key.

   Type the decimal number of disk pages you want to assign for  swapping
   and press the RETURN key.  This option is provided so you can increase
   the amount of swapping space in the future.  The default size  is  the
   maximum  amount  that  your present monitor will use for swapping.  If
   you decide to increase the amount used by the monitor in  the  future,
   you  must already have assigned that much space on the disk during the
   installation procedure.  Otherwise, you must repeat  the  installation
   procedure  and  specify  the larger number.  The system will round the
   number of pages specified up to an integral number of cylinders on the
   disk.

   To check the number  of  swapping  pages  for  the  monitor  you  have
   selected, see Chapter 3, Section 3.1.

   For TCP/IP installations, see Appendix C, Section C.5, for the correct
   number of swapping pages for TCP/IP monitors.

                                     _ _____        HOW MANY PAGES FOR SWAPPING? n <RET>

        DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM?

   Error:  If you type an invalid number, the system prints:

               ? INVALID NUMBER OF SWAPPING PAGES FOR THIS TYPE OF DISK

           and returns to the question in Step 28.  If you type an answer
           that  is  valid  but is not the one you wanted, type <CTRL/\>.
           After 10 seconds, the system  prints  PAR>.   Type  ABORT  and

                                    2-18
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


           press  the  RETURN key to halt the central processor.  Go back
           to Step 12 and start again.


   ____ ___  ____ _  ___ ___ _____ ___ ______ _____   Step 30:  Type ?  (do not press the RETURN key).

   To determine the default size of the front-end file  system,  type  ?.
   If you already know what the default is, you can omit this step.

                                                            _        DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM? ?
        [THE DEFAULT IS 950 PAGES]

        DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM?

                                    NOTE

           If you are using an RP07  disk  drive  as  the  system
           structure,  do not reserve any pages for the front-end
           file system.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 31:  Type YES and press the RETURN key.

   Type YES, press the RETURN key, and proceed to Step 32.

                                                            ___ _____        DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM? YES <RET>

        DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA?


   ____ ___  ____ _  ___ ___ _____ ___ ______ _____   Step 32:  Type ?  (do not press the RETURN key).

   To find out how many pages are  assigned  as  the  default  boot  file
   space, type ?.  The system responds with the number of pages allocated
   for the boot file space.

                                                     _        DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA? ?
        [THE DEFAULT IS 64 PAGES]

        DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA?


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 33:  Type YES and press the RETURN key.

   It is recommended that you take the default bootstrap space.  Type YES
   and press the RETURN key.

                                                     ___ _____        DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA? YES <RET>

        DO YOU WANT TO ENABLE PASSWORD ENCRYPTION FOR THE SYSTEM
        STRUCTURE?



                                    2-19
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 34:  Type YES and press the RETURN key.

   If you want user passwords to be encrypted on the disk, type  YES  and
   press the RETURN key.

        DO YOU WANT TO ENABLE PASSWORD ENCRYPTION FOR THE SYSTEM
                    ________        STRUCTURE?  YES<RET>

        WHAT IS THE NAME OF THIS STRUCTURE?

                                    NOTE

                                                   _______ ______           Before proceeding with Step 35, see the TOPS-20 System
           _________ _____           Manager's Guide for information on naming structures.


   ____ ___  ____ ___ ____ __ ___ _________ ___ _____ ___ ______ ____   Step 35:  Type the name of the structure and press the RETURN key.

   TOPS-20 recognizes any six-character name as a valid  structure  name.
   Type  the  name of the structure and press the RETURN key.  The system
   prints a message  to  indicate  that  the  structure  is  successfully
   defined and mounted.  The following examples use PS:  as the structure
   name.

                                            ___ _____        WHAT IS THE NAME OF THIS STRUCTURE? PS: <RET>

        [STRUCTURE "PS" SUCCESSFULLY DEFINED]
        [PS MOUNTED]
        %%NO SETSPD.

   %%NO SETSPD means that the system cannot run the SETSPD program.  This
   is  expected  because  you have not yet loaded the SETSPD program into
   the file system.  This message can be printed at any time  before  the
   system requests the date and time.

   Error:    If certain error  conditions  occur  while  the  monitor  is
             mounting  the  structure  (a  drive  is write protected, for
             example), the system prints an error message followed by:

                  ?HAVE THE PROBLEMS MENTIONED ABOVE BEEN CORRECTED YET:

             When the problem has been corrected, type Y  and  press  the
             RETURN key.  Go back to Step 12.


   ____ __ _____   Step 36 STOP.

   If the system prints a message similar to:

        ?PS UNIT 0 HAS NO BAT BLOCKS
        DO YOU WANT TO WRITE A SET OF PROTOTYPE BAT BLOCKS?



                                    2-20
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   type yes and press the RETURN key.  Continue with the next step.



   2.5  RESTARTING THE MONITOR   2.5  RESTARTING THE MONITOR

   Now that the file system is initialized, you can start the  system  by
   performing Steps 37 to 43.


   ____ ___  ____ ___ ____ ___ ____ ___ _____ ___ ______ ____   Step 37:  Type the date and time and press the RETURN key.

   The system prints:

        System restarting, wait...

        ENTER CURRENT DATE AND TIME:

   Type the date and time in the format dd-mmm-yy hhmm.  Then  press  the
   RETURN  key.   Be  sure  to  enter  the  time  in 24-hour format.  For
   example, 4:30 PM on the  twelfth  day  of  March  can  be  entered  as
   12-MAR-88 1630.

                                     _________ ____ _____        ENTER CURRENT DATE AND TIME: 12-MAR-88 1630 <RET>

   The system responds by retyping the date and time.

        YOU HAVE ENTERED SATURDAY, 12-MARCH-1988 4:30PM,
         IS THIS CORRECT (Y,N)


   ____ ___  ____ _ ___ _____ ___ ______ ___ __ ___ ____ __ ________   Step 38:  Type Y and press the RETURN key if the date is correct.

   If the date and time are correct, type Y and press the RETURN key.  If
   the date and time are incorrect, type N and press the RETURN key.  The
   system again asks for the date and time.

        YOU HAVE ENTERED SATURDAY, 12-JUNE-1988 4:30PM,
                               _ _____         IS THIS CORRECT (Y,N) Y <RET>
        WHY RELOAD?

                                    CI20

           If your system configuration does  not  include  CI20,
           ignore  the  following  message  when  you  start  the
           monitor:

           BUGCHK "NOLODF" AT dd-mmm-yy hh:mm
           COULD NOT FIND CI-20 MICROCODE LOAD PROGRAM

           If you are installing CI20, you can also  ignore  this
           message, as the necessary files are not yet on disk.


                                    2-21
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 39:  Type NEW and press the RETURN key.

   Type NEW and press the RETURN key.  The text you type  following  this
   question     is     entered    into    the    system    error    file,
   PS:<SYSTEM-ERROR>ERROR.SYS.  The TOPS-20 monitor starts  running,  and
   the  system prints PROBLEM WITH <SYSTEM>ACCOUNTS-TABLE.BIN CANNOT FIND
   ERROR MESSAGE FILE - ACCOUNT VALIDATION IS DISABLED and RUNNING DDMP.

                                    NOTE

           If you do not  respond  to  the  WHY  RELOAD  question
           within  60  seconds,  the  system  assumes  OTHER  and
           continues the startup procedure.


                    ___ _____        WHY RELOAD? NEW <RET>

        PROBLEM WITH <SYSTEM>ACCOUNTS-TABLE.BIN
        CANNOT FIND ERROR MESSAGE FILE - ACCOUNT VALIDATION IS
        DISABLED 

        RUNNING DDMP


        NO SYSJOB

   The system prints the message ACCOUNT VALIDATION IS  DISABLED  because
                                                 _______ ______ _________   the  ACTGEN  program  did  not run.  (See the TOPS-20 System Manager's
   _____   Guide for more information.) The system runs DDMP and then  prints  NO
   SYSJOB  because the SYSJOB program is not stored on disk.  Ignore this
   message as SYSJOB is not needed yet.

   Error:    If  you  type  an  incorrect  string  to  the  WHY   RELOAD?
             question, the system prints the valid abbreviations and then
             prompts you again for the answer.

                                  Ethernet

           If your  system  configuration  does  not  include  an
           Ethernet,  ignore the following message when you start
           the monitor:

                BUGCHK "KNICFF" AT dd-mmm-yy hh:mm:ss
                PHYKNI - CANNOT RELOAD THE KLNI

           If you are installing an Ethernet, you can also ignore
           this  message,  as  the necessary files are not yet on
           disk.


   ____ ___  ____ _________   Step 40:  Type <CTRL/C>.



                                    2-22
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   After the system prints NO SYSJOB, type <CTRL/C> to start a job.

        NO SYSJOB

        ________        <CTRL/C>
        NO EXEC
        MX>

   The  system  prints  NO  EXEC  because  the  file  PS:<SYSTEM>EXEC.EXE
   (containing  the  TOPS-20  command  processor)  does  not  exist.  The
   command processor is not needed at this point, so ignore this message.


   ____ ___  ____ __ ____ ______  _____ ___ ______ ____   Step 41:  Type G, then MTA0:.  Press the RETURN key.

   The system is now at the miniexec command level, and you can type  any
   miniexec  command.   Use  this  command  language  to load the TOPS-20
   command processor from tape.  (Type <CTRL/U> if you want  to  erase  a
   line while at miniexec command level.)

   Type G.  The system prints ET FILE.  Type MTA0:  and press the  RETURN
   key.   The  system  skips  over  the  end of the monitor save file and
   prints the miniexec prompt MX>.

        NO EXEC
           ___ ____ _____ _____        MX>GET FILE MTA0: <RET>
        MX>

                                    NOTE

           If you are using a tape drive other than tape drive 0,
           reply  accordingly in the following steps and/or error
           recovery procedures, for example, MTA1:, MTA2:.

   Error:    If you get a question mark (?) after  issuing  the  command,
             you can ignore this message and continue with the next step.


   ____ ___  _____ ____ __ ____ ______  _____ ___ ______ ____   Step 42:  Again type G, then MTA0:.  Press the RETURN key.

   To load the TOPS-20 command processor from magnetic tape into  memory,
   type  G.  The system prints ET FILE.  Type MTA0:  and press the RETURN
   key.  The system reads the program from MTA0:  into memory and  prints
   the miniexec prompt when it is finished.

           ___ ____ _____ _____        MX>GET FILE MTA0: <RET>
        MX>

   Error:    If you get an error in the form "INTERRUPT AT location," the
             tape  could  be  bad or you may be specifying the wrong tape
             drive.  Start at Step 10 once more.  If the errors continue,
             call DIGITAL Software Support.


                                    2-23
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


             If you make a typing mistake and press the RETURN  key,  the
             system prints MX>.  Try again.


   ____ ___  ____ _ ___ _____ ___ ______ ____   Step 43:  Type S and press the RETURN key.

   To start the TOPS-20 command  processor  that  you  just  loaded  into
   memory,  type  S.  The system prints TART.  Press the RETURN key.  The
   system prints the name and version of the  TOPS-20  command  processor
   and the TOPS-20 prompt (@).

           _____ _____        MX>START <RET>

         TOPS-20 Command processor 7(4123)
        @

   Error:    If the system prints INTERRUPT AT 1, you typed  only  one  G
             command  to  the miniexec.  Repeat the command in this step.
             If you still get the error, go back  to  Step  12.   If  the
             errors continue, contact DIGITAL Software Support.

             If you receive the error message INTERRUPT AT 601772, follow
             these error recovery procedures:

             1.  Rewind  the  tape  manually  and  give   the   following
                 commands:

                         ___ ____ _____ _____                      MX>GET FILE MTA0: <RET>
                         _____ _____                      MX>RESET <RET>
                         ___ ____ _____ _____                      MX>GET FILE MTA0: <RET>
                         _____ _____                      MX>START <RET>

             2.  Proceed to Step 44.

             If you make a typing error and press  the  RETURN  key,  the
             system prints MX>.  Try again.

   Error:    If many error messages  are  repeatedly  printed,  the  tape
             could  be bad.  Press the front-end HALT switch and wait one
             minute.  Go back to Step 12.  If the errors persist, ask for
             another tape.



   2.6  CREATING SYSTEM DIRECTORIES   2.6  CREATING SYSTEM DIRECTORIES

   With the system running, you must create directories to  store  system
   files  and files for testing the system.  You create these directories
   by running the DLUSER program from tape (Steps 44 through 47).


   ____ ___  ____ ______ ___ _____ ___ ______ ____   Step 44:  Type ENABLE and press the RETURN key.


                                    2-24
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   To load files into privileged areas and to  create  directories,  give
   the ENABLE command to obtain the required capabilities.

         ______ _____        @ENABLE <RET>
        $



   ____ ___  ____ ___ _____  ___ _____ ___ ______ ____   Step 45:  Type RUN MTA0:  and press the RETURN key.

   To run the DLUSER program from the  magnetic  tape,  type  RUN  MTA0:.
   After you issue this command, the system prints the prompt DLUSER>.

         ___ _____ _____        $RUN MTA0: <RET>
        DLUSER>

   Error:    If you receive an error message, rewind the tape,  skip  two
             files,  and  reissue  this  command.   The following example
             shows how to do this for MTA0:.

                   ______ _____ _____                  $REWIND MTA0: <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 2 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DLUSER>


   ____ ___  ____ ____ _____  ___ _____ ___ ______ ____   Step 46:  Type LOAD MTA0:  and press the RETURN key.

   To load the directory structure from the tape into  the  file  system,
   type LOAD MTA0:.  After a few seconds, the system prints DONE. and the
   DLUSER prompt.

               ____ _____ _____        DLUSER>LOAD MTA0: <RET>

        DONE.
        DLUSER>

   Error:    If you mistype the command and have not pressed  the  RETURN
             key,  delete  the  entire  line by typing <CTRL/U>, and then
             reissue the command.

             If you mistyped the command  and  pressed  the  RETURN  key,
             follow the error recovery procedure in Step 45.

             If you get a group of JSYS error messages, you probably  did
             not  give  the  ENABLE  command  in  Step 44.  Type <CTRL/C>
             twice, type ENABLE, press  the  RETURN  key,  and  give  the
             following commands:

                   ______ _____ _____                  $REWIND MTA0: <RET>
                  ?Device MTA0: open on JFN 3
                              ___ _____                  %Close JFN? YES <RET>


                                    2-25
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


                   3 MTA0:     [OK]
                   ____ _____ _ _____ _____                  $SKIP MTA0: 2 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                         ____ _____ _____                  DLUSER>LOAD MTA0: <RET>

                  DONE.
                  DLUSER>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 47:  Type EXIT and press the RETURN key.

   Type EXIT to end the DLUSER program.  The system  prints  the  ENABLEd
   prompt ($).

               ____ _____        DLUSER>EXIT <RET>
        $



   2.7  RUNNING DUMPER FROM TAPE   2.7  RUNNING DUMPER FROM TAPE

   The DUMPER program places  files  from  the  magnetic  tape  into  the
   TOPS-20  file  system.   The  DUMPER  program is the fifth file on the
   Installation Tape.

   For the output from the DUMPER command FILES to print the  width  (132
   columns)  of  the  CTY paper, rather than wrap after 80 columns, enter
   the following command before starting DUMPER:

         ________ _____ ___ _____        $TERMINAL WIDTH 132 <RET>

   To run DUMPER, perform Steps 48 and 49.


   ____ ___  ____ ___ _____  ___ _____ ___ ______ ____   Step 48:  Type RUN MTA0:  and press the RETURN key.

   The DUMPER program is on the tape mounted on drive 0.  Since the  tape
   is  already  positioned  at the DUMPER program, type RUN MTA0:.  After
   the DUMPER program starts, the system prints the DUMPER prompt.

         ___ _____ _____        $RUN MTA0: <RET>
        DUMPER>

   Error:    If you get errors, the magnetic tape was either not recorded
             properly  or not positioned properly.  Rewind the tape, skip
             four files, and try again.  The following lines show how  to
             do  this  for MTA0:.  If the errors persist, contact DIGITAL
             Software Support.

                   ______ _____ _____                  $REWIND MTA0: <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>


                                    2-26
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


                  DUMPER>


   ____ ___  ____ ____ _____  ___ _____ ___ ______ ____   Step 49:  Type TAPE MTA0:  and press the RETURN key.

   Tell DUMPER which tape drive to use by typing TAPE MTA0:.  The  system
   then prints the DUMPER prompt.

               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
        DUMPER>

   Error:    If you make a typing error, reissue the command.



   2.8  RESTORING TOPS-20 BUNDLED SOFTWARE FROM TAPE   2.8  RESTORING TOPS-20 BUNDLED SOFTWARE FROM TAPE

   Restore the files for the directories  PS:<SYSTEM>,  PS:<SUBSYS>,  and
   PS:<UETP.LIB> from the tape.

   Give the DUMPER command FILES just before the RESTORE command  if  you
   want  the  system  to  print  the  file  specification of each file it
   restores.   (The  installation  takes  longer  if   you   print   this
   information.)   To  stop printing each file specification, give the NO
   FILES command after the current RESTORE command  finishes.   (See  the
   _______  ____  _________ _____   TOPS-20  User  Utilities Guide for an explanation of any messages that
   DUMPER may print on your terminal.)

                                    NOTE

           This procedure restores the files on the  Installation
           tape to a structure called PS:.  If in Step 35 of this
           guide you gave a structure name other than  PS:,  type
           the  structure  name you specified in place of PS:  in
           the following steps.  For example:

                _______ ___________ ____________ _____                RESTORE PS:<*>*.*.* FOO:<SYSTEM> <RET>

           Note that the files are being restored to a  structure
           called FOO:.

   Perform Steps 50 through 57 to restore the bundled software.


   ____ ___  ____ _______  ___________  ________________  ___  _____  ___   Step 50:  Type RESTORE  PS:<*>*.*.*  PS:<SYSTEM>*.*.*  and  press  the
             ______ ____             RETURN key.

   To copy the TOPS-20 monitor and its  related  programs  from  magnetic
   tape to disk, type the RESTORE command.  This command restores all the
   files in the first saveset to the directory PS:<SYSTEM>.  When all the
   files are restored, you return to the DUMPER prompt.



                                    2-27
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SYSTEM>*.*.* <RET>
        Saveset "SYSTEM Files for TOPS-20 V7.0"  17-Mar-88 1441
         Loading files into PS:<SYSTEM>
         End of Saveset.


         Total files restored:     26
         Total pages restored:     1765
        DUMPER>

   Error:    If you do not type the correct input structure, PS:,  or  if
             the  tape is not positioned correctly, no files are restored
             from tape.  In this  case  you  will  not  see  the  message
             "Loading  files  into  PS:<SYSTEM>."  To correct this error,
             type <CTRL/E>, give the following commands, and begin  again
             at Step 49.

                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                   Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DUMPER>

   Error:    If you do not type the correct structure and directory name,
             PS:<SYSTEM>,  the files are restored to the wrong directory.
             To correct this error, type <CTRL/E>, and give the following
             commands.   Then  reissue  the RESTORE command in this step.
             Be sure to delete and expunge the  files  in  the  incorrect
             directory.

                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                   Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                         ____ _____ _____                  DUMPER>TAPE MTA0: <RET>
                  DUMPER>


   ____ ___  ____ _______  ___________  ________________  ___  _____  ___   Step 51:  Type RESTORE  PS:<*>*.*.*  PS:<SUBSYS>*.*.*  and  press  the
             ______ ____             RETURN key.

   Restore the system program files to the directory PS:<SUBSYS> with the
   RESTORE  command.   When all the files are restored, you return to the
   DUMPER prompt.


                                    2-28
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
        Saveset "SUBSYS Files for TOPS-20 V7.0"  17-Mar-88 1442
         Loading files into PS:<SUBSYS>
         End of Saveset.


         Total files restored:     177
         Total pages restored:     4534
        DUMPER>

   Error:    If you do not type the correct input structure, PS:,  or  if
             the  tape is not positioned correctly, no files are restored
             from tape.  In this  case  you  will  not  see  the  message
             "Loading  files  into  PS:<SUBSYS>."  To correct this error,
             type <CTRL/E>, give the following commands, and begin  again
             at Step 49.

                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                   Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DUMPER>

   Error:    If you forget to type the directory PS:<SUBSYS>,  the  files
             are restored to the wrong directory.  Type <CTRL/E> and give
             the following commands to correct the error.   Then  reissue
             the  RESTORE  command  in  this step.  Be sure to delete and
             expunge the files in the incorrect directory.

                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                   Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                         ____ _____ _____                  DUMPER>TAPE MTA0: <RET>
                         ____ _ _____                  DUMPER>SKIP 1 <RET>
                  DUMPER>


   ____ ___  ____ _______  ___________  ________________  ___  _____  ___   Step 52:  Type RESTORE  PS:<*>*.*.*  PS:<SUBSYS>*.*.*  and  press  the
             ______ ____             RETURN key.

   To restore the GALAXY files into the directory PS:<SUBSYS>,  type  the
   RESTORE  command.   When all the files are restored, you return to the
   DUMPER prompt.


                                    2-29
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
        Saveset "GALAXY SUBSYS Files for TOPS-20 V7.0"  17-Mar-88 1443
         Loading files into PS:<SUBSYS>
         End of Saveset. 


         Total files restored:     24
         Total pages restored:     585
        DUMPER>

   Error:    If you forget to type PS:<SUBSYS>, the system  restores  the
             files  to the wrong directory.  Type <CTRL/E> to stop DUMPER
             and enter the  commands  listed  below.   Then  reissue  the
             RESTORE command in this step.  Be sure to delete and expunge
             the files in the incorrect directory.

                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                   Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                         ____ _____ _____                  DUMPER>TAPE MTA0: <RET>
                         ____ _ _____                  DUMPER>SKIP 2 <RET>
                  DUMPER>


   ____ ___  ____ _______ ___________ __________________  ___  _____  ___   Step 53:  Type RESTORE PS:<*>*.*.* PS:<UETP.LIB>*.*.*  and  press  the
             ______ ____             RETURN key.

   To restore the files into the directory <UETP.LIB>, type  the  RESTORE
   command.   When  all  the files are restored, you return to the DUMPER
   prompt.

               _______ ___________ __________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<UETP.LIB>*.*.* <RET>
        Saveset "UETP Files for TOPS-20 V7.0"  17-Mar-88 1444
         Loading files into PS:<UETP.LIB>
         End of Tape.


         Total files restored:     55
         Total pages restored:     482
        DUMPER>

   Error:    If you do not type the correct  input  structure,  PS:,  for
             example,  or  if  the  tape  is not positioned correctly, no
             files are restored from tape.  In this case you will not see
             the  message "Loading files into PS:<UETP.LIB>."  To correct
             this error, type <CTRL/E>, give the following commands,  and
             begin again at Step 49.


                                    2-30
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


                  ________                  <CTRL/E>
                  Interrupting...
                          _____ _____                  DUMPER>>ABORT <RET>
                  Aborting RESTORE command...
                         ______ _____                  DUMPER>REWIND <RET>
                         ____ _____                  DUMPER>EXIT <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DUMPER>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 54:  Type EXIT and press the RETURN key.

   Type EXIT to end DUMPER.  The system prints the ENABLEd prompt ($).

               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ___  ____ ______ _____  ___ _____ ___ ______ ____   Step 55:  Type UNLOAD MTA0:  and press the RETURN key.

   To remove the TOPS-20 Installation tape  from  the  tape  drive,  type
   UNLOAD MTA0:.  The system rewinds the tape onto the source reel.

         ______ _____ _____        $UNLOAD MTA0: <RET>
        $

   You can now remove the tape from the tape drive.

   Error:    If the system prints:

                  %Device open in lower fork
                  %Kill lower fork?

             type YES and press the RETURN key.  The system unloads  your
             tape.


   ____ ___  ____ ___________ __________ ______ ___ _____ ___ ______ ____   Step 56:  Type INFORMATION DISK-USAGE PS:<*> and press the RETURN key.

   If you give the command  INFORMATION  DISK-USAGE  PS:<*>,  the  system
   prints  the size of every directory on the public structure, PS:.  The
   example in Figure 2-1 was obtained using a DECSYSTEM-20,  model  2060.
   You will notice that there are two directories called <NEW-SYSTEM> and
   <NEW-SUBSYS>.  These directories should have no files associated  with
   them.   They were created by the monitor and will be used in the event
   you update your system to a newer release  of  the  TOPS-20  operating
   system.

   Error:    If the "Pages assigned" for  each  directory  shown  do  not
             approximately  match  the  value  shown in this guide or the
             value derived from the directory listing shipped  with  your


                                    2-31
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


             Installation  tape,  some  files  may  not  have been copied
             correctly.  Mount the tape again on MTA0:, skip  four  files
             and begin again at Step 48.



















































                                    2-32
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


         ___________ __________ ______ _____        $INFORMATION DISK-USAGE PS:<*> <RET>

        PS:<ROOT-DIRECTORY>
        -881 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<ACCOUNTS>
        17 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<NEW-SUBSYS>
        0 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<NEW-SYSTEM>
        0 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<OPERATOR>
        0 Pages assigned
        250 Working pages, 250 Permanent pages allowed

        PS:<SPOOL>
        0 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<SUBSYS>
        5119 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<SYSTEM>
        1765 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<SYSTEM-ERROR>
        1 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<UETP>
        6 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<UETP.LIB>
        482 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        PS:<UETP.RUN>
        0 Pages assigned
        +INF Working pages, +INF Permanent pages allowed

        Total of 6509 Pages assigned, in 12 directories.
        52134 Pages free on PS:, 23866 Pages used.


                                    2-33
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


   Figure 2-1:  Directories on the Public Structure   Figure 2-1:  Directories on the Public Structure



   2.9  CREATING THE DUMP.EXE FILE   2.9  CREATING THE DUMP.EXE FILE

   To record system failures, create  the  DUMP.EXE  file  by  performing
   Steps 57 through 59.


   ____ ___  ____ ___ _____________________ ___ _____ ___ ______ ____   Step 57:  Type RUN PS:<SUBSYS>MAKDMP.EXE and press the RETURN key.

   To create the DUMP.EXE file, which records any system  failures,  type
   RUN PS:<SUBSYS>MAKDMP.EXE.  The system prints the prompt MAKDMP>.

         ___ _____________________ _____        $RUN PS:<SUBSYS>MAKDMP.EXE <RET>
        MAKDMP>

                                    NOTE

           If you do not know how much memory  your  system  has,
           type  the  HELP command and press the RETURN key after
           the system prints MAKDMP>.  MAKDMP prints examples  of
           physical  memory size with the corresponding number of
           words.


   ____ ___  ____ ______ _____________________ ___________ ___ _____  ___   Step 58:  Type CREATE PS:<SYSTEM>DUMP.EXE.1 memory-size and press  the
             ______ ____             RETURN key.

   To overwrite the existing DUMP.EXE file with a new DUMP.EXE file, type
   CREATE  PS:<SYSTEM>DUMP.EXE.1 memory-size.  Be sure to enter the total
   amount of memory your system has.  The following  example  uses  2048K
   words as the memory size.

               ______ _____________________ ____ _____        MAKDMP>CREATE PS:<SYSTEM>DUMP.EXE.1 2048 <RET>
        [Dump file: <SYSTEM>DUMP.EXE.1 created]
        MAKDMP>


   ____ ___ ____ ____ ___ _____ ___ ______ ____   Step 59: Type EXIT and press the RETURN key.

   Type EXIT to end the MAKDMP program and return to TOPS-20 command
   level. 

               ____ _____        MAKDMP>EXIT <RET>
        $

                                    NOTE

           If in the future you add  some  additional  memory  to
           your  system, you should recreate the DUMP.EXE file to


                                    2-34
                      CREATING THE TOPS-20 FILE SYSTEM                      CREATING THE TOPS-20 FILE SYSTEM


           allow it to accommodate the additional memory.





















































                                    2-35












                                 CHAPTER 3

                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM



   After you  have  installed  the  bundled  TOPS-20  software  from  the
   Installation Tape, tailor your system for your specific needs.

        1.  Select a monitor that is correct for your system.

        2.  Change the system name.

        3.  Create system defaults for the following:

             o  terminal speeds

             o  dial-up lines

             o  system logical names

             o  magnetic tape drive numbers

             o  line printer parameters

             o  local time zone

             o  directory parameter setting

             o  account validation

             o  performance improvements

             o  scheduler controls

             o  file archiving parameters

             o  migration parameters

             o  tape drive allocation

             o  accounting shift changes



                                    3-1
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


             o  assigning MSCP-served disk drives

             o  daylight savings time

             o  remote line conditions

             o  controlling system message levels

             o  network information

             o  cluster data gathering

             o  off-line structures time out interval

             o  login structures

             o  minimum password length
|  
|            o  password expiration
|  
|            o  password dictionary

             o  dumping memory on non-fatal errors
|  
|            o  Security parameters

            These defaults are set in the configuration command file.

        4.  Change the operator's password and user group.

        5.  Create the directory PS:<REMARKS>.

        6.  Create the PS:<SYSTEM>LPFORM.INI file.



   3.1  SELECTING A TOPS-20 MONITOR   3.1  SELECTING A TOPS-20 MONITOR

   At this time you are running the TOPS-20 monitor 2060-MONBIG.EXE.  You
   should  now  select  the monitor that most closely meets your system's
   requirements.  Choose a monitor that supports at least:

        1.  As much memory as  your  system  contains.   A  monitor  that
            supports  less  memory than your system contains will not use
            all available memory.

        2.  The number of terminal lines you  need.   Do  not  count  the
            operator's  console  in  this  number.   Just count the local
            terminal lines and remote lines.

        3.  The number of user jobs that you plan to run, plus  two  (one
            operator  job  and job 0).  For example, if you expect to run


                                    3-2
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


            20 user jobs, the monitor you select should support at  least
            22 jobs.

        4.  The number of pseudo-terminals that  you  need.   The  system
            needs  at  least  two  pseudo-terminals,  one  for the PTYCON
            program to run the operator program OPR and one for unplanned
            situations that may arise.

            For example, if you want to run five pseudo-terminals in your
            batch system, you need a monitor that supports at least seven
            pseudo-terminals.

        5.  The number of peripheral devices on your system.

        6.  The number of  LAT  (Local  Area  Transport)  lines  on  your
            system.

   All monitors are stored in  the  directory  <SYSTEM>.   They  all  run
   timesharing  and batch concurrently.  Do not select a monitor that has
   fewer resources than you need, or  a  monitor  that  is  unnecessarily
   large.   The  TOPS-20  monitors  and  their characteristics are listed
   below.  See Table 3-1 for the maximum structure size.

   2060-MONBIG.EXE   2060-MONBIG.EXE     A big timesharing monitor.  This monitor supports:

                         100 jobs
                          96 lines
                          64 LAT lines
                          30 pseudo-terminals
                        4MEG of memory
                           8 magnetic tape drives
                           2 line printers
                           1 card reader
                         120 million words of  disk  storage  (six  RP04,
                             three  RP06,  one RP07, three RP20 spindles,
                             two RA60, or one RA81) per structure
                       10000 pages for swapping space

   2060-MONMAX.EXE   2060-MONMAX.EXE     The largest  timesharing  monitor.   This  monitor
                       supports:

                         128 jobs
                         128 lines
                         128 LAT lines
                          50 pseudo-terminals
                        4MEG of memory
                          16 magnetic tape drives
                           2 line printers
                           1 card reader
                         120 million words of  disk  storage  (six  RP04,
                             three  RP06,  one RP07, three RP20 spindles,
                             two RA60, or one RA81) per structure


                                    3-3
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                       15000 pages for swapping space


   Table 3-1:  Maximum Structure Size   Table 3-1:  Maximum Structure Size


     -------------------------------------------------------
       Type of     | Max. No. Packs  | No. Pages           |     | Type of     | Max. No. Packs  | No. Pages           |
     | Disk Drive  | Per Structure   | Per Pack *     | Disk Drive  | Per Structure   | Per Pack *          |
     -------------------------------------------------------
     |             |                 |                     |
     | RP04        |       6         | 38,000              |
     | RP06        |       3         | 76,000              |
     | RP07        |       1         | 216,376             |
     | RP20        |       5         | 201,420             |
     | RA60        |       6         | 90,516              |
     | RA81        |       5         | 200,928             |
     -------------------------------------------------------


     * a page = 512 36-bit words

   In Steps 60 and 61, you choose the monitor most appropriate  for  your
   needs and copy it to the file MONITR.EXE.


   ____ ___  ____ _______ ___________ ___ _____ ___ ______ ____   Step 60:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   Connect to the directory PS:<SYSTEM> by typing the CONNECT command.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $

                            TCP/IP Installations

           If you are performing a TCP/IP installation, you  must
           choose  a  TOPS-20  monitor  at  this time.  After you
           restore the TCP/IP Distribution tape, you will be able
           to choose a TCP/IP monitor.


   ____ ___  ____ ____ ____________ ____________  ___  _____  ___  ______   Step 61:  Type COPY montyp.EXE.* MONITR.EXE.*  and  press  the  RETURN
             ____             key.

   Use the COPY command to copy the monitor that you have selected to the
   file  MONITR.EXE.   "Montyp"  designates  the type of monitor you have
   selected for your system.  When the copy  is  successfully  completed,
   the   system  prints  an  OK  message.   The  different  monitors  are
   2060-MONBIG.EXE and 2060-MONMAX.EXE.

         ____ ____________ ____________ _____        $COPY montyp.EXE.* MONITR.EXE.* <RET>
         montyp.EXE.n => MONITR.EXE.n [OK]


                                    3-4
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


        $

   Error:    If you type the wrong name, reissue the command.



   3.2  CHANGING THE SYSTEM NAME   3.2  CHANGING THE SYSTEM NAME

   Whenever a  user  types  <CTRL/C>  before  logging  in  or  gives  the
   INFORMATION VERSION command, the system prints a message similar to:

        TOPS-20 BIG SYSTEM, TOPS-20 Monitor n.n(nnnn)

   where n.n(nnnn) is the  version  and  edit  number  of  the  operating
   system.   You  can  change  the  system  name  "TOPS-20 BIG SYSTEM" by
   entering the name you want into the  file  PS:<SYSTEM>MONNAM.TXT.   If
   the  name  contains  lowercase  letters,  give the command TERMINAL NO
   RAISE before entering the name.

   The text of the system name can contain up  to  105  characters.   For
   practical  purposes,  it  should  not exceed 32 characters to fit on a
   single 72-character line of terminal output.  Steps 62 through 64 show
   how to change the system name to "Installation-test System" and how to
   change the new system name to the abbreviated name "Instal-tst."


   ____ ___  ____ ________ __ _____ ___ _____ ___ ______ ___ ___________   Step 62:  Type TERMINAL NO RAISE and press the RETURN key (optional).

   If you want lowercase letters in the system name,  type  the  TERMINAL
   command.  Make sure that the CAPS LOCKED button on the terminal is up.

         ________ __ _____ _____        $TERMINAL NO RAISE <RET>
        $


   ____ ___  ____ ____ ____  __________ ___ _____ ___ ______  ____   ____   Step 63:  Type COPY TTY:  MONNAM.TXT and press the RETURN  key.   Then
             _____ ___ ______ ____ ___ ____ _________             enter the system name and type <CTRL/Z>.

   Change the system name by entering the name you  want  into  the  file
   PS:<SYSTEM>MONNAM.TXT.    The   system   name  should  not  exceed  32
   characters.

   Use the COPY command to give the system a new system name.  After  you
   enter  the  command,  the system waits for you to type the new name of
   your system.  After you enter the new system name, type <CTRL/Z>.   In
   the example, the new system name is Installation-test System.

         ____ ____ __________ _____        $COPY TTY: MONNAM.TXT <RET>
         TTY: = MONNAM.TXT.1

        _________________ ______  __        Installation-test System  ^Z
        $


                                    3-5
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   You can change this file at any time, but the system reads the  system
   name only when the monitor is started (whenever you boot the system).


   ____ ___  ____ ____ ____  __________ ___ _____ ___ ______ ____   _____   Step 64:  Type COPY TTY:  TAPNAM.TXT and press the RETURN key.   Enter
             ___ ___________ ______ ____ ___ ____ _________             the abbreviated system name and type <CTRL/Z>.

   You should also change the system name that will  be  written  on  the
   volume  header  label  of any tape initialized by users of the system.
   Do  this   by   entering   the   name   you   want   into   the   file
   PS:<SYSTEM>TAPNAM.TXT.   This  system  name  must contain ten or fewer
   characters, so you will probably have to abbreviate the name given  in
   the  previous  step.   The example shows how to change the system name
   (that appears on tape labels written by the system) to "Instal-tst."

   Give the system an abbreviated name with the COPY command.  After  you
   enter  the  command,  the system waits for you to type the abbreviated
   system name.  After  you  enter  the  abbreviated  system  name,  type
   <CTRL/Z>.  In the example, the abbreviated system name is Instal-tst.

         ____ ____ __________ _____        $COPY TTY: TAPNAM.TXT <RET>
         TTY: = TAPNAM.TXT.1

        __________  __        Instal-tst  ^Z
        $



   3.3  CREATING SYSTEM DEFAULTS IN THE CONFIGURATION COMMAND FILE   3.3  CREATING SYSTEM DEFAULTS IN THE CONFIGURATION COMMAND FILE

   You must create a configuration command file to define:

        Terminal line speeds        Logical names
        Magnetic tape drives        Line printers
        Local time zone             Directory parameter setting
        Account validation          Performance improvements
        Scheduler controls          File archiving and migration
        Tape drive allocation       Accounting shift changes
        MSCP-served disk drives     Daylight savings time
        Remote line conditions      System level messages
        Network information         Off-line structures         
|       Login structures            Password management
        Memory dumps                Cluster data gathering
|                                   Security controls

   The next time the system starts,  the  SETSPD  (SET  System  Parameter
   Defaults)  program  uses the definitions entered into this file.  This
   program runs automatically at system startup.

   The formats of the commands are described in  Sections  3.3.1  through
   3.3.23  (Steps  65 through 99).  You can include comment lines if they
   are preceded by exclamation points.


                                    3-6
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                                    NOTE

           The following sections  describe  how  to  create  the
           configuration  command  file.   These steps illustrate
           the use of the EDIT editor program.  You can  use  any
           editor  of  your choice, as long as you accomplish the
           goal of each step.


   ____ ___  ____ ______ ____________ ___ _____ ___ ______ ____   Step 65:  Type CREATE 7-CONFIG.CMD and press the RETURN key.

                                                            _______  ____   Use EDIT to CREATE the  7-CONFIG.CMD  file.   (See  the  TOPS-20  EDIT
   _________  ______   Reference  Manual for more information on how to use EDIT.) The system
   prints the file name and the line number.

         ______ ____________ _____        $CREATE 7-CONFIG.CMD <RET>
        Input: PS:<SYSTEM>7-CONFIG.CMD.1
        00100

   Do not confuse the CREATE command, which  creates  a  file,  with  the
   privileged ^ECREATE command, which creates a directory.



   3.3.1  Setting Terminal Speeds   3.3.1  Setting Terminal Speeds

   Whenever the system starts, the  SETSPD  program  reads  the  TERMINAL
   commands  from  the  configuration  command file and sets the terminal
   lines to the specified speeds.

   Users can change the speeds of their terminals by giving the  TERMINAL
   SPEED command.  When one user logs out and another user logs in on the
   same terminal, the system does not change the line speed back  to  the
   default  listed  in  the  configuration command file.  However, if the
   line is defined as REMOTE, the speed is changed back after the line is
   disconnected.  Note that the operator can change the speed of the line
   by giving the privileged ^ESET command.

   To set the default speed for a particular line, enter a command in the
   following format into the configuration command file:

        TERMINAL line SPEED input output

   where:

        line      is an octal line number, or a range  of  lines  in  the
                  form    line-line.     Your   DIGITAL   Field   Service
                  Representative will provide you with  a  list  of  line
                  numbers  and the corresponding locations.  (See Section
                  1.2.)

        input     is the input speed (to the system) of the terminal(s).


                                    3-7
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


        output    is the output speed of the terminal(s).  If you do  not
                  specify  both output and input, the system assumes that
                  the output speed is the same as the input speed.

   Valid terminal speeds are:

                   0 (to shut off the line)      300
                  50                             600
                  75                            1200
                 110                            1800
                 134 (actually 134.5)           2400
                 150                            4800
                 200                            9600

                                    NOTE

           If you do not specify a speed for a line,  the  system
           uses 300 for both input and output.  If you have lines
           in the terminal controller (the  DH11)  that  are  not
           installed,  you should define those lines with a speed
           of  0.   Otherwise,  the  lines  run   open,   causing
           degradation in system performance.

   Line numbers are always octal (see Table 3-2).


   Table 3-2:  DECSYSTEM-20 Terminal Line Numbers   Table 3-2:  DECSYSTEM-20 Terminal Line Numbers


     -------------------------------------------------------
        Number of Lines        Line Numbers (Octal) for     |  Number of Lines    |   Line Numbers (Octal) for    |
         (Decimal)             Directly-Connected Lines     |   (Decimal)         |   Directly-Connected Lines    |
     -------------------------------------------------------
     |      8              |            1 to 10            |
     |      16             |            1 to 20            |
     |      32             |            1 to 40            |
     |      64             |            1 to 100           |
     |      96             |            1 to 140           |
     |      128            |            1 to 200           |
     -------------------------------------------------------


   ____ ___  ____ ___ ________ _____ _________   Step 66:  Type the TERMINAL SPEED commands.

   Type your required TERMINAL SPEED commands and press  the  RETURN  key
   after  each  definition.   You  can include comment lines by preceding
   each with an exclamation point.  The lines shown are only an  example.
   Determine  the most useful definitions for the system according to the
   terminals that you have.

                _ ________ ______ _____        00100   ! Terminal Speeds <RET>
                _ ____ _ ___ __________ ___ ___________ _____        00200   ! Line 1 has input=9600 and output=9600 <RET>


                                    3-8
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                ________ _ _____ ____ _____        00300   TERMINAL 1 SPEED 9600 <RET>
                _ _____ _ __ __ ____ _____ ___ ___________ _____        00400   ! Lines 2 to 20 have input and output=2400 <RET>
                ________ ____ _____ ____ _____        00500   TERMINAL 2-20 SPEED 2400 <RET>
                _ _____ __ __ __ ___ ____ ___ _____        00600   ! Lines 23 to 40 are shut off <RET>
                ________ _____ _____ _ _____        00700   TERMINAL 23-40 SPEED 0 <RET>
        00800



   3.3.2  Defining Dial-Up (Remote) Lines   3.3.2  Defining Dial-Up (Remote) Lines

   For each dial-up line, you have the option of declaring that  line  to
   have a specified speed or you can declare a line to be autobaud.  If a
   dial-up line is declared an autobaud line, the line  is  automatically
|  set to the correct baud rate for that line at system startup.

   To declare a line autobaud, replace the word SPEED with the word  AUTO
   in  the  TERMINAL  command  and  do  not  specify any input and output
   speeds.

   Include a TERMINAL command for each dial-up line.  Use the  same  form
   as  described  in  Section 3.3.1, but insert the word REMOTE after the
   line number.

   If you do not use the AUTO argument and omit  the  output  speed,  the
   system  assumes  that the output speed is the same as the input speed.
   The command format is:

        TERMINAL line REMOTE SPEED input output

                   or

        TERMINAL line REMOTE AUTO

   Whenever a user starts a job on a dial-up line, and AUTO has not  been
   specified,  the  system  sets  the  speed  of  that  line to the speed
   specified in the configuration command file.

|  You can specify whether or not a particular line  receives  system  or
|  user  messages.   A  line  receives messages by default, so to specify
|  that a particular line is not to receive system or user  messages  use
|  the following command formats:
|  
|       TERMINAL line IGNORE-SYSTEM-MESSAGES
|  
|       TERMINAL line IGNORE-USER-MESSAGES
|  
|  You can specify that input on a  specified  terminal  line  is  to  be
|  ignored  when  the  line is inactive.  When input is being ignored and
|  characters are typed, no CTRL/G (bell) is sent, as is the normal  case
|  when characters are typed on an inactive line.  The command format is:



                                    3-9
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


|       TERMINAL line NOBELL


   ____ ___  ______ ______ ______   Step 67:  Define REMOTE lines.

   If you have remote lines, obtain the line numbers  from  your  DIGITAL
   Field  Service  Representative  and  enter  the proper commands in the
   configuration  command  file.   Press  the  RETURN  key   after   each
   definiton.   The  lines shown are only an example.  You must determine
   the correct commands for your own system.

            _ _____ __ ___ __ ___ ______ _____ _____     00800  ! Lines 21 and 22 are dialup lines <RET>
            ________ __ ______ _____ ____ _____     00900  TERMINAL 21 REMOTE SPEED 9600 <RET>
            ________ __ ______ ____ _____     01000  TERMINAL 22 REMOTE AUTO <RET>
            ________ __ ______________________ _____|    01100  TERMINAL 21 IGNORE-SYSTEM-MESSAGES <RET>
            ________ __ ____________________ _____|    01200  TERMINAL 21 IGNORE-USER-MESSAGES <RET>
            ________ __ ______ _____|    01300  TERMINAL 22 NOBELL <RET>
|    01400  



   3.3.3  Defining System Logical Names   3.3.3  Defining System Logical Names

   Insert a command in the following format to define any special  system
   logical  names that you require.  These logical names are defined when
   the system starts.  The command format is:

        DEFINE name definition-list

   The logical name SYS:  defaults to PS:<SUBSYS> if you do not define it
                                                 _______ ______ _________   in  the  configuration command file.  See the TOPS-20 System Manager's
   _____   Guide for descriptions of logical names.


   ____ ___  ____ ___ ______ _______ ____ ____________   Step 68:  Type the system logical name definitions.

   Enter any system  logical  name  definitions  into  the  configuration
   command  file.  Press the RETURN key after each definition.  The lines
   shown are recommended definitions.  PS:<directory> indicates that  you
   can  use  a  directory  of  your own choosing.  Be sure to include the
   correct structure names for your system if you are using  a  structure
   name other than PS:.

                ______ ____ _____________ _____        01400   DEFINE NEW: PS:<NEW>,SYS: <RET>
                ______ ____ _____________ _____        01500   DEFINE OLD: PS:<OLD>,SYS: <RET>
                ______ ____ ____ _____        01600   DEFINE HLP: SYS: <RET>
                ______ _____ _________________ _____        01700   DEFINE SERR: PS:<SYSTEM-ERROR> <RET>
                ______ ____ ______________ _____        01800   DEFINE DMP: PS:<directory> <RET>
                ______ ______ ___ _____        01900   DEFINE POBOX: PS: <RET>
        02000




                                    3-10
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   3.3.3.1  Selecting an Editor   3.3.3.1  Selecting an Editor - You have the option  of  selecting  the
   default editing program (editor) with which your users create and edit
   files using the CREATE and EDIT commands.  If you want them to use the
   TV  program,  enter  the  command  DEFINE EDITOR:  SYS:TV.EXE into the
   configuration command file.  If you do not put this command  into  the
   configuration command file, the default editor used for the CREATE and
   EDIT commands will be the EDIT program.

   By defining the logical name EDITOR: for their  own  jobs,  users  can
   override  your  choice  of  default editor, as long as the editor they
   specify is available at your installation.  The following step  is  an
   example of making TV the default editor for your installation.


   ____ ___  ____ ______ _______  __________ ___ _____ ___ ______ ____   Step 69:  Type DEFINE EDITOR:  SYS:TV.EXE and press the RETURN key.

   If you are using the TV editor as your system's default  editor,  type
   DEFINE EDITOR:  SYS:TV.EXE.

                ______ _______ __________ _____        02000   DEFINE EDITOR: SYS:TV.EXE <RET>
        02100

                                    NOTE

           If you want your system's default  editor  to  be  the
                            ___           EDIT program, do not put a DEFINE EDITOR: command into
           the configuration command file.



   3.3.4  Defining Magnetic Tape Logical Unit Numbers   3.3.4  Defining Magnetic Tape Logical Unit Numbers

   The system assigns logical unit numbers to magnetic tape  drives.   It
   starts with the lowest numbered unit on the lowest numbered controller
   on the lowest numbered channel, and proceeds upward.  If  the  cabling
   connecting  the  tape  drives  to the system changes, the logical unit
   numbers referencing the tape drives can also change, unless you  enter
   the  appropriate  commands  in  the  configuration  command file.  The
   commands in this file guarantee that the physical drives  always  have
   the same logical unit numbers.

   Request the tape drive serial numbers from your DIGITAL Field  Service
   Representative,  or open the back door of the magnetic tape drives and
   look on the sticker containing the number.  The last 4 digits  of  the
                                                ____   serial number are the most significant.  Use only the last four digits
   of the number to identify the  magnetic  tape  drive  in  the  MAGTAPE
   command.

                                    NOTE

           SETSPD will not  recognize  tape  drives  with  serial
                   ______           numbers longer than 4 characters.


                                    3-11
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   To define magnetic tape  drives,  use  the  MAGTAPE  command,  in  the
   following format, in the configuration command file:

        MAGTAPE unit serial slave

   where:

        unit      is the logical unit number to be assigned to the drive.
                  The unit number can be 0, 1, 2, 3, 4, 5, 6, or 7.

        serial    is the last four digits of the serial number.  (Leading
                  zeros can be omitted.)

|       slave     is the type of tape drive.  The types  of  tape  drives
|                 are TU45, TU70, TU71, TU72, TU73, TU77, TU78.

                                    NOTE

           If no slave number is entered, the system assumes that
           the slave number is TU45.


   ____ ___  ______ ___ ________ ____ _____ _______ ____ ________   Step 70:  Define the magnetic tape drive logical unit numbers.

   Enter the definitions of the magnetic tape drive logical unit  numbers
   into  the configuration command file.  Press the RETURN key after each
   definiton.  The commands shown are only examples.  You must  determine
   the correct definitions for your system.

                _______ _ __     ____ _____        02100   MAGTAPE 0 24     TU45 <RET>
                _______ _ ____   ____ _____        02200   MAGTAPE 1 2001   TU77 <RET>
                _______ _ ____   ____ _____        02300   MAGTAPE 2 2002   TU71 <RET>
                _______ _ ____   ____ _____        02400   MAGTAPE 3 2003   TU70 <RET>
                _______ _ ____   ____ _____        02500   MAGTAPE 4 1500   TU72 <RET>
        02600



   3.3.5  Defining Line Printer Parameters   3.3.5  Defining Line Printer Parameters

   The characteristics of several line printers that can be ordered  with
   your  DECSYSTEM-20  are  listed  in Table 3-3.  Ask your DIGITAL Field
   Service Representative which type you have.











                                    3-12
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   Table 3-3:  DECSYSTEM-20 Line Printers   Table 3-3:  DECSYSTEM-20 Line Printers


     -----------------------------------------------------------------------
     |    Model |  VFU         |  Lowercase  |        Identification       |
     |          |              |             |                             |
     -----------------------------------------------------------------------
     |   LP20A  | PROGRAMMABLE |    NO       |  Four buttons on the right  |
     |   LP20B  | PROGRAMMABLE |    YES      |  top   panel, with the top  |
     |          |              |             |  button  being   POWER  ON  |
     |          |              |             |  ALARM/CLEAR.               |
     |          |              |             |                             |
     |   LP20C  | PROGRAMMABLE |    NO       |  Four buttons on the right  |
     |   LP20D  | PROGRAMMABLE |    YES      |  top  panel, with  the top  |
     |          |              |             |  button  being   POWER  ON  |
     |          |              |             |  ALARM/CLEAR.               |
     |          |              |             |                             |
     |   LP20F  | TAPE         |    NO       |  Four rocker  switches  on  |
     |   LP20H  | TAPE         |    YES      |  the left of the top panel. |
     -----------------------------------------------------------------------


   Sections 3.3.5.1 and 3.3.5.2 (Steps 71 and 72)  describe  the  PRINTER
   commands.



   3.3.5.1  Specifying the VFU File   3.3.5.1  Specifying the VFU File - The VFU (Vertical Formatting  Unit)
   is used to control paper advance through the line printer.  For a line
   printer with a programmable VFU, place a command in the  configuration
   command  file  that  specifies  the  file  to  program  the  VFU.  For
   installation purposes, use SYS:NORMAL.VFU.  The command format is:

        PRINTER n LOWERCASE VFU dev:<dir>name.typ

   where:

        n                        is the unit number of the printer.

        LOWERCASE                means the printer has  the  96-character
                                 set.     If   your   printer   has   the
                                 64-character set,  do  not  include  the
                                 word LOWERCASE in the command.

        VFU                      is the type of  file  specified  by  the
                                 command.

        dev:<dir>name.typ        is the location of the VFU file.

   Examples of typical VFU commands in  the  configuration  command  file
   are:



                                    3-13
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


        Printer                            VFU Command        Printer                            VFU Command

        LP20A or LP20C           PRINTER 0 VFU SYS:NORMAL.VFU

        LP20B or LP20D           PRINTER 0 LOWERCASE VFU SYS:NORMAL.VFU

   Note that you do not need  VFU  commands  for  LP20F  and  LP20H  line
   printers.


   ____ ___  ____ ___ ___ _______ ___ _____ ___ ______ ____   Step 71:  Type the VFU command and press the RETURN key.

   If you have one or more line printers with  programmable  VFUs,  enter
   the appropriate PRINTER commands in the configuration command file.

                _______ _ _________ ___ ______________ _____        02600   PRINTER 0 LOWERCASE VFU SYS:NORMAL.VFU <RET>
                _______ _ ___ ______________ _____        02700   PRINTER 1 VFU SYS:NORMAL.VFU <RET>
        02800



   3.3.5.2  Specifying the RAM File   3.3.5.2  Specifying the RAM File - You must identify a file that  will
   load  the  translation  RAM (Random-Access Memory).  This RAM controls
   the way in which each character is treated by the line  printer.   Use
   SYS:LP96.RAM  for  line  printers  that  have  lowercase letters.  Use
   SYS:LP64.RAM for printers that do not  have  lowercase  letters.   The
   command format is:

        PRINTER n LOWERCASE RAM dev:<dir>name.typ

   where:

        n                        is the line printer unit number.

        LOWERCASE                means the printer has  the  96-character
                                 set.     If   your   printer   has   the
                                 64-character set,  do  not  include  the
                                 word LOWERCASE in the command.

        RAM                      is the type of  file  specified  by  the
                                 command.

        dev:<dir>name.typ        is   the   file   that   contains    the
                                 translation RAM.

   Examples of typical RAM commands in  the  configuration  command  file
   are:

        Printer                            RAM Command        Printer                            RAM Command

        LP20A, LP20C,            PRINTER 0 RAM SYS:LP64.RAM
        or LP20F


                                    3-14
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


        LP20B, LP20D,            PRINTER 0 LOWERCASE RAM SYS:LP96.RAM
        or LP20H


   ____ ___  ____ ___ ___ _______ ___ _____ ___ ______ ____   Step 72:  Type the RAM command and press the RETURN key.

   Enter the appropriate RAM command into the configuration command file.

                _______ _ _________ ___ ____________ _____        02800   PRINTER 0 LOWERCASE RAM SYS:LP96.RAM <RET>
                _______ _ ___ ____________ _____        02900   PRINTER 1 RAM SYS:LP64.RAM <RET>
        03000



   3.3.6  Defining the Local Time Zone   3.3.6  Defining the Local Time Zone

   The time zone in which your installation is located can be represented
   as  the  number  of  hours  west  or  east of Greenwich.  For example,
   Eastern Standard Time is zone 5; Central  Standard  Time  is  zone  6;
   Mountain Standard Time is zone 7; and Pacific Standard Time is zone 8.
   To set your local time zone, you can enter the  following  command  in
   the configuration command file:

        TIMEZONE n

   where n is a decimal number between -12 and 12 inclusive.   Zones  -12
   and  12  represent  the  same  clock time but on opposite sides of the
   international date line.  If you do not specify a  time  zone  in  the
   configuration  command  file,  the  time  zone will default to zone 0,
   signifying Greenwich mean time.


   ____ ___  ____ ___ ________ _ _______ ___ _____ ___ ______ ____   Step 73:  Type the TIMEZONE n command and press the RETURN key.

   Enter the TIMEZONE n command into the configuration command file.

                ________ _ _____        03000   TIMEZONE 5 <RET>
        03100



   3.3.7  Directory Parameter Setting   3.3.7  Directory Parameter Setting

   You have the option  of  allowing  users  to  change  their  directory
   parameters.   If  you  decide to allow users to do this, no command is
   entered into  the  configuration  command  file,  because  the  system
   default  is  to  ENABLE  DIRECTORY-PARAMETER-SETTING.  However, if you
          ___   decide not to allow users to change their  directory  parameters,  you
   should  enter the command DISABLE DIRECTORY-PARAMETER-SETTING into the
   configuration command file.  When this command is given,  it  prevents
   the  user  from changing any of his directory parameters unless he has
   WHEEL or OPERATOR capabilities.  Step 74 is an example of  disallowing


                                    3-15
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   users from changing their directory parameters.


   ____ ___  ____  _______  ___________________________  ___  _____   ___   Step 74:  Type  DISABLE  DIRECTORY-PARAMETER-SETTING  and  press   the
             ______ ____             RETURN key.

   To prevent  users  from  changing  their  directory  parameters,  type
   DISABLE DIRECTORY-PARAMETER-SETTING.

                _______ ___________________________ _____        03100   DISABLE DIRECTORY-PARAMETER-SETTING <RET>
        03200

                                    NOTE

           If the default is taken, users are allowed  to  change
           some  of  their  directory  parameters  with  the  SET
           DIRECTORY commands.



   3.3.8  Account Validation   3.3.8  Account Validation

   You have the option of requiring all users to enter  a  valid  account
   name when they are logging in to the system.  If you decide to require
   valid accounts, you  do  not  have  to  enter  any  command  into  the
   configuration  command  file,  because the system default is to ENABLE
                                               ___   ACCOUNT-VALIDATION.  However, if you decide not to validate  accounts,
   you  must  enter  the  command  DISABLE  ACCOUNT-VALIDATION  into  the
   configuration command file.  Step 75 is an example of  not  using  the
   account validation facility.


   ____ ___  ____ _______ __________________ ___ _____ ___ ______ ____   Step 75:  Type DISABLE ACCOUNT-VALIDATION and press the RETURN key.

   If you are not validating accounts, type DISABLE ACCOUNT-VALIDATION.

                _______ __________________ _____        03200   DISABLE ACCOUNT-VALIDATION <RET>
        03300



   3.3.9  Performance Improvements   3.3.9  Performance Improvements

   Sections 3.3.9.1 and 3.3.9.2 (Steps 76 and 77) describe  full  latency
   optimization and working set swapping, respectively.



   3.3.9.1  Full Latency Optimization   3.3.9.1  Full Latency Optimization - When you enter the command ENABLE
   FULL-LATENCY-OPTIMIZATION  into  the  configuration  command file, the
   number of revolutions needed to read pages off the disk is minimized.



                                    3-16
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                                    NOTE

           Before you can use this performance feature, you  must
           obtain  from your DIGITAL Field Service Representative
           the following information about your hardware:

           1.  If you have a KL10-E  processor,  it  must  be  at
               revision level 3 or later.

           2.  If you have board M7772, it  must  be  at  version
               level  E  and CS revision level F; or you may have
               board M7786.

           If your hardware does  not  meet  these  requirements,
           take the default:  DISABLE FULL-LATENCY-OPTIMIZATION.


   ____ ___  ____ ______ _________________________ ___ _____  ___  ______   Step 76:  Type ENABLE FULL-LATENCY-OPTIMIZATION and press  the  RETURN
             ____             key.

   If  your  hardware  meets  the   above   requirements,   type   ENABLE
   FULL-LATENCY-OPTIMIZATION.

                ______ _________________________ _____        03300   ENABLE FULL-LATENCY-OPTIMIZATION <RET>
        03400



   3.3.9.2  Working  Set  Swapping   3.3.9.2  Working  Set  Swapping - If  you  enter  the  command  ENABLE
   WORKING-SET-PRELOADING into the configuration command file, the entire
   working set of a process is brought into memory at once when it is the
   process's   turn   to   run.   Otherwise,  this  action  occurs  on  a
   page-by-page basis.

                                    NOTE

           You should enable working set swapping  only  if  your
           system  runs  large  compute-bound  jobs.  However, if
           your system runs many interactive jobs or if  you  are
           unsure which description better fits your system, take
           the default: DISABLE WORKING-SET-PRELOADING.


   ____ ___  ____ ______ ______________________ ___ _____ ___ ______ ____   Step 77:  Type ENABLE WORKING-SET-PRELOADING and press the RETURN key.

   If  your  system  runs   large   compute-bound   jobs,   type   ENABLE
   WORKING-SET-PRELOADING.

                ______ ______________________ _____        03400   ENABLE WORKING-SET-PRELOADING <RET>
        03500




                                    3-17
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   3.3.10  Scheduler Controls   3.3.10  Scheduler Controls

   Sections 3.3.10.1 and 3.3.10.2 (Steps 78  through  81)  describe  bias
   controls and class scheduling, respectively.



   3.3.10.1  Bias Controls   3.3.10.1  Bias Controls - You have the option  of  deciding  how  your
   system's CPU time is to be divided between interactive and batch jobs.
   You do this by entering the command  BIAS  n  into  the  configuration
   command  file,  where  n is any integer between 1 and 20.  The smaller
   the value of n, the larger the percentage of CPU time that is given to
   interactive jobs.  If you do not give this command, a default value of
   11 will be taken, which provides a balance  between  good  interactive
   response and reasonable throughput.


   ____ ___  ____ ___ ____ _ _______ ___ _____ ___ ______ ____   Step 78:  Type the BIAS n command and press the RETURN key.

   The example shows how to enter a BIAS n command with  a  value  of  6,
   which  favors  interactive jobs.  You must determine the correct value
   of n for your own system.

                ____ _ _____        03500   BIAS 6 <RET>
        03600



   3.3.10.2  Class Scheduling   3.3.10.2  Class Scheduling - You can use class  scheduling  to  divide
   your  system's  CPU  time  among  different  classes  of  jobs.  Class
   scheduling assigns percentages of CPU time to jobs according to  their
   account  or  according to a policy program written especially for your
   site.

   If you do not want to use class scheduling, you do not have  to  enter
   any  command  into  the configuration command file, because the system
   default is to DISABLE CLASS-SCHEDULING.

   If you use either kind of  class  scheduling,  you  can  allocate  any
   unused  CPU time (windfall) among active jobs, or withhold it from all
   jobs.  The command  for  enabling  class  scheduling  using  a  policy
   program   and   allocating   windfall   is   ENABLE   CLASS-SCHEDULING
   POLICY-PROGRAM ALLOCATED.  The command for enabling  class  scheduling
   using   a   policy   program   and   withholding  windfall  is  ENABLE
   CLASS-SCHEDULING  POLICY-PROGRAM  WITHHELD.   If  you   enable   class
   scheduling  using  a  policy  program,  you  cannot  also enable class
   scheduling using accounts, and should skip  to  Section  3.3.11  after
   giving one of these two commands.

   If you do not have a policy program to use with  class  scheduling  at
   your  site, you can still enable class scheduling by assigning jobs to
   classes according to the account under  which  each  job  is  running.


                                    3-18
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


               _______  ______  _________  _____   (See   the  TOPS-20  System  Manager's  Guide  for  information  about
   associating accounts with particular classes.)  To do  this  you  must
   first  enter  commands into the configuration command file, specifying
   the percentage of CPU time that is to be given to jobs in each class.


   ____ ___  ____ ___ ______ ________ ___ _________ ________   Step 79:  Type the CREATE commands for scheduler classes.

   You must enter a CREATE command for each class that your  system  will
                  _________   use,  with  a  different  percentage  for  each class.  The sum of the
   percentages you specify must not add up to more  than  100%,  although
   they  may add up to less than 100%.  If they add up to less than 100%,
   the percentage of CPU time that is not assigned becomes  part  of  the
   system's windfall.  Press the RETURN key after each CREATE command.

   The commands shown are an example of dividing up 75% of  the  system's
   CPU time among three classes of jobs.  For example, the command CREATE
   1 .20 specifies that jobs running under accounts in class 1 are to  be
   given  a  total of 20% of your system's CPU time.  You must supply the
   correct class numbers and percentages for your own system.

                ______ _ ___ _____        03600   CREATE 1 .20 <RET>
                ______ _ ___ _____        03700   CREATE 2 .40 <RET>
                ______ _ ___ _____        03800   CREATE 3 .15 <RET>
        03900


   ____ ___  ____ ___ ___________ _ _______ ___  _____  ___  ______  ____   Step 80:  Type the BATCH-CLASS n command and  press  the  RETURN  key.
             ____  ______  _  __________  __  ____  _____ ____ ___ ______             Then  assign  a  percentage  to  this  class with the CREATE
             ________             command.

   Batch jobs can be put into a special class of their own  by  including
   the  BATCH-CLASS  n  command,  where  n is the number of the class you
   choose for batch jobs.  If you do not  enter  a  BATCH-CLASS  command,
   batch  jobs  are given CPU time according to the class associated with
   the account of the job's owner at the time of submission.  The example
   creates  a  class  for  batch jobs and then assigns 25% of CPU time to
   this class with the CREATE command.  You must enter commands that  are
   appropriate for your system.

                ___________ _ _____        03900   BATCH-CLASS 4 <RET>
                ______ _ ___ _____        04000   CREATE 4 .25 <RET>
        04100



   ____ ___  ____ ______ ________________ ________  _________  ___  _____   Step 81:  Type ENABLE CLASS-SCHEDULING ACCOUNTS  ALLOCATED  and  press
             ___ ______ ____             the RETURN key.

   Now you must enter the command that  enables  class  scheduling  using
   accounts.   You  must also decide whether to allocate any windfall CPU
   time to the jobs that are running or to withhold this  windfall.   The


                                    3-19
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   default  for  this  command  is ALLOCATED.  It is recommended that you
   take this default.

                ______ ________________ ________ _________ _____        04100   ENABLE CLASS-SCHEDULING ACCOUNTS ALLOCATED <RET>
        04200

                                  CAUTION

           Do not enter the above  command  (Step  81)  into  the
           configuration  command file until you have entered the
           commands shown in Steps 79  and  80.   If  you  enable
           class   scheduling   before  creating  classes,  class
           scheduling will not function properly.



   3.3.11  File Archiving and Migration Parameters   3.3.11  File Archiving and Migration Parameters

   Sections 3.3.11.1 and 3.3.11.2 (Steps 82 and 83) describe tape recycle
   periods for use with the file archiving and migration features.



   3.3.11.1  Archive Tape Recycle  Period   3.3.11.1  Archive Tape Recycle  Period - TOPS-20  provides  a  feature
   that  allows  off-line  storage of selected files on magnetic tape for
   long periods of time.  You can specify for how long  these  files  are
   saved  by  inserting  a  command  into  the configuration command file
   stating, in days, the recycle period of the tapes.   For  example,  to
   save  archival  files  on  tape  for  five  years, you would enter the
   command, ARCHIVE-TAPE-RECYCLE-PERIOD  1825  (because  5  years  x  365
   days/year    =    1825    days).     If   you   do   not   insert   an
   ARCHIVE-TAPE-RECYCLE-PERIOD command in the configuration command file,
   a default value of 3650 (ten years) will be taken.


   ____ ___  ____ ___ ___________________________ _ _______ ___ _____ ___   Step 82:  Type the ARCHIVE-TAPE-RECYCLE-PERIOD n command and press the
             ______ ____             RETURN key.

   The example  shows  how  to  enter  an  ARCHIVE-TAPE-RECYCLE-PERIOD  n
   command  with  a  value  of  1825  (five years).  You must determine a
   suitable value of n for your own system.

                ___________________________ ____ _____        04200   ARCHIVE-TAPE-RECYCLE-PERIOD 1825 <RET>
        04300



   3.3.11.2  Migration Tape Recycle Period   3.3.11.2  Migration Tape Recycle Period - TOPS-20 provides  a  feature
   that  allows automatic off-line storage of old or little-used files on
   magnetic tape for short periods of time.  You can specify for how long
   these  files  are  saved by inserting a command into the configuration
   command file stating, in days, the recycle period of the  tapes.   For


                                    3-20
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   example,  to  save  migrated files on tape for three months, you would
   enter the command TAPE-RECYCLE-PERIOD 90 (because  3  months  with  30
   days/month  =  90  days).   If you do not insert a TAPE-RECYCLE-PERIOD
   command in the configuration command file, a default value of 180 (six
   months) will be taken.


   ____ ___  ____ ___ ___________________ _ _______ ___ _____ ___  ______   Step 83:  Type the TAPE-RECYCLE-PERIOD n command and press the  RETURN
             ____             key.

   The example shows how to enter a TAPE-RECYCLE-PERIOD n command with  a
   value  of 90 (three months).  You must determine a suitable value of n
   for your own system.

                ___________________ __ _____        04300   TAPE-RECYCLE-PERIOD 90 <RET>
        04400



   3.3.12  Tape Drive Allocation   3.3.12  Tape Drive Allocation

   Sections 3.3.12.1 and 3.3.12.2 (Steps 84 and 85) describe putting tape
   drive  allocation  into  effect,  and specifying a response to certain
   error conditions.



   3.3.12.1  Enabling Tape Drive Allocation   3.3.12.1  Enabling Tape Drive Allocation - TOPS-20  provides  for  the
   automatic assignment of tape drives to users who wish to read or write
   magnetic tapes.  In order to use this feature, which also allows  your
   system  to  read  and  write the labels of standard labeled tapes, you
   must  insert  the  command  ENABLE  TAPE-DRIVE-ALLOCATION   into   the
   configuration  command  file.   If  you do not give this command, your
   users must assign tape drives with  the  TOPS-20  ASSIGN  command  and
   their labeled tapes will be treated as unlabeled tapes.


   ____ ___  ____ ______ _____________________ ___ _____ ___ ______ ____   Step 84:  Type ENABLE TAPE-DRIVE-ALLOCATION and press the RETURN key.

   To allow labeled tape processing and the automatic assignment of  tape
   drives, type ENABLE TAPE-DRIVE-ALLOCATION.

                ______ _____________________ _____        04400   ENABLE TAPE-DRIVE-ALLOCATION <RET>
        04500



   3.3.12.2  Treatment of Unrecognized Tapes   3.3.12.2  Treatment of Unrecognized Tapes - If you enabled tape  drive
   allocation  in  the  previous  step,  you  must decide what action the
   system should take if  a  labeled  tape  is  mounted  improperly  (for
   example,  the user specifies the wrong label type or density).  If you
   want the system to unload the tape so that it cannot  be  accidentally


                                    3-21
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   erased,  you  must  insert  the command TAPE-RECOGNITION-ERRORS UNLOAD
   into the configuration command file.  If you do not give this command,
   the  system  will  treat improperly mounted labeled tapes as unlabeled
   tapes and will continue processing them.  That is, the system  default
   is TAPE-RECOGNITION-ERRORS REGARD-AS-UNLABELED.


   ____ ___  ____ _______________________ ______  ___  _____  ___  ______   Step 85:  Type TAPE-RECOGNITION-ERRORS UNLOAD  and  press  the  RETURN
             ____             key.

   To force the automatic unloading of  any  tapes  that  are  improperly
   mounted, type TAPE-RECOGNITION-ERRORS UNLOAD.

                _______________________ ______ _____        04500   TAPE-RECOGNITION-ERRORS UNLOAD <RET>
        04600




   3.3.13  Accounting Shift Changes   3.3.13  Accounting Shift Changes

   The accounting facility allows you to provide varied billing rates for
   system  use at different times.  You do this by entering commands into
   the configuration command file specifying the time  of  day  for  each
   rate  change.   You  should  give  one  command for each time the rate
   changes.  Use days of the week or the keywords WEEKDAYS, WEEKENDS, and
                                                                  _______   ALL,  and  times  in either 24-hour or AM/PM format.  (See the TOPS-20
   ______ _________ _____   System Manager's Guide for detailed information about accounting shift
   changes.)


   ____ ___  ____ ___ ______ ________ ___ __________ _____ ________   Step 86:  Type the CHANGE commands for accounting shift changes.

   CHANGE commands are entered into the  configuration  command  file  to
   provide special rates for evenings and weekends.  Press the RETURN key
   after entering each command.  This  is  only  an  example.   You  must
   provide the correct days and times for your own system.

                ______  ____ ________ _____        04600   CHANGE  9:00 WEEKDAYS <RET>
                ______ _____ ________ _____        04700   CHANGE 17:00 WEEKDAYS <RET>
                ______  ____ ________ _____        04800   CHANGE  0:00 SATURDAY <RET>
        04900

                                    NOTE

           You do not have to  enter  CHANGE  commands  into  the
           configuration  command  file.  If you do not enter any
           CHANGE commands, the accounting shift  change  feature
           of system accounting is not used.





                                    3-22
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   3.3.14  Assigning MSCP-served Disk Drives   3.3.14  Assigning MSCP-served Disk Drives

   MSCP (Mass Storage Communication Protocol) is responsible for granting
   access  to  MASSBUS  disks  across the CI (Computer Interconnect).  To
   have MSCP grant access to disks across the CI, use the ALLOW  command,
   in the following format, in the configuration command file:

        ALLOW   drive-type   serial-number

   where:

|       drive-type       is RP04, RP05, RP06, RP07, or RP20.

        serial-number    is serial number of the disk drive.

   To determine the disk drive's serial number, use the OPR command  SHOW
                            _______ __________ _______ ________ _________   CONFIGURATION.  (See the TOPS-20 Operator's Command Language Reference
   ______   Manual for information about this command.) 

|  To disallow access to a served disk that was allowed access, enter the
|  following command in the configuration command file:
|  
|       RESTRICT   drive-type   serial number
|  
|  Disks are RESTRICTED by default if you do not specify ALLOW commands.


   ____ ___  ______ ___________ ____ _______   Step 87:  Define MSCP-served disk drives.

   Enter the ALLOW command for each disk drive to be served by  MSCP  and
   press  the RETURN key.  (Determine the disk drive's serial number with
   the OPR command SHOW CONFIGURATION.)   The  commands  shown  are  only
   examples.  You must determine the correct definitions for your system.

                _____   ____   ____ _____        04900   ALLOW   RP06   1243 <RET>
                _____   ____   ____ _____        05000   ALLOW   RP20   3327 <RET>
        05100



   3.3.15  Specifying Daylight Savings Time   3.3.15  Specifying Daylight Savings Time

   You can specify one of three daylight savings time  (DST)  options  in
   the configuration command file.  The three options are:

         o  AUTOMATIC (change at the prescribed time; that is, set DST to
            automatically   go  on  the  last  Sunday  in  April  and  to
            automatically go off the last Sunday in October)

         o  OFF (never do DST conversions)




                                    3-23
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


         o  ON (always do DST conversions)

   The most convenient option is AUTOMATIC, but you must determine  which
   option is best for your site.


   ____ ___  ____ ___ ________ _ _______ ___ _____ ___ ______ ____   Step 88:  Type the DAYLIGHT n command and press the RETURN key.

   To specify the DST option for your system, type DAYLIGHT  followed  by
   the appropriate argument.  The following is only an example.  You must
   enter the correct definition for your system.

                ________ __ _____        05100   DAYLIGHT ON <RET>
        05200



   3.3.16  Specifying Remote Line Conditions   3.3.16  Specifying Remote Line Conditions

   You can specify whether or not a remote line will be hung up after the
   LOGOUT  command  is  issued  on logged-out or logged-in terminal jobs.
   Setting these parameters can be especially useful for dial-up lines or
   for  resource  contention  devices such as terminal concentrators.  To
   specify whether a remote line will be hung-up, you must  enter  either
   an ENABLE or DISABLE command in the configuration command file.


   ____ ___  ____   ___    ______    ___________________    ___    ______   Step 89:  Type   the    ENABLE    HANGUP-IF-LOGGED-IN    and    ENABLE
             ____________________ _________             HANGUP-IF-LOGGED-OUT commands.

   To enable the remote line to be disconnected after a logout command is
   issued  on  logged-out  or logged-in terminal jobs, type the following
   two commands into the configuration command file.   Press  the  RETURN
   key after each command.

                ______   ___________________ _____        05200   ENABLE   HANGUP-IF-LOGGED-IN <RET>
                ______   ____________________ _____        05300   ENABLE   HANGUP-IF-LOGGED-OUT <RET>
        05400



   3.3.17  Controlling System Message Levels   3.3.17  Controlling System Message Levels

   You have the option of notifying users  of  certain  events,  such  as
   resource  problems.   The  following two commands allow you to control
   what class of messages users will receive.

        ENABLE       SYSTEM-MESSAGE-LEVEL-0
        DISABLE

|  informs (or not inform) users about resource problems.  These messages
|  are:


                                    3-24
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


|        o  [Caution -- Swapping space low]
|  
|        o  [Caution -- SPT space low]
|  
|        o  [Caution -- Disk space low on system structure]

        ENABLE       SYSTEM-MESSAGE-LEVEL-1
        DISABLE

|  informs (or not inform) users of  operational  type  messages.   These
|  messages, which are on by default, are:
|  
|        o  [System name going down in....]
|  
|        o  [Shutdown canceled]
|  
|        o  [Deleted files will be expunged from system structure  in  30
|           seconds]
|  
|        o  [System structure expunge completed]


   ____ ___  ____ ___ ______ ______________________  ________  ___  _____   Step 90:  Type the ENABLE SYSTEM-MESSAGE-LEVEL-n  commands  and  press
             ___ ______ ____             the RETURN key.

   To enable users to receive both types of  system  messages,  type  the
   ENABLE SYSTEM-MESSAGE-LEVEL-n commands.

                ______ ______________________ _____        05400   ENABLE SYSTEM-MESSAGE-LEVEL-0 <RET>
                ______ ______________________ _____        05500   ENABLE SYSTEM-MESSAGE-LEVEL-1 <RET>
        05600



   3.3.18  Network Information   3.3.18  Network Information

   Enter the  following  command  lines  (Steps  91  and  92)  into  your
   configuration  command  file  in  order to identify your system and to
   turn off LAT (Local Area Transport) terminal servers.


   ____ ___  ____ ____ ________ __________ ___ _____ ___ ______ ____   Step 91:  Type NODE nodename nodenumber and press the RETURN key.

   Use the NODE command to  define  your  system's  node  name  and  node
   number.   By  providing  this information in the configuration command
   file, you enable several processes to work properly.  In the  example,
   the node name is DISNEY and the node number is 8.164.

                ____ ______ _____ _____        05600   NODE DISNEY 8.164 <RET>
        05700




                                    3-25
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   ____ ___  ____ _________ ___ ___ _____ ___ ______ ____   Step 92:  Type LAT-STATE OFF and press the RETURN key.

|  The LAT access state is enabled by default.  Disabling it is useful if
|  you  wish  to  establish  guidelines  and set restrictions for LAT use
|  before you enable it.  You can set groups and the host identification,
|  for  example,  before  enabling  LAT.   The  command to enable the LAT
|  access state is LAT-STATE ON.

   Type the LAT-STATE OFF command if you are not using terminal servers.

                _________ ___ _____        05700   LAT-STATE OFF <RET>
        05800

   For  information  on  installing  LAT  terminal   servers,   see   the
   installation guide for any LAT terminal servers that you have.



   3.3.19  Designating Off-line Structures   3.3.19  Designating Off-line Structures

   The off-line  structure  facility  designates  to  the  monitor  which
   structures are offline.  This prevents processes from opening files on
   or accessing disk units that the TOPS-20 monitor  knows  are  offline.
   You  can  also  set  a timeout interval between the time the disk goes
   offline and the monitor sets the structure offline.

   The command to  enable  the  off-line  structure  facility  is  ENABLE
   OFFLINE-STRUCTURES  mm:ss.   This  is  the  default  (with  a  timeout
   interval of one minute).  You need only to  enter  a  command  in  the
   configuration  command file if you want to change the timeout interval
   (between 1 and 15 minutes) or to turn the off-line structure  facility
   off.   The  command  to  turn  off the off-line structures facility is
   DISABLE OFFLINE-STRUCTURES.


   ____ ___  ____ ______ __________________ _____ ___  _____  ___  ______   Step 93:  Type ENABLE OFFLINE-STRUCTURES 05:00 and  press  the  RETURN
             ____             key.

   This example shows how  to  change  the  off-line  structures  timeout
   interval to five minutes.

                ______ __________________ _____ _____        05800   ENABLE OFFLINE-STRUCTURES 05:00 <RET>
        05900



   3.3.20  Designating Login Structure   3.3.20  Designating Login Structure

   The login structure facility allows you to specify a  structure  other
   than  the  swapping  structure as the login structure.  You can define
   any structure that is available to the system at startup time  as  the
   login  structure.   This  structure  would  be  used by the monitor to


                                    3-26
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   obtain the user names and login directories.  The logical name PS:  is
   defined  to  point  to the login structure.  The boot structure is the
   structure from which the monitor is booted and to  which  the  monitor
   swaps.

   The  command  to  enable  the  login  structure  facility  is   ENABLE
   LOGIN-STRUCTURE,  which  instructs  the  monitor  to attempt to find a
   login structure when the system is booted.  If  this  command  is  not
   issued,  the  monitor  will  not  attempt  to  find  a  separate login
   structure and the boot structure is used as the login structure.

   The command to turn  off  the  login  structure  facility  is  DISABLE
   LOGIN-STRUCTURE,   which  bypasses  any  attempt  to  define  a  login
   structure that is separate from  the  boot  structure.   This  is  the
   default.


   ____ ___  ____ ______ _______________ ___ _____ ___ ______ ____   Step 94:  Type ENABLE LOGIN-STRUCTURE and press the RETURN key.

   If you want the monitor to search  for  a  login  structure  when  the
   system is booted, type ENABLE LOGIN-STRUCTURE.

                ______ _______________ _____        05900   ENABLE LOGIN-STRUCTURE <RET>
        06000
|  
|  
|  
   3.3.21  Preventing Fast logins|  3.3.21  Preventing Fast logins
|  
|  By using the /FAST switch with the LOGIN  command,  users  can  bybass
|  processing of the LOGIN.CMD and COMMAND.CMD files, which are set up to
|  limit users' computing environments.  For example, sets of  users  may
|  be  allowed  only to read mail or run some other computer application.
|  You can prevent fast logins  by  entering  the  command  DISABLE  FAST
|  LOGIN-OPTION in the configuration command file.
|  
|  ENABLE FAST-LOGIN-OPTION is in effect by default.
|  
           _______ ______ _____|  See the TOPS-20 User's Guide for  information  on  the  LOGIN.CMD  and
                              _______ ________ _________ ______|  COMMAND.CMD  files.   The  TOPS-20 Commands Reference Manual describes
|  the LOGIN command.
|  
|  
   ____ _____  ____ _______ _________________ ___ _____ ___ ______ ____|  Step 94.1:  Type DISABLE FAST-LOGIN-OPTION and press the RETURN key.
|  
|  If you want to prevent fast logins, type DISABLE FAST-LOGIN-OPTION.
|  
                _______ _________________ _____|       06000   DISABLE FAST-LOGIN-OPTION <RET>
|       06100





                                    3-27
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   3.3.22  Cluster Data Gathering   3.3.22  Cluster Data Gathering

   Cluster data gathering is a feature that allows systems in  a  cluster
   to  easily  share  information  from  any system in the cluster.  This
   feature enables users to obtain a SYSTAT of the entire cluster or of a
   specified  job  on  a  node  in the cluster.  It also allows a user to
   obtain the system status of nodes in the cluster and to send  messages
   to nodes in a cluster.



   3.3.22.1  Cluster Information   3.3.22.1  Cluster Information - You can allow information to be shared
   among  nodes  in  the  cluster.  If you want cluster information to be
   shared, you do not have to enter any command  into  the  configuration
   command    file,   because   the   system   default   is   to   ENABLE
                                                ___   CLUSTER-INFORMATION.  However, if you decide not to share  information
   with  a  node  in  the  cluster,  you  must  enter the command DISABLE
   CLUSTER-INFORMATION in the configuration command file.  (This  feature
   is  not  totally  turned  off,  since GALAXY components are allowed to
   gather remote information at any time.)  Step  95  is  an  example  of
   disabling the cluster information feature.


   ____ ___  ____ _______ ___________________ ___ _____ ___ ______ ____   Step 95:  Type DISABLE CLUSTER-INFORMATION and press the RETURN key.

   If you do not want the local node to  share  information  with  remote
   nodes in the cluster, type DISABLE CLUSTER-INFORMATION.

                _______ ___________________ _____        06100   DISABLE CLUSTER-INFORMATION <RET>
        06200   



   3.3.22.2  Cluster Sendalls   3.3.22.2  Cluster Sendalls - You can allow the local node  to  receive
   information  from  remote  nodes  in  the  cluster.   This information
   includes class scheduling  information,  job  information,  and  other
   miscellaneous  information.   If  you  want  the local node to receive
   cluster sendalls, do not enter  any  command  into  the  configuration
   command    file,   because   the   system   default   is   to   ENABLE
                                                ___   CLUSTER-SENDALLS.  However, if  you  decide  not  to  receive  cluster
   sendalls,  you  must enter the command DISABLE CLUSTER-SENDALLS in the
   configuration command file.  (This feature is not totally turned  off,
   since  GALAXY  components are allowed to perform cluster sendalls when
   necessary).  Step 96 is example  of  disabling  the  cluster  sendalls
   feature.


   ____ ___  ____ _______ ________________ ___ _____ ___ ______ ____   Step 96:  Type DISABLE CLUSTER-SENDALLS and press the RETURN key.

   If you do not want the local node  to  receive  cluster-sendalls  from
   remote nodes, type DISABLE CLUSTER-SENDALLS.



                                    3-28
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                _______ ________________ _____        06200   DISABLE CLUSTER-SENDALLS <RET>
        06300   



   3.3.23  Password Management   3.3.23  Password Management

|  Password management features allow you to check  that  users  at  your
|  site  do not choose passwords that are too short or that are otherwise
|  easy to quess, such as a name or initials.



   3.3.23.1  Designating Minimum Password Length   3.3.23.1  Designating Minimum Password Length - You  can  control  the
   minimum  length  of  each  user's  unencrypted  password  string.  The
   minimum password length can be set to between 1 and 39 characters.  To
   set  the  minimum  password length always at system startup, enter the
   command ENABLE MINIMUM-PASSWORD-LENGTH n in the configuration  command
   file.


   ____ ___  ____ ______ _______ ________ ______ _ ___ _____  ___  ______   Step 97:  Type ENABLE MINIMUM PASSWORD LENGTH n and press  the  RETURN
             ___             key

   If you want to set the minimum password length at system startup, type
   ENABLE  MINIMUM  PASSWORD  LENGTH  n.   The following example sets the
   minimum password length to six characters.

                ______ _______________________ _ _____        06300   ENABLE MINIMUM-PASSWORD-LENGTH 6 <RET>
        06400
|  
|  
|  
   3.3.23.2  Changing Passwords Regularly|  3.3.23.2  Changing Passwords Regularly - You  can  control  how  often
|  users  must change their passwords.  You can set the numbers of days a
|  password is valid since the time it was last changed.  You can set the
|  number  from 1 through 366.  The default number of days is 30.  To add
|  this feature, you must insert the command ENABLE PASSWORD-EXPIRATION n
|  into the configuration command file.
|  
|  
   ____ _____  ____ ______ ___________________ _ ___ _____ ___ ______ ___|  Step 97.1:  Type ENABLE PASSWORD-EXPIRATION n and press the RETURN key
|  
|  If  you  want  to  enable  the  password   expiration,   type   ENABLE
|  PASSWORD-EXPIRATION  n.   The  following  example  sets  the  password
|  expiration date to 45 days since the time it was last changed.
|  
                ______ ___________________ __ _____|       06400   ENABLE PASSWORD-EXPIRATION 45 <RET>
|       06500





                                    3-29
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   3.3.23.3  Disallowing  Certain  Passwords|  3.3.23.3  Disallowing  Certain  Passwords - You   can   make   certain
|  combinations of characters illegal for use as passwords.  Perhaps they
|  would be too easily guessed by an intruder.  You can place such  words
|  in  the  file  SYSTEM:PASSWORD.DICTIONARY  and have them automatically
                                                          _______  ______|  matched against newly supplied  passwords.   See  the  TOPS-20  System
   _________ _____|  Manager's Guide for details on how to setup the file.
|  
|  To  add  this  feature,   you   must   insert   the   command   ENABLE
|  PASSWORD-DICTIONARY into the configuration command file.
|  
|  
   ____ _____  ____ ______ ___________________ ___ _____ ___ ______ ___|  Step 97.2:  Type ENABLE PASSWORD-DICTIONARY and press the RETURN key
|  
|  If you want to enable the disallowing of certain password, type ENABLE
|  PASSWORD-DICTIONARY.
|  
                ______ ___________________ _____|       06500   ENABLE PASSWORD-DICTIONARY <RET>
|       06600



   3.3.24  Dumping on Non-fatal System Errors   3.3.24  Dumping on Non-fatal System Errors

   The monitor can dump its memory area to a disk file when  BUGCHKs  and
   BUGINFs  occur.  The dump-on-BUGCHK feature helps you debug the system
   of non-fatal, "continuable"  errors  by  providing  a  dump  file  for
   examination.

   To enable the dump-on-BUGCHK  feature,  you  must  enter  the  command
   ENABLE  DUMP-ON-BUGCHK FACILITY in the configuration command file.  At
   least one of the following commands  is  further  required  to  enable
   dumping of all or specific BUGCHKs and BUGINFs that can be dumped:

        ENABLE DUMP-ON-BUGCHK ALL BUGCHKS
        ENABLE DUMP-ON-BUGCHK ALL BUGINFS
        ENABLE DUMP-ON-BUGCHK BUG bugname

   With the first two commands, each BUGCHK or BUGINF is dumped only once
   per  loading  of  the  system.   The third command causes a dump to be
   taken each time that the specified BUGCHK or BUGINF occurs.

   If the feature is disabled, the system  produces  only  "crash"  dumps
   associated with fatal errors, but not "continuable" dumps.

|  Dumps are taken only as often as the DUMP-ON-BUGCHECK timeout  allows,
|  which  is  15 seconds by default.  The following command overrides the
|  timeout constraint and allows a  dump  to  be  taken  as  often  as  a
|  specified bug occurs:
|  
|       ENABLE DUMP-ON-BUGCHK BUG bugname IGNORE-DUMP-TIMEOUT
|  
|  To shorten the output from a BUGCHK or BUGINF, you can use the command


                                    3-30
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


|  ENABLE  SHORT-BUG-OUTPUT.   This command enables the feature to output
|  the error message on one line, instead of on several lines.


   ____ ___  ____ ______ ______________ ________  ___  _____  ___  ______   Step 98:  Type ENABLE DUMP-ON-BUGCHK FACILITY  and  press  the  RETURN
             ____             key.

   To enable  the  dump-on-BUGCHK  feature,  type  ENABLE  DUMP-ON-BUGCHK
   FACILITY.    To  enable  the  dumping  of  all  BUGCHKs,  type  ENABLE
|  DUMP-ON-BUGCHK ALL-BUGCHKS.  To allow a dump to be taken everytime the
|  TTYSTP    bug    occurs,    type    ENABLE    DUMP-ON-BUGCHK    TTYSTP
|  IGNORE-DUMP-TIMEOUT.  To shorten the output of a BUGCHK or  BUGINF  to
|  one line, type ENABLE SHORT-BUG-OUTPUT.

                ______ ______________ ________ _____        06600   ENABLE DUMP-ON-BUGCHK FACILITY <RET>
                ______ ______________ ___________ _____        06700   ENABLE DUMP-ON-BUGCHK ALL-BUGCHKS <RET>
                ______ ______________ ______ ___________________ _____|       06800   ENABLE DUMP-ON-BUGCHK TTYSTP IGNORE-DUMP-TIMEOUT <RET>
                ______ ________________ _____|       06900   ENABLE SHORT-BUG-OUTPUT <RET>
        07000



   3.3.25  Disabling the Console Terminal for Operator Output   3.3.25  Disabling the Console Terminal for Operator Output

|  The ENABLE JOB0-CTY-OUTPUT command in effect by  default.   It  allows
|  the  operator to receive messages at the console terminal about system
|  resources, such as when disk space is low on the system  structure  or
|  when swapping space is low.
|  
|  If you do not want these messages  to  be  displayed  on  the  console
|  terminal,   then  put  the  DISABLE  JOB0-CTY-OUTPUT  command  in  the
|  configuration command file.
|  
|  
   ____ _____  ____ _______ _______________ ___ _____ ___ ______ ____|  Step 98.1:  Type DISABLE JOB0-CTY-OUTPUT and press the RETURN key.
|  
|  If you do not want the operator notified at the console terminal about
|  the status of system resources, then type DISABLE JOB0-CTY-OUTPUT.
|  
                _______ _______________ _____|       07000   DISABLE JOB0-CTY-OUTPUT <RET>
|       07100
|  
|  
|  
   3.3.26  Enabling the Access Control Program|  3.3.26  Enabling the Access Control Program
|  
|  The TOPS-20 access control program (ACJ) helps you govern  the  access
|  to  many  of  the  system's  resources and services, reduce or prevent
|  unauthorized access to the  system,  and  investigate  occurrences  of
|  unauthorized  access.   It  can  control  scheduling classes, the bias
|  control, batch background queue, logging in, use of physical resources
|  (tape drives, terminals, structures), and enabling capabilities.


                                    3-31
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


|  The   command    to    enable    the    ACJ    program    is    ENABLE
|  SYSTEM-ACCESS-CONTROL-JOB.
|  
           _______ ______ _________ _____|  See the TOPS-20 System Manager's Guide for more information on the ACJ
|  program.
|  
|  
   ____ _____  ____ ______ _________________________ ___ _____ ___ ______|  Step 98.2:  Type ENABLE SYSTEM-ACCESS-CONTROL-JOB and press the RETURN
               ____|              key.
|  
|  To    enable    the    access    control    program,    type    ENABLE
|  SYSTEM-ACCESS-CONTROL-JOB.
|  
                ______ _________________________ _____|       07100   ENABLE SYSTEM-ACCESS-CONTROL-JOB <RET>
|       07200
|  
|  
|  
   3.3.27  Hangup on DETACH|  3.3.27  Hangup on DETACH
|  
|  When a user detaches from a DECSYTEM-20, the  terminal  line  is  left
|  open.  This leaves a terminal line attached and in use by the physical
|  terminal connected to the DECSYSTEM-20 (or  virtual  terminals).   You
|  can set a system-wide parameter to hang up the terminal line after the
|  user detaches using the command ENABLE HANGUP-ON-DETACH.
|  
|  You can also set a time limit to determine how long  after  a  carrier
|  off  is  detected that the job is logged out.  This command to set the
|  time limit is ENABLE DETACH-CARRIER-OFF xx, where xx is  a  number  in
|  minutes.   The  DISABLE  DETACH-CARRIER-OFF  command sets the detached
|  limit to 0 and when a carrier off is detected, the job is  immediately
|  logged out.
|  
|  
   ____ _____  ____ ______ ________________ ___ ______ __________________|  Step 98.3:  Type ENABLE HANGUP-ON-DETACH and ENABLE DETACH-CARRIER-OFF
               ________|              commands
|  
|  To enable the hangup on DETACH feature and to set a time limit for how
|  long  after a carrier off is detected before a job is logged out, type
|  the following commands in the command configuration file.
|  
                ______ ________________ _____|       07200   ENABLE HANGUP-ON-DETACH <RET>
                ______ __________________ _ _____|       07300   ENABLE DETACH-CARRIER-OFF 3 <RET>
|       07400
|  
|  
|  
   3.3.28  Scheduling Low Priority to Batch Jobs|  3.3.28  Scheduling Low Priority to Batch Jobs
|  
|  You must use the class scheduler to give batch jobs a  high  priority.
|  If  you  are  not using the class scheduler, you can give batch jobs a
|  low priority by using  the  BATCH-BACKGROUND  command.   This  command


                                    3-32
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


|  specifies  that  all batch jobs run on the lowest priority queue, also
|  known as background queue.   This  means  that  after  processing  all
|  interactive jobs, the scheduler selects and runs batch jobs waiting in
|  the queue.
|  
|  The BATCH-BACKGROUND command is intended for those who are  not  using
|  the  class scheduler on their system but want to give the batch jobs a
|  low priority.  You should not use this command  when  you  enable  the
|  class scheduler.
|  
|  
   ____ _____  ____ ________________ ___ _____ ___ ______ ____|  Step 98.4:  Type BATCH-BACKGROUND and press the RETURN key.
|  
|  To schedule low priority to batch jobs, type BATCH-BACKGROUND.
|  
                ________________ _____|       07400   BATCH-BACKGROUND <RET>
|       07500

                            Update Installations

           Proceed to Appendix A,  Section  A.2.5,  Step  43,  to
           continue your update installation.



   3.4  SAVING THE CONFIGURATION COMMAND FILE   3.4  SAVING THE CONFIGURATION COMMAND FILE

   Perform Steps 99 and 100 to save and read  the  configuration  command
   file.


   ____ ___  _____ ___ ______ ____  ____ __ ___ _____ ___ ______ ____   Step 99:  Press the ESCape key.  Type EU and press the RETURN key.

   When you have finished creating the configuration command file,  press
   the  ESCape key to end insert mode.  The system prints the EDIT prompt
   (*).  Then type EU and press the RETURN key to  save  the  file.   The
   system  prints  the  file name and generation number, then the ENABLEd
   prompt ($).

               _        07500  $
         __ _____        *EU <RET>

        [PS:<SYSTEM>7-CONFIG.CMD.1]
        $


   ____ ____  _____ ____ _______________________  ___  _____  ___  ______   Step 100:  Enter TYPE PS:<SYSTEM>7-CONFIG.CMD  and  press  the  RETURN
              ____              key.

   To be sure that the file is in the  proper  directory,  use  the  TYPE
   command.   The system prints the contents of the file on your terminal
   (see Figure 3-1).  The file in Figure 3-1 is only an example.


                                    3-33
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   Error:    If the system cannot find the file or prints the wrong file,
             give  the  following  COPY  command  to  place  the  file in
             PS:<SYSTEM>:

                   ____ ____________ _______________________ _____                  $COPY 7-CONFIG.CMD PS:<SYSTEM>7-CONFIG.CMD <RET>

                      _______ ____ _________ ______             (See the TOPS-20 EDIT Reference Manual if you want to change
             the file.)














































                                    3-34
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


         ____ _______________________ _____        $TYPE PS:<SYSTEM>7-CONFIG.CMD <RET>
        ! Terminal Speeds
        ! Line 1 has input=9600 and output=9600
        TERMINAL 1 SPEED 9600 
        ! Lines 2 to 20 have input and output=2400
        TERMINAL 2-20 SPEED 2400
        ! Lines 23 to 40 are shut off
        TERMINAL 23-40 SPEED 0
        ! Line 21 and 22 are dialup lines
        TERMINAL 21 REMOTE SPEED 300
        TERMINAL 22 REMOTE AUTO
|       TERMINAL 21 IGNORE-SYSTEM-MESSAGES
|       TERMINAL 21 IGNORE-USER-MESSAGES
|       TERMINAL 22 NOBELL
        DEFINE NEW: PS:<NEW>,SYS:
        DEFINE OLD: PS:<OLD>,SYS:
        DEFINE HLP: SYS:
        DEFINE SERR: PS:<SYSTEM-ERROR>
        DEFINE DMP: PS:<directory>
        DEFINE POBOX: PS:
        DEFINE EDITOR: SYS:TV.EXE
        MAGTAPE 0 24 TU45
        MAGTAPE 1 2001 TU77
        MAGTAPE 2 2002 TU71
        MAGTAPE 3 2003 TU70
        MAGTAPE 4 1500 TU72
        PRINTER 0 LOWERCASE VFU SYS:NORMAL.VFU
        PRINTER 1 VFU SYS:NORMAL.VFU
        PRINTER 0 LOWERCASE RAM SYS:LP96.RAM
        PRINTER 1 RAM SYS:LP64.RAM
        TIMEZONE 5
        DISABLE DIRECTORY-PARAMETER-SETTING
        DISABLE ACCOUNT-VALIDATION
        ENABLE FULL-LATENCY-OPTIMIZATION
        ENABLE WORKING-SET-PRELOADING
        BIAS 6
        CREATE 1 .20
        CREATE 2 .40
        CREATE 3 .15
        BATCH-CLASS 4
        CREATE 4 .25
        ENABLE CLASS-SCHEDULING ACCOUNTS ALLOCATED
        ARCHIVE-TAPE-RECYCLE-PERIOD 1825
        TAPE-RECYCLE-PERIOD 90
        ENABLE TAPE-DRIVE-ALLOCATION
        TAPE-RECOGNITION-ERRORS UNLOAD


   Figure 3-1:  The 7-CONFIG.CMD File   Figure 3-1:  The 7-CONFIG.CMD File





                                    3-35
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


        CHANGE 9:00 WEEKDAYS
        CHANGE 17:00 WEEKDAYS
        CHANGE 0:00 SATURDAY
        ALLOW RP06 1243
        ALLOW RP20 3327
        DAYLIGHT ON
        ENABLE HANGUP-IF-LOGGED-IN
        ENABLE HANGUP-IF-LOGGED-OUT
        ENABLE SYSTEM-MESSAGE-LEVEL-0
        ENABLE SYSTEM-MESSAGE-LEVEL-1
        NODE DISNEY 8.164
        LAT-STATE OFF
        ENABLE OFFLINE-STRUCTURE 0:05
        ENABLE LOGIN-STRUCTURE
        DISABLE CLUSTER INFORMATION
        DISABLE CLUSTER-SENDALLS
|       DISABLE FAST-LOGIN-OPTION
        ENABLE MINIMUM-PASSWORD-LENGTH 6
|       ENABLE PASSWORD-EXPIRATION 45
|       ENABLE PASSWORD-DICTIONARY
        ENABLE DUMP-ON-BUGCHK FACILITY
        ENABLE DUMP-ON-BUGCHK ALL-BUGCHKS
|       ENABLE DUMP-ON-BUGCHK BUG TTYSTP IGNORE-DUMP-TIMEOUT
|       ENABLE SHORT-BUG-OUTPUT
|       DISABLE JOB0-CTY-OUTPUT
|       ENABLE SYSTEM-ACCESS-CONTROL-JOB
|       ENABLE HANGUP-ON-DETACH
|       ENABLE DETACH-CARRIER-OFF 3
|       BATCH-BACKGROUND
        $

                The 7-CONFIG.CMD File (Cont'd)   Figure 3-1:  The 7-CONFIG.CMD File (Cont'd)



   3.5  CHANGING THE OPERATOR'S PASSWORD AND USER GROUP   3.5  CHANGING THE OPERATOR'S PASSWORD AND USER GROUP

   You should change the operator's password from the  widely  publicized
   "DEC-20" to a 39-alphanumeric-character phrase of your choosing.  (The
                                    __ ____ __ ________ ___  ________   password can include a hyphen.)  Be sure to remember the  password  or
   you  will  have  to  reinstall  the  system if you cannot think of the
   particular password that you typed.

   Also, in order for the operator to run  the  User  Environmental  Test
   Package  (UETP),  he must belong to the correct user group.  Steps 101
   through 105 describe how to change the operator's  password  and  user
   group.


   ____ ____  ____ _____ _____________ ___ _____ ___ ______ ____   Step 101:  Type BUILD PS:<OPERATOR> and press the RETURN key.

   Use the BUILD command to change the characteristics of  the  directory


                                    3-36
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   PS:<OPERATOR>.   The  system  prints  [Old],  and  then the subcommand
   prompt $$.

         _____ _____________ _____        $BUILD PS:<OPERATOR> <RET>
        [Old]
        $$


   ____ ____  ____ ________ _____________ ___ _____ ___ ______ ____   Step 102:  Type PASSWORD your-password and press the RETURN key.

   To insert the operator's new password, use  the  subcommand  PASSWORD.
   The system again prints the subcommand prompt.

          ________ _____________ _____        $$PASSWORD your-password <RET>
        $$


   ____ ____  ____ _____________ ___ ___ _____ ___ ______ ____   Step 103:  Type USER-OF-GROUP 100 and press the RETURN key.

   The operator must be a member of user group 100 in order to run  UETP.
   The system again prints the subcommand prompt.

          _____________ ___ _____        $$USER-OF-GROUP 100 <RET>
        $$

   Error:    If you see a message similar to:  %Group already exists, you
             can  ignore  this message.  The operator is already a member
             of the correct user group.  Continue with Step 104.


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 104:  Type IPCF and press the RETURN key.

   The operator must  have  IPCF  (InterProcess  Communication  Facility)
   capabilities  in  order  to  run  UETP.   The  system again prints the
   subcommand prompt.

          ____ _____        $$IPCF <RET>
        $$


   ____ ____  _____ ___ ______ ____   Step 105:  Press the RETURN key.

   To return to TOPS-20 command level, press the RETURN key.

           _____        $$ <RET>
        $



   3.6  CREATING THE DIRECTORY PS:<REMARKS>   3.6  CREATING THE DIRECTORY PS:<REMARKS>

   The system uses the directory PS:<REMARKS> to store messages  sent  by


                                    3-37
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   users  to  the  operator.   Creating  this  directory  avoids constant
   interruption to the operator from users issuing PLEASE requests.  With
   this  directory the operator can read the messages at a specified time
   each day.  Create the directory by performing Steps 106 and 107.  (See
        _______  __________  _____   the  TOPS-20  Operator's  Guide for additional information on creating
   directories.)


   ____ ____  ____ _____ ____________ ___ _____ ___ ______ ____   Step 106:  Type BUILD PS:<REMARKS> and press the RETURN key.

   Use the BUILD command to create the directory PS:<REMARKS>.

         _____ ____________ _____        $BUILD PS:<REMARKS> <RET>
        [New]
        $$


   ____ ____  _____ ___ ______ ____   Step 107:  Press the RETURN key.

   Upon completion of the above step, the system  prints  [New]  and  $$.
   Press   the   RETURN   key   to   create   a  directory  with  default
   characteristics.

           _____        $$ <RET>
        $



   3.7  CREATING THE LPFORM.INI FILE   3.7  CREATING THE LPFORM.INI FILE

   If you create the LPFORM.INI file, then each time  LPTSPL  receives  a
   request for the line printer, the system does the following:

        1.  Prints up to five pages containing the name of the  user  who
            requested the line printer (BANNER).

        2.  Prints up to five pages containing the name of the file  that
            is being printed (HEADER).

        3.  After all the information in that file is printed, it  prints
            up to five pages containing the user's name again (TRAILER).

   If this file is omitted, each time a request for the line  printer  is
   received,  LPTSPL will use the system default, which is two pages each
   for the banner, header, and trailer.

   Perform Steps 108 through 111 to create the LPFORM.INI file.


   ____ ____  ____ _______ ___________ ___ _____ ___ ______ ____   Step 108:  Type CONNECT PS:<SUBSYS> and press the RETURN key.

   The LPFORM.INI file must reside in the directory PS:<SUBSYS>.  Use the


                                    3-38
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   CONNECT command to be sure you are using the correct directory.

         _______ ___________ _____        $CONNECT PS:<SUBSYS> <RET>
        $


   ____ ____  ____ ______ __________ ___ _____ ___ ______ ____   Step 109:  Type CREATE LPFORM.INI and press the RETURN key.

   Use your system's text editing program to create the LPFORM.INI  file.
   This  example  uses  the  EDIT  program.   To  use  EDIT,  type CREATE
   LPFORM.INI to create the file.  The system proceeds into edit mode and
   prints INPUT: PS:<SUBSYS>LPFORM.INI and the line number 00100.

         ______ __________ _____        $CREATE LPFORM.INI <RET>
        INPUT: PS:<SUBSYS>LPFORM.INI.1
        00100


   ____ ____  _____ ___ _______ ___________   Step 110:  Enter the printer parameters.

   Type the printer parameters that  are  appropriate  for  your  system.
   Press  the  RETURN  key  after  each  parameter.   The  example  shows
   parameters for both  normal  and  narrow  forms.   Remember  that  the
   parameters in the example are for explanatory purposes only.  You must
   determine the appropriate parameters for your system.

                __________________________________ _____        00100   NORMAL/BANNER:2/HEADER:2/TRAILER:2 <RET>
                ___________________________________________ _____        00200   NARROW/BANNER:2/HEADER:2/TRAILER:2/WIDTH:72 <RET>
        00300

   The parameters shown cause pages containing the user's  name  and  the
   file  name  to be printed twice on both normal and narrow forms before
   the actual data is printed.  Also, after all the data is printed,  the
   system  prints two pages containing the user's name on both normal and
   narrow forms.  The  parameter  WIDTH:72  informs  the  system  that  a
   maximum  of 72 characters can be printed horizontally on narrow forms.
            _______ __________ _____   (See the TOPS-20 Operator's Guide for a complete  description  of  all
   the LPFORM.INI parameters.)


   ____ ____  _____ ___ ______ ____  ____ __ ___ _____ ___ ______ ____   Step 111:  Press the ESCape key.  Type EU and press the RETURN key.

   To leave edit mode and save the file without line numbers,  press  the
   ESCape key.  The system prints the EDIT prompt.  Type EU and press the
   RETURN key to save the file.  The system  prints  the  file  name  and
   generation number, then the TOPS-20 command prompt.

                _        00300   $
         __ _____        *EU <RET>

        [PS:<SUBSYS>LPFORM.INI.1]
        $


                                    3-39
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


                                    NOTE

                                               ____           Perform Steps 112 through Step 121  only  if  you  are
           using  an  RP07  disk  pack for your system structure.
           Otherwise, continue with Step 122 in Chapter 4.


                            TCP/IP Installations

           If you are installing TCP/IP-20 and are using an  RP07
           disk pack for your system structure, perform Steps 112
           through  121.   Otherwise,  proceed  to  Appendix   C,
           Section C.3, Step 2.



   3.8  BUILDING A FRONT-END FILE STRUCTURE   3.8  BUILDING A FRONT-END FILE STRUCTURE

   Steps 112 through 121 describe how to build an RP04 or RP06  structure
   for the front-end file system when you are using an RP07 disk pack for
   the TOPS-20 file system.


   ____ ____  ____ ___ ______ ___ _____ ___ ______ ____   Step 112:  Type RUN CHECKD and press the RETURN key.

   To run CHECKD to create a structure for your  front-end  file  system,
   type RUN CHECKD.  The system prints the prompt CHECKD>.

         ___ ______ _____        $RUN CHECKD <RET>
        CHECKD>


   ____ ____  ____ ______ _____ ___ _____ ___ ______ ____   Step 113:  Type CREATE FESYS and press the RETURN key.

   Use the CHECKD command CREATE  to  inform  the  system  that  you  are
   creating  a  structure.   The  structure  name  can  consist of 1 to 6
                                      _______ ______ _________ _____   alphanumeric characters.  (See the TOPS-20 System Manager's Guide  for
   information on naming structures.)  The example uses FESYS.  After you
   enter the structure name, the system prints "Enter alias:."

               ______ _____ _____        CHECKD>CREATE FESYS <RET>
        Enter alias:


   ____ ____  ____ _____ ___ _____ ___ ______ ____   Step 114:  Type FESYS and press the RETURN key.

   Now inform the system of the alias name of the structure.  The example
   uses   FESYS.   The  system  then  prints  "How  many  units  in  this
   structure:."

                     _____ _____        Enter alias: FESYS <RET>
        How many units in this structure:


                                    3-40
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   ____ ____  ____ _ ___ _____ ___ ______ ____   Step 115:  Type 1 and press the RETURN key.

   The front-end file system can only reside on a single structure.  Type
   1  to  indicate  1  unit in the structure.  The system prints "DECIMAL
   Channel, Controller, and Unit numbers for logical unit 0:."

                                          _ _____        How many units in this structure: 1 <RET> 
        DECIMAL Channel, Controller, and Unit numbers for 
        logical unit 0:


   ____ ____  ____ ______ ___ _____ ___ ______ ____   Step 116:  Type 1,-1,0 and press the RETURN key.

   The front-end file system must reside on either an RP04 or  RP06  disk
   drive  that is connected to both the KL10 and PDP11 front end.  If you
   are not sure, type a question mark (?) and press the RETURN key.   The
   system  prints  the  information  needed  to  make  the decision.  The
   example uses channel 1, controller -1 (which is the default), and unit
   0.   After  you  type  this  information, the system prints "Number of
   pages to allocate for swapping?."

        DECIMAL Channel, Controller, and Unit numbers for logical unit 0:
        ______ _____        1,-1,0 <RET>
        Number of pages to allocate for swapping?



   ____ ____  ____ ___ ______ __ _____ __ ________ ___ ________ ___ _____   Step 117:  Type the number of pages to allocate for swapping and press
              ___ ______ ____              the RETURN key.

   If you plan to use this structure as a secondary system structure, use
   a decimal number between 2000 and 40,000.  Otherwise, type 0 and press
   the RETURN key.  The system prints "Number of pages  to  allocate  for
   the  Front  End  File System?."  The example assumes you will be using
   this structure as a secondary structure.

                                                  ____ _____        Number of pages to allocate for swapping? 7035 <RET>
        Number of pages to allocate for the Front End File System?


   ____ ____  ____ ___ ______ __ _____ __ ________ ___ ___ _________ ____   Step 118:  Type the number of pages to allocate for the front-end file
              ______ ___ _____ ___ ______ ____              system and press the RETURN key.

   To allocate the number of pages to  reserve  for  the  front-end  file
   system, use 950 pages.  The system prints "Owner name?."

        Number of pages to allocate for the Front End File System?

        ___ _____        950 <RET>
        Owner name? 




                                    3-41
                            TAILORING THE SYSTEM                            TAILORING THE SYSTEM


   ____ ____  ____ ___ _______ ____ ___ _____ ___ ______ ____   Step 119:  Type the owner's name and press the RETURN key.

   Enter the owner's name of the structure.  The owner's name can be from
   1  to 12 alphanumeric characters.  The system prints "Is this a system
   structure for startup?."  The example uses the name OPERATOR.

                    ________ _____        Owner name? OPERATOR <RET>
        Is this a system structure for startup?


   ____ ____  ____ __ ___ _____ ___ ______ ____   Step 120:  Type NO and press the RETURN key.

   To inform the system that this structure will not be  used  at  system
   startup, type NO.  The system prints the CHECKD prompt.

                                                __ _____        Is this a system structure for startup? NO <RET>
        CHECKD>


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 121:  Type EXIT and press the RETURN key.

   Type EXIT to end the CHECKD program.  The system  prints  the  TOPS-20
   command prompt ($).

               ____ _____        CHECKD>EXIT <RET>
        $

                                    NOTE

           When performing the steps in Chapter 4,  be  sure  you
           install the front-end file system on the structure you
           have just created.


                            TCP/IP Installations

           If you are installing TCP/IP-20, proceed  to  Appendix
           C, Section C.3, Step 2.
















                                    3-42












                                 CHAPTER 4

                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM



   The steps in this chapter restore the front-end file system  when  you
   reinitialize  it  or change the front-end hardware.  They also restore
   the front-end software  if  the  front-end  file  system  on  disk  is
   destroyed.

   The steps in this chapter copy the front-end software from the  floppy
   disks  to  the  front-end  file  space  on the public structure.  They
   involve the following front-end programs:

        MOU  Adds a device to the list of front-end devices.

        UFD  Creates a directory in  the  front-end  file  space  on  the
             public structure.

        PIP  Copies files from the floppy disk to the public structure.

        RED  Changes the definition of the front-end  logical  name  SY0:
             from the floppy disk to the public structure.

        SAV  Saves the front-end monitor.

        INI  Initializes  the  front-end  file  system  on   the   public
             structure.

        DMO  Logically dismounts the floppy disks from the disk drives.

                            TCP/IP Installations

           If you are installing  TCP/IP-20,  you  must  complete
           Steps 1 through 23 in Appendix C before you can create
           the front-end file system.



   4.1  HALTING THE TOPS-20 MONITOR   4.1  HALTING THE TOPS-20 MONITOR

   You need to halt the TOPS-20 monitor (Steps 122  through  125)  before


                                    4-1
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   you can start the front-end monitor.


   ____ ____  ____ _______ ___ ___ _____ ___ ______ ____   Step 122:  Type ^ECEASE NOW and press the RETURN key.

   Before copying the front-end software from the floppy disks, stop  the
   system to avoid damaging the file system.

         _______ ___ _____        $^ECEASE NOW <RET>
         KL2102 Will be shut down IMMEDIATELY
                  _____        [Confirm] <RET>

        [Timesharing is over]

                OPERATOR - WAIT FOR THE MESSAGE "Shutdown complete" 
                BEFORE ENTERING COMMANDS TO PARSER

        Shutdown complete


   ____ ____  ____ ____ ____ ___ _______ ______ _____ ___ ________   Step 123:  Make sure that the correct floppy disks are mounted.

   Be sure that System Floppy A is mounted in the left  drive  (drive  0)
   and  that  System  Floppy  B  is mounted in the right drive (drive 1).
   (see Step 7 in Chapter 2 if you have trouble.)


   ____ ____  ____ _________   Step 124:  Type <CTRL/\>.

   At the console terminal, type <CTRL/\>  to  return  to  the  front-end
   Command  Parser.   When  you  are at Command Parser command level, the
   system prints the prompt PAR>.

        ________        <CTRL/\>
        PAR>


   ____ ____  ____ ________ ___ _____ ___ ______ ____   Step 125:  Type SHUTDOWN and press the RETURN key.

   To stop the TOPS-20 monitor, type the SHUTDOWN command.

            ________ _____        PAR>SHUTDOWN <RET>
        **HALTED**

        %DECSYSTEM-20 not running

   Error:    If you mistype SHUTDOWN and an  error  message  is  printed,
             reissue the command.

             The system must print "%DECSYSTEM-20 not  running."   If  it
             does not, type <CTRL/\> and give the ABORT command.  Go back
             to Step 124.


                                    4-2
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   4.2  RESTARTING THE FRONT-END MONITOR   4.2  RESTARTING THE FRONT-END MONITOR

   Once the TOPS-20 monitor is shutdown, you can  restart  the  front-end
   monitor  (Steps 126 and 127).  This entire procedure is invalid if you
   did not stop the TOPS-20 monitor as described in Section 4.1.


   ____ ____  ___ ___ ______ ________ __ ______ ________   Step 126:  Set the switch register to 000003 (octal).

   Set the front-end switch register to 000003 (switches 1 and 0 up,  the
   rest down).


   ____ ____  ____ ______ ___ _____ ___ ______ ________ _______   Step 127:  Hold ENABLE and press the SWITCH REGISTER button.

   Hold ENABLE  and  press  the  SWITCH  REGISTER  button  to  start  the
   front-end  monitor from drive 0.  The system will print a few lines of
   information.   After  the  system  prints  [DX1: mounted]  proceed  to
   Section 4.3.

        RSX-20F VB16-00 12:00 17-Mar-88

        [SY0: redirected to DX0:]
        [DX0: mounted]
        [DX1: mounted]

   Error:    If you left the switch register set to  000007,  the  system
             starts  the  KL  Initialization  routine.  In this case, the
             printout looks like this:

                  RSX-20F VB16-00 12:00 17-Mar-88

                  [SY0: redirected to DX0:]
                  [DX0: mounted]
                  [DX1: mounted]
                  KLI -- VERSION VB16-00 RUNNING
                  KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                  KLI>

             Set the switch register to 000003 and press the  ENABLE  and
             SWITCH REGISTER buttons again.

             If you set the switch register to  000003,  the  system  may
             print:

             11-HALT
             T04

             __             or

             **This VOLUME DOES NOT CONTAIN A HARDWARE-BOOTABLE SYSTEM**



                                    4-3
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


             Set the switch register correctly and press the  ENABLE  and
             SWITCH REGISTER buttons again.



   4.3  COPYING FILES FROM FLOPPY DISK TO RP04 OR RP06   4.3  COPYING FILES FROM FLOPPY DISK TO RP04 OR RP06

   Use the following procedures (Steps  128  through  161)  to  copy  the
   files.   Remember  that  you  are typing commands to the front end and
   that you must wait for a prompt before typing the answer.  There is no
   type-ahead  feature  except  when  you want to type <CTRL/\>.  You can
   type <CTRL/U> to erase an entire line or press the DELETE key to erase
   a single character per keystroke.

   Many of the steps in this chapter and in Chapter  5  assume  that  the
   disk  pack is mounted on drive 0.  To use a dual-port drive other than
   drive 0, make the following changes:

        1.  Where a step calls for DB0: to be typed, type the  number  of
            the  actual  drive used.  For example, DB1:, DB2:, and so on.
            Messages printed by the system will reflect this change.

        2.  If the disk is  mounted  on  a  drive  other  than  drive  0,
            pressing ENABLE and DISK in Step 168 will not work.  Instead,
            set the front-end switch register switches 7 and 0 in the  up
            position.   Set switches 10, 9, and 8 to the binary number of
            the drive used.  For example, for drive 1, set switch  8  up;
            for drive 2, set switch 9 up; for drive 3, set switches 9 and
            8 up.  After this has been completed, press  the  ENABLE  and
            SWITCH REGISTER buttons.


   ____ ____  ____ _________   Step 128:  Type <CTRL/\>.

   To start the front-end Command  Parser,  type  <CTRL/\>.   The  system
   takes  about  10  seconds  to  load the Command Parser from the floppy
   disks.  You are at Command Parser command level when the system prints
   the  prompt  PAR%.   The percent sign (%) after PAR indicates that the
   central processor is not running.

        [DX1: mounted]

        ________        <CTRL/\>
        PAR%


   ____ ____  _____   Step 129:  STOP.

   The central processor (as opposed to the front-end processor) must  be
   halted  before you proceed to the next step.  If the central processor
   is not halted,  the  front-end  monitor  will  not  be  saved  in  the
   front-end  file  system in a usable state.  When the central processor


                                    4-4
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   is stopped, the system prints a percent sign (%) following the Command
   Parser  prompt.   If  it prints an angle bracket (>) give the SHUTDOWN
   command and type <CTRL/\> before continuing.


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 130:  Type RUN INI and press the RETURN key.

   To start the INITIALIZE program, type RUN INI.   When  the  INITIALIZE
   program  is  ready  for you to type commands (after a few seconds), it
   prints the prompt INI>.

            ___ ___ _____        PAR%RUN INI <RET>

        INI>


   ____ ____  ____ ____  ___ _____ ___ ______ ____  ____  _  _______  ___   Step 131:  Type DB0:  and press the RETURN key.  Wait  5  seconds  and
              _______ ___ ____ _____              perform the next step.

   To initialize the front-end file system on the public structure,  type
   DB0:.   In  about  5  seconds,  the INI program finishes.  It does not
   reprint the prompt.  Proceed directly to the next step.

            ____ _____        INI>DB0: <RET>

   Error:    If you type the wrong device name or get an  error  message,
             start again at Step 128.  If you still get an error message,
             press the front-end HALT switch and  wait  one  minute.   Go
             back to Step 127.


   ____ ____  ____ _________   Step 132:  Type <CTRL/\>.

   To start the  front-end  Command  Parser,  type  <CTRL/\>.   When  the
   Command  Parser  is ready for you to type commands (about 10 seconds),
   it prints the prompt PAR%.

        ________        <CTRL/\>
        PAR%

                                    NOTE

                  Nothing happens until you type <CTRL/\>.


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 133:  Type RUN MOU and press the RETURN key.

   To start the MOUNT program again, type RUN MOU.  When you are at MOUNT
   command level, the system prints MOU>.

            ___ ___ _____        PAR%RUN MOU <RET>
        MOU>


                                    4-5
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ ____  ___ _____ ___ ______ ____   Step 134:  Type DB0:  and press the RETURN key.

   To allow the front end to use its reserved area on the dual-port  disk
   (the  one  with the channel selector set to A/B), type DB0:.  When the
   mount operation is complete, the  system  prints  a  message  and  the
   prompt MOU>.

            ____ _____        MOU>DB0: <RET>
        MOU -- MOUNT COMPLETE
        MOU>

   Error:    If you mistype DB0:, the mount operation may fail.  If  this
             happens and the system reprints the prompt MOU>, reissue the
             command.  Otherwise, go back to Step 132.


   ____ ____  ____ ________ ___ _________   Step 135:  Type <CTRL/Z> and <CTRL/\>.

   To terminate the MOUNT program and start the front-end Command Parser,
   type  <CTRL/Z> followed by <CTRL/\>.  After about 10 seconds, when the
   system is at Command Parser command level, it prints the prompt PAR%.

            __        MOU>^Z

        ________        <CTRL/\>
        PAR%


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 136:  Type RUN UFD and press the RETURN key.

   To run the UFD program, type RUN UFD.  The system  loads  the  program
   from the floppy disk and starts it.  After a few seconds, UFD is ready
   for you to type commands and prints the prompt UFD>.

            ___ ___ _____        PAR%RUN UFD <RET>

        UFD>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ _________ ___ _____ ___ ______ ____  ____  __  _______   Step 137:  Type DB0:[5,5] and press the RETURN key.  Wait  10  seconds
              ___ _______ ___ ____ _____              and perform the next step.

   To create the directory (in the front-end reserved space on the public
   structure)  that  contains  the front-end file system, type DB0:[5,5].
   When the UFD program finishes, it does not reprint the  prompt.   Wait
   10 seconds and then proceed directly to the next step.

            _________ _____        UFD>DB0:[5,5] <RET>

                                    4-6
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   Error:    If the system prints:

                  UFD -- FAILED TO CREATE DIRECTORY

             you probably did not give the correct command the last  time
             you ran the MOU program.  Go back to Step 129.

   Error:    If the system prints:

                  UFD -- DIRECTORY ALREADY EXISTS

             and you have run the INI  program  on  the  disk,  then  the
             front-end file system has been corrupted and the entire disk
             pack will have  to  be  reformatted  and  rebuilt  from  the
             beginning of the installation.


   ____ ____  ____ _________   Step 138:  Type <CTRL/\>.

   To load the front-end  Command  Parser  from  the  floppy  disk,  type
   <CTRL/\>.   After  10  seconds, the Command Parser is at command level
   and the system prints the prompt PAR%.

        ________        <CTRL/\>
        PAR%

                                    NOTE

                  Nothing happens until you type <CTRL/\>.


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 139:  Type RUN PIP and press the RETURN key.

   To load the PIP program from the floppy disk and start  it,  type  RUN
   PIP.   After  10  seconds, PIP is ready for you to type commands.  The
   system prints the prompt PIP>.

            ___ ___ _____        PAR%RUN PIP <RET>

        PIP>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ _____________________________  ___  _____  ___  ______   Step 140:  Type DB0:*.*;*=DX0:*.*;*,DX1:*.*;*  and  press  the  RETURN
              ____              key.

   To copy the newest version of all the  files  from  the  floppy  disks
   (both  drive 0 and drive 1) to the front-end file system on the public
   structure, type DB0:*.*;*=DX0:*.*;*,DX1:*.*;*.  (You can use  <CTRL/U>
   and the DELETE key to help type this line and others in this chapter.)
   You will hear clicking as the system accesses the floppy disks.  After
              _______   about  10  minutes, the transfer is complete and the system prints the
   prompt PIP>.
                                    4-7
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


            _____________________________ _____        PIP>DB0:*.*;*=DX0:*.*;*,DX1:*.*;* <RET>
        PIP>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ ________ ___ _________   Step 141:  Type <CTRL/Z> and <CTRL/\>.

   To end PIP and start  the  front-end  Command  Parser,  type  <CTRL/Z>
   followed by <CTRL/\>.  After 10 seconds, the system is ready to accept
   commands and prints the prompt PAR%.

            __        PIP>^Z

        ________        <CTRL/\>
        PAR%

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 142:  Type RUN RED and press the RETURN key.

   To load and start the REDIRECT program from floppy disk, type RUN RED.
   When  the  REDIRECT  program  is  ready to accept commands (about five
   seconds), the system prints the REDIRECT prompt RED>.

            ___ ___ _____        PAR%RUN RED <RET>
        RED>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ _________  ___ _____ ___ ______ ____  ____  _  _______   Step 143:  Type DB0:=SY0:  and press the RETURN key.  Wait  5  seconds
              ___ _______ ___ ____ _____              and perform the next step.

   To redirect the primary front-end file structure from the floppy disks
   to  the front-end file system on the public structure, type DB0:=SY0:.
   After 5 seconds, the REDIRECT program is finished and does not reprint
   the prompt.  Proceed directly to the next step.

            _________ _____        RED>DB0:=SY0: <RET>

   Error:    If this operation fails or if you make  a  mistake  and  the
             system has printed the prompt RED>, reissue the command.  If
             it still fails, perform Steps 126 through 128 and Steps  133
             through  135, then continue at Step 142.  (Even this may not
             work.   You  may  have  to  perform  all  the  steps  again,
             beginning with Step 126.)






                                    4-8
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   ____ ____  ____ _________   Step 144:  Type <CTRL/\>.

   To start the front-end  Command  Parser,  type  <CTRL/\>.   After  one
   second,  the system loads and starts the Command Parser and prints the
   prompt PAR%.

        ________        <CTRL/\>
        PAR%


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 145:  Type RUN SAV and press the RETURN key.

   To start the SAVE program, type RUN SAV.  After one  second,  SAVE  is
   ready to accept commands and the system prints the prompt SAV>.

            ___ ___ _____        PAR%RUN SAV <RET>
        SAV>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ___ ___ ______ ________ __ _____   Step 146:  Set the switch register to zero.

   Before proceeding, set the  switch  register  to  zero  (all  switches
   down).


   ____ ____  ____ _______ ___ _____ ___ ______ ____   Step 147:  Type SY0:/WB and press the RETURN key.

   To save  the  system  bootstrap  and  the  front-end  monitor  in  the
   front-end file system on the public structure, type SY0:/WB (WB stands
   for Write Bootstrap).  After the bootstrap and the monitor are  saved,
   the  system  prints a message and the front end restarts itself at the
   save entry point.

            _______ _____        SAV>SY0:/WB <RET>
        [DB0: dismounted]
        [DX0: dismounted]
        [DX1: dismounted]

        RSX-20F VB16-00 12:19 17-MAR-88

        [SY0: redirected to DB0:]
        [DB0: mounted]

   The last two messages inform you that the front end is using the files
   on the TOPS-20 file system instead of on the floppy disks.

   Error:    If you make a typing error, reissue the command.


   ____ ____  _____ ___ ______ _____ _ ___ __   Step 148:  Store the floppy disks A and B.


                                    4-9
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   Remove the floppy disks, insert them in their covers, and  store  them
   in a safe place.

                                    NOTE

           If you have some spare floppies  available,  it  is  a
           good idea to copy System Floppies A and B to the spare
                                                  _______  ______           floppies for backup purposes.  See the TOPS-20  System
           _________ _____           Manager's Guide for this procedure.


   ____ ____  _____ ______ ______ _ __ _____ __   Step 149:  Mount System Floppy C on drive 0.

   Mount System Floppy C in the left drive (drive 0).   (See  Step  7  in
   Chapter 2 if you have trouble.)


   ____ ____  ____ _________   Step 150:  Type <CTRL/\>.

   To start the front-end Command Parser again, type <CTRL/\>.  After one
   second,  the system loads and starts the Command Parser and prints the
   prompt PAR%.

        ________        <CTRL/\>
        PAR%


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 151:  Type RUN MOU and press the RETURN key.

   To start the MOUNT program, type RUN MOU.  When the system is at MOUNT
   command level, the system prints the prompt MOU>.

            ___ ___ _____        PAR%RUN MOU <RET>
        MOU>

   Error:    If you make a typing error, reissue the command.


   ____ ____  ____ ____  ___ _____ ___ ______ ____   Step 152:  Type DX0:  and press the RETURN key.

   To allow the front end to use its reserved area, type DX0:.  The MOUNT
   program mounts floppy drive 0, then prints the message MOUNT COMPLETE.

            ____ _____        MOU>DX0: <RET>
        MOU -- MOUNT COMPLETE
        MOU>


   ____ ____  ____ ________ ___ _________   Step 153:  Type <CTRL/Z> and <CTRL/\>.

   To terminate the MOUNT program and start the front-end Command Parser,
   type  <CTRL/Z> followed by <CTRL/\>.  After about one second, when the


                                    4-10
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


   system is at Command Parser command level, it prints the prompt PAR%.

            __        MOU>^Z

        ________        <CTRL/\>
        PAR%


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 154:  Type RUN PIP and press the RETURN key.

   To run the PIP program, type RUN PIP.  When PIP is at  command  level,
   it prints the prompt PIP>.

            ___ ___ _____        PAR%RUN PIP <RET>

        PIP>

   Error:    If you make a typing error, retype the command.


   ____ ____  ____ ___________________ ___ _____ ___ ______ ____   Step 155:  Type DB0:*.*;*=DX0:*.*;* and press the RETURN key.

   Copy  the  contents  of  System  Floppy  C  to  the  disk  by   typing
   DB0:*.*;*=DX0:*.*;*.   This copies the files on System Floppy C to the
   disk.  When the files are copied, PIP prints the prompt PIP>.

            ___________________ _____        PIP>DB0:*.*;*=DX0:*.*;* <RET>
        PIP>


   ____ ____ ____ _______ ___ _____ ___ ______ ____   Step 156: Type DB0:/LI and press the RETURN key.

   To get a list of the files on the front-end file system, type DB0:/LI.
   The system prints the list of the files copied from floppies A, B, and
   C.  Check it against the directory listing  shown  in  the  TOPS20.BWR
   file to be sure that you have all the files shown there.

   The directory listing shown in Figure 4-1 is only a  sample.   Do  not
   worry  about  the order of the files, generation numbers, or dates and
   times when comparing the files.  The  file  sizes  (indicated  in  the
   second  column  in  256-word  blocks)  should  be  the same.  When the
   listing is finished, the system prints the prompt PIP>.












                                    4-11
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


            _______ _____        PIP>DB0:/LI <RET>


        DIRECTORY DB0:[5,5]
        17-MAR-88 12:17

        F11ACP.TSK;1600     77.      C  17-MAR-88 12:00
        PARSER.TSK;1600     71.      C  17-MAR-88 12:01
        KLI.TSK;1600        73.      C  17-MAR-88 12:01
        MOU.TSK;1600        5.       C  17-MAR-88 12:01
        BF16N1.A11;1        1.          17-MAR-88 12:01
        BF64N1.A11;1        1.          17-MAR-88 12:02
        CLOCK.CMD;1600      2.          17-MAR-88 12:02
        CRAM.CMD;1600       1.          17-MAR-88 12:02
        DEX.CMD;1600        5.          17-MAR-88 12:02
        DRAM.CMD;1600       1.          17-MAR-88 12:02
        EBUS.CMD;1600       1.          17-MAR-88 12:02
        FMPAR.CMD;1600      1.          17-MAR-88 12:02
        HALT.CMD;1600       1.          17-MAR-88 12:03
        KPALV.CMD;1600      1.          17-MAR-88 12:03
        KPALV1.CMD;1600     1.          17-MAR-88 12:03
        LOOP.CMD;1600       1.          17-MAR-88 12:03
        TIMEO.CMD;1600      1.          17-MAR-88 12:03
        KLX.MCB;442         55.         17-MAR-88 12:03
        MTBOOT.EXB;11315    40.         17-MAR-88 12:03
        SB0.CMD;1           2.          17-MAR-88 12:04
        SB1.CMD;1           2.          17-MAR-88 12:04
        LHALT.CMD;1600      6.          17-MAR-88 12:04
        T20ACP.TSK;1600     8.       C  17-MAR-88 12:04
        BOO.TSK;1600        19.      C  17-MAR-88 12:04
        COP.TSK;1600        8.       C  17-MAR-88 12:04
        DMO.TSK;1600        5.       C  17-MAR-88 12:05
        INI.TSK;1600        23.      C  17-MAR-88 12:05
        PIP.TSK;1600        56.      C  17-MAR-88 12:05
        RED.TSK;1600        6.       C  17-MAR-88 12:05
        SAV.TSK;1600        23.      C  17-MAR-88 12:05
        UFD.TSK;1600        9.       C  17-MAR-88 12:05
        MIDNIT.TSK;1600     4.       C  17-MAR-88 12:06
        LOGXFR.TSK;1600     10.      C  17-MAR-88 12:06
        KLDISC.TSK;1600     5.       C  17-MAR-88 12:06
        KLRING.TSK;1600     6.       C  17-MAR-88 12:06
        SETSPD.TSK;1600     5.       C  17-MAR-88 12:06
        TKTN.TSK;1600       6.       C  17-MAR-88 12:06
        BOOT.EXB;11315      46.      C  17-MAR-88 12:07
        RSX20F.SYS;1600     60.      C  17-MAR-88 12:11
        RSX20F.MAP;1600     155.        17-MAR-88 12:11
        ZAP.TSK;1600        38.      C  17-MAR-88 12:12
        RP2DBT.EXB;11315    70.         17-MAR-88 12:12
        RP2MBT.EXB;11315    64.         17-MAR-88 12:13

                TOTAL OF 975. BLOCKS IN 42. FILES



                                    4-12
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


        PIP>

   Figure 4-1:  Directory Listing of Front-End Files   Figure 4-1:  Directory Listing of Front-End Files


   ____ ____  ____ ________ ___ _________   Step 157:  Type <CTRL/Z> and <CTRL/\>.

   To exit from the PIP program, type <CTRL/Z>.  To restart the front-end
   command  parser,  type <CTRL/\>.  When at command level, the front-end
   command parser prints the prompt PAR%.

            __        PIP>^Z

        ________        <CTRL/\>
        PAR%


   ____ ____ ____ ___ ___ ___ _____ ___ ______ ____   Step 158: Type RUN DMO and press the RETURN key.

   To start the DMO program, type RUN DMO.  When at  command  level,  the
   DMO program prints the prompt DMO>.

            ___ ___ _____        PAR%RUN DMO <RET>
        DMO>


   ____ ____  ____ ____  ___ _____ ___ ______ ____   Step 159:  Type DX0:  and press the RETURN key.

   To dismount the floppy drive, type DX0:.  After a  few  seconds,  when
   the drive is dismounted, DMO prints a message and the prompt DMO>.

            ____ _____        DMO>DX0: <RET>
        DMO -- DISMOUNT COMPLETE
        DMO>


   ____ ____  ____ ________ ___ _________   Step 160:  Type <CTRL/Z> and <CTRL/\>.

   To exit from the DMO program,  type  <CTRL/Z>  followed  by  <CTRL/\>.
   When  you return to command level, the front-end command parser prints
   the prompt PAR%.

            __        DMO>^Z

        ________        <CTRL/\>
        PAR%


   ____ ____  _____ ______ __   Step 161:  Store floppy C.

   Remove System Floppy C from the drive, insert it into  its  protective
   cover, and store it with floppies A and B.


                                    4-13
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


                                    NOTE

           If you have a spare floppy available,  it  is  a  good
           idea  to  copy System Floppy C to the spare floppy for
                                       _______  ______  _________           backup purposes.  See  the  TOPS-20  System  Manager's
           _____           Guide for this procedure.


                                 RP20 Disks

           If you have an RP20 disk subsystem, perform the  steps
           in  Section 4.4.  Otherwise, continue the installation
           procedures at Step 167 in Chapter 5.



   4.4  RENAMING THE DX20 MICROCODE FILES   4.4  RENAMING THE DX20 MICROCODE FILES

   You have already copied the RP20/DX20 microcode from System  Floppy  C
   to  the front-end (Step 155).  Now you must rename the following files
   in order for them to be used when you restart the system.

         o  RP2DBT.EXB is a new front-end BOOT file  with  the  new  DX20
            microcode loaded.

         o  RP2MBT.EXB is a new front-end MTBOOT file with the  new  DX20
            microcode loaded.

   BOOT and MTBOOT are loaded  with  the  RP20/DX20  microcode  and  will
   reload DX20s as necessary when the monitor is loaded.

                            RP20 Disk Controller

           It is necessary that the  8000-2  controller  for  the
                                                             ____           RP20  disk  subsystem  be  in  370 mode.  See the 8000
           __________ ___________  _________  ______           Controller Maintenance  Reference  Manual,  Volume  2,
           page U210, for information on switch settings.


   ____ ____  __ ____ ____ ___ _______ _________ __ ________   Step 162:  Be sure that the central processor is stopped.

   Check your output to be sure that the last time the system printed the
   prompt  PAR  (in  Step  160)  it was followed by a percent sign (%) to
   indicate that the central processor has stopped.  If PAR  is  followed
   by an angle bracket (>), type SHUTDOWN and press the RETURN key.


   ____ ____  ____ ___ ___ ___ _____ ___ ______ ____   Step 163:  Type RUN PIP and press the RETURN key.

   To run the PIP program, type RUN PIP.  When PIP is at  command  level,
   it prints the prompt PIP>.



                                    4-14
                     CREATING THE FRONT-END FILE SYSTEM                     CREATING THE FRONT-END FILE SYSTEM


            ___ ___ _____        PAR%RUN PIP <RET>

        PIP>

   Error:    If you make a typing error, retype the command.


   ____ ____  ____ _____________________________________  ___  _____  ___   Step 164:  Type DB0:[5,5]BOOT.EXB=DB0:[5,5]RP2DBT.EXB  and  press  the
              ______ ____              RETURN key.

   Rename    the     boot     program     for     disks     by     typing
   DB0:[5,5]BOOT.EXB=DB0:[5,5]RP2DBT.EXB.    When   PIP   completes   the
   procedure, it prints PIP>.

            _____________________________________ _____        PIP>DB0:[5,5]BOOT.EXB=DB0:[5,5]RP2DBT.EXB <RET>
        PIP>


   ____ ____  ____ _______________________________________ ___ _____  ___   Step 165:  Type DB0:[5,5]MTBOOT.EXB=DB0:[5,5]RP2MBT.EXB and press  the
              ______ ____              RETURN key.

   Rename  the  boot  program  for  magnetic  tape   drives   by   typing
   DB0:[5,5]MTBOOT.EXB=DB0:[5,5]RP2MBT.EXB.    When   PIP  completes  the
   procedure, it prints PIP>.

            _______________________________________ _____        PIP>DB0:[5,5]MTBOOT.EXB=DB0:[5,5]RP2MBT.EXB <RET>
        PIP>


   ____ ____  ____ ________ ___ _________   Step 166:  Type <CTRL/Z> and <CTRL/\>.

   To exit from the PIP program, type <CTRL/Z>.  To restart the front-end
   command  parser,  type <CTRL/\>.  When at command level, the front-end
   command parser prints the prompt PAR%.

            __        PIP>^Z

        ________        <CTRL/\>
        PAR%















                                    4-15












                                 CHAPTER 5

                            STARTING THE SYSTEM                            STARTING THE SYSTEM



   At this point you have:

        1.  Initialized the TOPS-20 file system.

        2.  Loaded the TOPS-20 monitor  and  related  programs  into  the
            directories PS:<SYSTEM> and PS:<SUBSYS>.

        3.  Loaded the files for  the  TOPS-20  User  Environmental  Test
            Package into the directory PS:<UETP.LIB>.

        4.  Created the system initialization files.

        5.  Loaded the front-end software into the TOPS-20 file system.

   The only thing left to be done is to restart the system.  Once this is
   done,  the  TOPS-20  file  system  is  intact and the standard TOPS-20
   bundled software is completely installed on your system.   This  means
   you can stop the system and reboot it from the file system on disk.

   Whenever you have to restart the system,  be  sure  that  the  central
   processor  is  stopped;  otherwise  you can damage the file system you
   just created.

   Steps 167 through 172 describe how to restart the system.


   ____ ____  __ ____ ____ ___ _______ _________ __ ________   Step 167:  Be sure that the central processor is stopped.

   Check your output to be sure that the last time the system printed the
   prompt PAR (in Step 160 or Step 166) it was followed by a percent sign
   (%) to indicate that the central processor has stopped.  If the prompt
   is  followed  by  an  angle  bracket  (>), type SHUTDOWN and press the
   RETURN key.


   ____ ____  ____ ______ ___ _____ ___ ____ _______   Step 168:  Hold ENABLE and press the DISK button.



                                    5-1
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


   To restart the system, hold ENABLE and press  the  DISK  button.   The
   system  restarts after a few seconds and obtains all the software from
   the TOPS-20 file system.

   If the TOPS-20 file system is on a drive other than drive  0,  holding
   the  ENABLE  button  and  pressing the DISK button does not work.  You
   must set the switch register  to  the  appropriate  disk  drive.   For
   example,  if the TOPS-20 file system is on drive 1, set switches 8, 7,
                                                                  _______   and 0 up; for drive 2, set switches 9, 7 and 0 up.  (See  the  TOPS-20
   __________ _____   Operator's Guide for more information on setting the switch register.)

   Once you have set the switches to the  appropriate  disk  drive,  hold
   ENABLE  and  press  the  SWITCH  REGISTER  button rather than the DISK
   button.  When  you  follow  this  procedure,  the  system  prints  the
   question,  KLI -- ENTER  DIALOG  [NO,YES,EXIT,BOOT]?   and waits for a
   reply.  Reply by pressing the RETURN key.

        RSX-20F VB16-00 12:19 17-MAR-88

        [SY0: redirected to DB0:]
        [DB0: mounted]
        KLI -- VERSION VB16-00 RUNNING
        KLI -- KL10 S/N: 2102., MODEL B, 60 HERTZ
        KLI -- KL10 HARDWARE ENVIRONMENT:
                MOS MASTER OSCILLATOR
                EXTENDED ADDRESSING
                INTERNAL CHANNELS
                CACHE

                                    NOTE

           If you have a DECSYSTEM-20 Model 2065,  you  will  see
           these additional messages:

                KLI -- % NO FILE
                KLI -- PAGE TABLE SELECTED: BOTH

        KLI -- MICROCODE VERSION 2.1[442] LOADED
        KLI -- % NO FILE - ALL CACHE BEING CONFIGURED
        KLI -- ALL CACHES ENABLED
        KLI -- % NO FILE - ALL MEMORY BEING CONFIGURED 

        LOGICAL MEMORY CONFIGURATION
          ADDRESS  SIZE  INT  TYPE  CONTROLLER
         00000000  768K    4  MF20   10

        KLI -- % NO FILE - LOADING BOOTSTRAP
        KLI -- CONFIGURATION FILE WRITTEN
        KLI -- BOOTSTRAP LOADED AND STARTED

        BOOT V11.0(315)
        [BOOT: LOADING] [OK]


                                    5-2
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


        [PS MOUNTED]
        [IPALOD: LOADING CI20 MICROCODE VERSION 1.1(733)] [OK]

        System restarting, wait...
        ENTER CURRENT DATE AND TIME:

                               DX20 Microcode

           You  will  receive  a  message  concerning  the   DX20
                      ____           microcode  only  if  you  are  installing  the TOPS-20
           software on a DECSYSTEM-20 with an RP20 tape  or  disk
           controller.


                                    CI20

           You will  receive  the  message  concerning  the  CI20
                      ____           microcode  only if you are installing TOPS-20 software
           on a DECSYSTEM-20 with CI20.

   The line "System restarting, wait..." is printed on all the  terminals
   currently connected to the system to inform users that the system will
   soon be ready to use.

   Error:    If the system prints:

           *** THIS VOLUME DOES NOT CONTAIN A HARDWARE BOOTABLE SYSTEM ***

             the disk pack on the dual-port drive does  not  contain  the
             front-end  software.   Perhaps  the wrong disk pack has been
             mounted.  But if everything appears to be in order, try  the
             steps   in  Chapters  2  through  4  again.   If  the  error
             continues, contact DIGITAL Software Support.

             If the system does nothing when you press the switches,  you
             may have pressed ENABLE and SWITCH REGISTER by mistake.  Try
             pressing ENABLE and DISK.

             If the system prints JSYS error messages between  the  lines
             "[PS   MOUNTED]"   and  "System  restarting,  wait...,"  you
             probably mistyped  some  information  in  the  configuration
             command file.  Use an editor program, such as EDIT, to check
             the file and correct any errors.


   ____ ____  ____ ___ ____ ___ ____ ___ _____ ___ ______ ____   Step 169:  Type the date and time and press the RETURN key.

   After the prompt, type the date and time in the form  dd-mmm-yy  hhmm,
   with  the  time  in  24-hour  format.  Then press the RETURN key.  For
   example:

                                     _________ ____ _____        ENTER CURRENT DATE AND TIME: 17-MAR-88 1112 <RET>


                                    5-3
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


        YOU HAVE ENTERED THURSDAY, 17-MAR-88 11:12AM,
         IS THIS CORRECT (Y,N)


   ____ ____  ____ _ __ _ ___ _____ ___ ______ ____   Step 170:  Type Y or N and press the RETURN key.

   After the system prints the date and time, check to be sure that it is
   correct.   If  it is, type Y and press the RETURN key.  If the date or
   time is incorrect, type N, press the RETURN key, and go back  to  Step
   164.

        YOU HAVE ENTERED THURSDAY, 17-MAR-88 11:12AM,
                               _ _____         IS THIS CORRECT (Y,N) Y <RET>
        WHY RELOAD?


   ____ ____  ____ __ ___ _____ ___ ______ ____   Step 171:  Type SC and press the RETURN key.

   If you plan to install optional software, type SC and press the RETURN
   key.   When  you bring up the system for any other reason, type one of
   the abbreviations listed in Table 5-1.

                                    NOTE

           If you do not  respond  to  the  WHY  RELOAD  question
           within  60  seconds,  the  system  assumes  OTHER  and
           continues the startup procedure.

                    __ _____        WHY RELOAD? SC <RET>

        PROBLEM WITH <SYSTEM>ACCOUNTS-TABLE.BIN
        CANNOT GET A JFN FOR <SYSTEM>ACCOUNTS-TABLE.BIN - ACCOUNT
        VALIDATION IS DISABLED

        RUN CHECKD?


   Table 5-1:  System Reload Abbreviations   Table 5-1:  System Reload Abbreviations


     ---------------------------------------------
     |  Abbreviation  |  Meaning                 |
     ---------------------------------------------
     |     OP         |   OPR                    |
     |     PA         |   Parity                 |
     |     PO         |   Power Failure          |
     |     ST         |   Static                 |
     |     HAR        |   Hardware               |
     |     HA         |   Halt                   |
     |     HU         |   Hung                   |
     ---------------------------------------------



                                    5-4
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


              System Reload Abbreviations   Table 5-1: System Reload Abbreviations (Cont'd)

     ---------------------------------------------
     |     PM         |   Preventive Maintenance |
     |     CM         |   Corrective Maintenance |
     |     SA         |   Stand-alone            |
     |     NE         |   New Monitor            |
     |     SC         |   Scheduled              |
     |     OT         |   Other                  |
     ---------------------------------------------


   ____ ____  ____ _ ___ _____ ___ ______ ____   Step 172:  Type N and press the RETURN key.

   The CHECKD program examines the entire disk file system, reports any
   errors,  and  tries  to  correct  them.  You do not have to run this
   program unless the system crashes unexpectedly or if, for some other
   reason,  you suspect that there may be disk errors.  If you halt the
   system by giving a ^ECEASE command or by using some other controlled
   means, you do not have to run CHECKD before restarting.

   If you do run CHECKD, be prepared for a long wait until  the  system
   prints  something on your console terminal.  For each inconsistency,
   CHECKD prints a  message  and  the  directory  in  which  the  error
                          _______ __________ _____   occurred.   (See  the  TOPS-20 Operator's Guide for a list of CHECKD
   error messages.)

                                   NOTE

           If you do not respond to  the  RUN  CHECKD  question
           within   60  seconds,  the  system  assumes  NO  and
           continues the startup procedure.


   The system runs DDMP and SYSJOB after you type N.  Figure 5-1 is  an
   example of the CTY output generated at system startup.

                                   CI20

           If you have CI20 and is on, you may receive a series
           of   messages   about   its  activities  -  loading,
           starting, and opening circuits.  These messages  are
           for your information only.

                                 Ethernet

           You will receive the message concerning the Ethernet
                       ____           microcode   only   if  you  are  installing  TOPS-20
           software on a DECSYSTEM-20 with an Ethernet.





                                    5-5
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


                    _ _____        RUN CHECKD? N <RET>

        RUNNING DDMP


        SYSJOB 7(78) STARTED AT 17-MAR-88 1112
        [KNILDR: Loading microcode version 1(172) into Ethernet channel
        0]
        *****
        17-MAR-88 11:12:39 - TGHA 4.2(31) IN OPERATION.
        *****
        RUN SYS:INFO
        RUN SYS:MAPPER
        RUN SYS:ORION
        RUN SYS:QUASAR
        RUN SYS:MOUNTR
        RUN SYS:MAILER
        RUN SYS:LPTSPL
        RUN SYS:LPTSPL
        RUN SYS:CDRIVE
        RUN SYS:SPRINT
        JOB 0 /LOG OPERATOR XX OPERATOR
        ENA
        ^ESET LOGIN PSEUDO
        ^ESET LOGIN CONSOLE
        ^ESET OPERATOR
        PTYCON
        GET SYSTEM:7-PTYCON.ATO
        /
        JOB 1 /LOG OPERATOR XX OPERATOR
        ENA
        GET SYS:BATCON
        /
        SJ  0: @LOG OPERATOR OPERATOR
        SJ  1: @LOG OPERATOR OPERATOR
        SJ  0:  Job 1 on TTY206 dd-mmm-yy hh:mm:ss, Last Login never
        SJ  1:  Job 1 on TTY206 dd-mmm-yy hh:mm:ss, Last Login never
        SJ  0: @ENA
        SJ  1: @ENA
        SJ  1: $GET SYS:BATCON
        SJ  0: $^ESET LOGIN PSEUDO
        SJ  0: $^ESET LOGIN CONSOLE
        SJ  0: $^ESET OPERATOR
        SJ  0: $PTYCON
        SJ  0: PTYCON> GET SYSTEM:7-PTYCON.ATO
        SJ  0: PTYCON> SILENCE

        Figure 5-1:  Sample Console Terminal Output at System Startup        Figure 5-1:  Sample Console Terminal Output at System Startup






                                    5-6
                            STARTING THE SYSTEM                            STARTING THE SYSTEM


        [From OPERATOR on node TOPS20 line 210 to all lines:   SYSTEM IN
        OPERATION]
        SJ  0: PTYCON> W ALL
        SJ  0: OPR(0)     3         OPERATOR   OPR        TI       0:0:1
        SJ  0: PTYCON> CONN OPR
        SJ  0: [CONNECTED TO SUBJOB OPR(0)]


                Sample Console Terminal Output at System Startup   Figure 5-1:  Sample Console Terminal Output at System Startup (Cont'd)













































                                    5-7












                                 CHAPTER 6

                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES



   The steps  in  this  section  describe  how  to  install  the  TOPS-20
   Distribution tapes and/or any TOPS-20 Tools tapes.

   To install any optional software products, follow the steps  specified
   in  the  installation  guide  that  accompanies each optional software
   product.

                                                                _________   If you are installing DECnet-20, follow the  steps  in  the  DECnet-20
   _______ __________ ___ __________   Network Generation and Procedures manual.

   There are two TOPS-20 Distribution tapes.  TOPS-20 Distribution Tape 1
   contains one saveset:

         o  Sources that  allow  you  to  rebuild  certain  programs,  if
            required.

   TOPS-20 Distribution Tape 2 contains three savesets.   These  savesets
   are:

         o  Documentation regarding specific programs.

         o  Language sources that allow you to rebuild  certain  language
            modules, such as MACRO, LINK.

         o  GALAXY sources that allow you to rebuild a GALAXY system,  if
            required.

   The procedures in this chapter are OPTIONAL.  You may find it  helpful
   to  restore  the  documentation  files  and  the  source  files.   The
   remaining savesets, language and GALAXY sources, are not  required  to
   run the product.

   To restore the sources, you need at  least  9300  free  pages  in  the
   directory  <SUBSYS>.   To restore the documentation, you need at least
   1200 free pages in the directory <OPERATOR>.  If you decide to restore
   the  language  and/or  GALAXY  sources, restore them to directories of
   your own choosing.  The directory for the language  sources  needs  at


                                    6-1
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


   least  1900  free  pages  of disk space.  The directory for the GALAXY
   sources needs at least 3000 free pages of disk space.

   Perform Steps 173 through 198 at the console terminal (CTY) to install
   the Distribution tapes and/or any Tools tapes.


   ____ ____  ____ _________   Step 173:  Type <CTRL/C>.

   Type <CTRL/C> to start a job.

        ________        <CTRL/C>
         Installation-test System, TOPS-20 Monitor 7.0(6763)
        @


   ____ ____  ___ __ ___ ______ _____ __ ________ ___________   Step 174:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow   the   steps  in  the  example  to  log  in  and  enable  your
   capabilities.

         Installation-test System, TOPS-20 Monitor 7.0(6625)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 4 on TTY5 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $


   ____ ____  ____ ___ ___ _____ ___ ______ ____   Step 175:  Type OPR and press the RETURN key.

   Type OPR to run the OPR program.

         ___ _____        $OPR <RET>
        OPR>


   ____ ____  ____ ____ ______ __________ ____ ___ _____ ___ ______ ____   Step 176:  Type SHOW STATUS TAPE-DRIVE /ALL and press the RETURN key.

   To find a tape drive that you can use for mounting the software  tape,
   type the OPR command SHOW STATUS TAPE-DRIVE /ALL.  The system responds
   with a list of tape drives and their status.












                                    6-2
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


            ____ ______ __________ ____ _____        OPR>SHOW STATUS TAPE-DRIVE /ALL <RET>
        OPR>
        15:58:35           --Tape Drive Status--

        Drive  State      Volid   Req#  Job#  User
        -----  -----      ------  ----  ----  ----
        MTA0:  Unloaded
               AVR: Yes
        MTA1:  In Use     DEK     31    45    LARRUP
               AVR: Yes, Write: Yes, Unlabeled
        MTA2:  Loaded
               AVR: Yes, Write: Yes, Unlabeled
        MTA3:  Unloaded
               AVR: Yes
        MTA4:  Unloaded
               AVR: No
        MTA5:  Unloaded
               AVR: Yes
        OPR>


   ____ ____  ____ ___ __________ _____  ___________ ___ _____ ___ ______   Step 177:  Type SET TAPE-DRIVE MTAn:  UNAVAILABLE and press the RETURN
              ____              key.

   To mount the software  tape,  you  should  first  make  a  free  drive
   unavailable  to  timesharing  users.   The  OPR command SET TAPE-DRIVE
   MTAn:  UNAVAILABLE does this.  The example uses drive  number  0,  but
   you can specify any drive that is not in use.

            ___ __________ _____ ___________ _____        OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE <RET>
        Enter text and terminate with ^Z


   ____ ____ ____ __________ ________ ________ ___ ____ _________   Step 178: Type INSTALLING OPTIONAL SOFTWARE and type <CTRL/Z>.

   Type the text INSTALLING OPTIONAL SOFTWARE and then type <CTRL/Z>.

        Enter text and terminate with ^Z
        __________ ________ ________ __        INSTALLING OPTIONAL SOFTWARE ^Z
        OPR>
        15:59:07        -- Tape Drive Set Unavailable --
                      MTA0: set unavailable for assignment by MOUNTR
        SJ  0:
        SJ  0: 15:59:07      -- Tape Drive Set Unavailable --
        SJ  0:             MTA0: set unavailable for assignment by MOUNTR
        OPR>


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 179:  Type EXIT and press the RETURN key.

   Type EXIT to leave the OPR program.



                                    6-3
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


            ____ _____        OPR>EXIT <RET>
        $


   ____ ____  ____ ______ _____  ___ _____ ___ ______ ____   Step 180:  Type ASSIGN MTAn:  and press the RETURN key.

   Type ASSIGN MTAn:  to assign a magnetic tape drive to your  job.   The
   example uses drive number 0, but you can use any drive with the status
   UNLOADED.  The system prints the  system  prompt  when  the  drive  is
   assigned.

         ______ _____ _____        $ASSIGN MTA0: <RET>
        $

   Error:    If the device is assigned to another job, the system  prints
             the message:

                  ?ALREADY ASSIGNED TO JOB n

             Use the command INFORMATION AVAILABLE  DEVICES  to  find  an
             available tape drive.  Reissue the ASSIGN command.


   ____ ____  ____ ______ ___ _____ ___ ______ ____   Step 181:  Type DUMPER and press the RETURN key.

   Type DUMPER to start the DUMPER program.  The system prints the DUMPER
   prompt DUMPER>.

         ______ _____        $DUMPER <RET>
        DUMPER>

                               DUMPER ERRORS

           If  you  get  errors  when  using  DUMPER,   see   the
                                           _______ ____ _________           description  of  DUMPER  in the TOPS-20 User Utilities
           _____           Guide.


   ____ ____  ____ ____ _____ ___ _____ ___ ______ ____   Step 182:  Type TAPE MTAn: and press the RETURN key.

   Type TAPE MTAn: to tell DUMPER which tape drive to use.   The  example
   uses  MTA0:,  but  if you assigned another drive in Step 180, use that
   drive number instead.  The system prints the DUMPER prompt DUMPER>.

               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
        DUMPER>


   ____ ____  _____ ___ ________ _____   Step 183:  Mount the software tape.

   Mount the Distribution tape (or Tools  tape)  on  the  drive  that  is
   assigned  to  your  job.   Remember  to press the ON LINE button after


                                    6-4
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


   mounting the tape on a TU45 tape drive.  (See Step 9 in Chapter 2  for
   information on mounting tapes.)


   ____ ____  ____ ______ ___ _____ ___ ______ ____   Step 184:  Type REWIND and press the RETURN key.

   To start the tape at the beginning, type REWIND.  The system moves the
   tape to the beginning and prints the DUMPER prompt DUMPER>.

               ______ _____        DUMPER>REWIND <RET>
        DUMPER>

                                    NOTE

           If you are restoring Tools  tapes,  you  may  need  to
           build  additional  directories  to hold the files.  In
           this case, proceed to Step 191/192 for an  example  of
           building  directories  and  then  restoring files from
                           _______  ______  _________  _____           tape.  See the  TOPS-20  System  Manager's  Guide  for
           additional information on building directories.


   ____ ____  ____ _______ ___________  ________________  ___  _____  ___   Step 185:  Type RESTORE PS:<*>*.*.*  PS:<SUBSYS>*.*.*  and  press  the
              ______ ____              RETURN key.

   To restore the source files  for  TOPS-20  to  PS:<SUBSYS>,  type  the
   RESTORE  command.   The  system  prints  the total number of files and
   pages restored, followed by the DUMPER prompt.

               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
        Saveset "Source Files for TOPS-20 V7.0"  17-Mar-88 0957
         Loading files into PS:<SUBSYS>
         End of Tape.


         Total files restored:     1072
         Total pages restored:     8983
        DUMPER>


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 186:  Type EXIT and press the RETURN key.

   Type EXIT to leave DUMPER and return to TOPS-20 command level.

               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ____  ____ ______ _____  ___ _____ ___ ______ ____   Step 187:  Type UNLOAD MTAn:  and press the RETURN key.

   Type UNLOAD MTAn: to rewind and unload the tape from the tape drive.



                                    6-5
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


         ______ _____ _____        $UNLOAD MTA0: <RET>
        $


   ____ ____  ________ ___ ________ ____ ___ _____ ___   Step 188:  Dismount the software tape and store it.

   Remove Distribution tape 1 from the drive  and  store  it  in  a  safe
   place.


   ____ ____  ______ _____ ___ ___ ___ __ _______ _____ ____ ____________   Step 189:  Repeat Steps 183 and 184 to restore files from Distribution
              ____ __              tape 2.

   Repeat Steps  183  and  184  then  proceed  to  Step  190  to  restore
   Distribution tape 2.  Otherwise, continue with Step 193.


   ____ ____  ____ _______ ___________ __________________ ___  _____  ___   Step 190:  Type RESTORE PS:<*>*.*.* PS:<OPERATOR>*.*.* and  press  the
              ______ ____              RETURN key.

   To restore the documents on  Distribution  tape  2  to  the  directory
   PS:<OPERATOR>,  type the RESTORE command.  The system prints the total
   number of files and pages restored, followed  by  the  DUMPER  prompt.
   (If  you  want  a list of the files, give the FILES command before the
   RESTORE command.)   You  can  restore  the  files  to  any  directory.
   PS:<OPERATOR> is not required.

               _______ ___________ __________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<OPERATOR>*.*.* <RET>
        Saveset "Documentation Files for TOPS-20 V7.0" 17-Mar-88 0957
         Loading files into PS:<OPERATOR>
         End of Saveset.


         Total files restored:     80
         Total pages restored:     1167
        DUMPER>


   Error:    If  you  do  not  see  the  message  "Loading   files   into
             PS:<OPERATOR>,"  no  files  are  being  restored  from tape.
             Rewind the tape and try again.  Be sure you have the correct
             tape  mounted  and  the  tape drive is on line.  If problems
             persist, contact your DIGITAL Field Service Representative.

   You can list any of the files on the line printer by  typing  <CTRL/C>
   and  giving  the PRINT command.  The files with file types .MEM, .BWR,
   .BD, .SD, .DOC, .TCO, and .PCO are the most useful to print.

|  Two files  that  you  may  want  to  print  are  [SYSTEM]BUGS.MEM  and
   UUOJSYS.MEM.   The  BUG.MEM  file  contains  documentation  on BUGCHK,
   BUGINF,  and  BUGHLT  messages.    The   file   UUOJSYS.MEM   contains
   documentation on UUO to JSYS comparisons.

   Then return to DUMPER by giving the CONTINUE command and pressing  the
                                    6-6
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


   RETURN key twice.  In the example, the file SOURCE.DIR is printed.

               __        DUMPER>^C
         _____ __________ _____        $PRINT SOURCE.DIR <RET>
         ________ _____        $CONTINUE <RET>
        _____        <RET>
        DUMPER>


   ____ ____  _______ ___ ________ _______ ___________   Step 191:  Restore the language sources (optional).


   ____ ____  _______ ___ ______ _______ ___________   Step 192:  Restore the GALAXY sources (optional).

   If you do not want to restore the sources for either the  language  or
   GALAXY sources, continue at Step 193.

   If you want to restore the source files for  either  the  language  or
   GALAXY  sources,  give  the  RESTORE  command  with  the  name  of the
   directory  where  you  want  the  sources   stored.    Normally,   the
   directories  in the definition of the system logical name SYS:  do not
   contain source files, so you should use the BUILD  command  to  create
   appropriate directories for the source files.

   Use the following procedure  to  build  two  new  directories  and  to
   restore  the  language  sources, and then the GALAXY sources.  You can
   use   directory   names   of   your   own   choosing   in   place   of
   <LANGUAGE-SOURCES> and <GALAXY-SOURCES>.

               ____ _____        DUMPER>EXIT <RET>
         _____ _____________________ _____        $BUILD PS:<LANGUAGE-SOURCES> <RET>
        [New]
          _______ ____ _____        $$WORKING 1900 <RET>
          _________ ____ _____        $$PERMANENT 1900 <RET>
           _____        $$ <RET>
         _____ ___________________ _____        $BUILD PS:<GALAXY-SOURCES> <RET>
        [New]
          _______ ____ _____        $$WORKING 2200 <RET>
          _________ ____ _____        $$PERMANENT 2200 <RET>
           _____        $$ <RET>
         ______ _____        $DUMPER <RET>
               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
               _______ ___________ __________________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<LANGUAGE-SOURCES>*.*.* <RET>
        Saveset "Language Sources for TOPS-20 V7.0" 17-Mar-88 1002
         Loading files into PS:<LANGUAGE-SOURCES>
         End of Saveset.


         Total files restored:     144
         Total pages restored:     1828
               _______ ___________ ________________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<GALAXY-SOURCES>*.*.* <RET>
        Saveset "GALAXY Sources for TOPS-20 V7.0" 17-Mar-88 1003
         Loading files into PS:<GALAXY-SOURCES>
         End of Tape.
                                    6-7
                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES                 INSTALLING THE TOPS-20 DISTRIBUTION TAPES


         Total files restored:     78
         Total pages restored:     2093
        DUMPER>


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 193:  Type EXIT and press the RETURN key.

   Type EXIT to leave DUMPER and return to TOPS-20 command level.

               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ____  ____ ______ _____  ___ _____ ___ ______ ____   Step 194:  Type UNLOAD MTAn:  and press the RETURN key.

   Type UNLOAD MTAn: to rewind and unload the tape from the tape drive.

         ______ _____ _____        $UNLOAD MTA0: <RET>
        $


   ____ ____  ________ ___ ________ ____ ___ _____ ___   Step 195:  Dismount the software tape and store it.

   Remove the Distribution tape (or the Tools tape) from  the  drive  and
   store it in a safe place.


   ____ ____  ______ __ ____  ___  __  _______  _____  ____  _____  _____   Step 196:  Return to Step  183  to  restore  files  from  other  tapes
              ___________              (optional).

   Go back to Step 183 if you want to restore other  tapes;  for  example
   Tools tapes.  Otherwise, continue with Step 197.


   ____ ____  ____ ________ _____ ___ _____ ___ ______ ____   Step 197:  Type DEASSIGN MTAn: and press the RETURN key.

   Type DEASSIGN MTAn: to release the magnetic  tape  for  use  by  other
   users.  The system prints the TOPS-20 ENABLEd prompt.

         ________ _____ _____        $DEASSIGN MTA0: <RET>
        $


   ____ ____  _______ __ ____ ___ __ _______ _ __ ___ _____   Step 198:  Proceed to Step 199 in Chapter 7 to run UETP.










                                    6-8












                                 CHAPTER 7

                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE



   This chapter describes how to run the User  Environment  Test  Package
   (UETP).  This program performs a cursory check of the system.

   UETP starts a number of tests that can run either once or  repeatedly.
   The  source  files  are  kept  in  the directory <UETP.LIB>, while the
   temporary data files and results  of  the  tests  are  stored  in  the
                                                                     ____   directory  <UETP.RUN>.   For  more  information  on UETP, see the User
   ___________ ____ _______ _________ ______   Environment Test Package Reference Manual.

                                    NOTE

           If you performed  the  steps  in  Chapter  6  of  this
           manual,  you  can  skip Steps 199 and 200 and start at
           Step 201.  You should perform all the  steps  in  this
           chapter  on  the  operator's  console  terminal (CTY).
           Otherwise, you must return to the CTY after completing
           the  steps  in  this  chapter to resume control of the
           system.



   7.1  RUNNING THE STANDARD TESTS   7.1  RUNNING THE STANDARD TESTS

   Perform Steps 199 through 209 to run the standard UETP tests.


   ____ ____  ____ _________   Step 199:  Type <CTRL/C>.

   Type <CTRL/C> to start a job.

        ________        <CTRL/C>
         Installation-test System, TOPS-20 Monitor 7.0(6763)
        @


   ____ ____  ___ __ ___ ______ _____ __ ________ ___________   Step 200:  Log in and enable WHEEL or OPERATOR privileges.



                                    7-1
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   At the CTY, log in to the system and enable your capabilities.  Follow
   the example to perform these procedures.

         Installation-test System, TOPS-20 Monitor 7.0(6763)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job n on TTYn dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $


   ____ ____  ____ ____ _______________________ ___ _____ ___ ______ ____   Step 201:  Type TAKE PS:<UETP.LIB>SET-UP.CMD and press the RETURN key.

   To set up various subdirectories, type  TAKE  PS:<UETP.LIB>SET-UP.CMD.
   This  command  file  contains all the commands necessary to create the
   subdirectories.

         ____ _______________________ _____        $TAKE PS:<UETP.LIB>SET-UP.CMD <RET>
        [New]
        [New]
          .
          .
          .
         End of <UETP.LIB>SET-UP.CMD.1
        $


   ____ ____  ____ _______ _____________ ___ _____ ___ ______ ____   Step 202:  Type CONNECT PS:<UETP.RUN> and press the RETURN key.

   Type CONNECT PS:<UETP.RUN> to connect to the directory  that  has  the
   standard tests.

         _______ _____________ _____        $CONNECT PS:<UETP.RUN> <RET>
        $


   ____ ____  ____ ___ ________ ___ _____ ___ ______ ____   Step 203:  Type RUN UETP.EXE and press the RETURN key.

   To start the UETP program, type RUN UETP.EXE.  The system  prints  the
   prompt UETP>.

         ___ ________ _____        $RUN UETP.EXE <RET>
        [dd-mmm-yy hh:mm:ss         User Environment Test Package ]

        UETP> 


   ____ ____  ____ ____ __________ ___ _____ ___ ______ ____   Step 204:  Type TAKE VERIFY.CMD and press the RETURN key.

   Type TAKE VERIFY.CMD to load the standard  verification  tests.   This
   command  causes  the  standard  tests  to be loaded and the first test
   (VERIFY) to begin.  The system prints  several  messages  followed  by
   status  information.  In the example, the field hh:mm:ss indicates the


                                    7-2
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   time the message was generated.

             ____ __________ _____        UETP>TAKE VERIFY.CMD <RET>

        UETP>ENABLE VERIFY/CYCLE:1     ! Verify that the correct software
        [hh:mm:ss  ENABLE COMPLETED]   ! is installed

        UETP>BEGIN
        [hh:mm:ss  BEGIN COMPLETED]

        UETP>DEFAULT/CYCLE:00:15
        [hh:mm:ss  DEFAULT COMPLETED]

        UETP>ENABLE RANCBL
        [hh:mm:ss  ENABLE COMPLETED]

        UETP>ENABLE RANFOR
        [hh:mm:ss  ENABLE COMPLETED]

        UETP>ENABLE MTA0
        [hh:mm:ss  ENABLE COMPLETED]


        UETP>STATUS

        [dd-mmm-yy hh:mm:ss]

         Test  Depth Status  Cycle Times Error Error Start
         name                      run   count limit time
        ====== ===== ======= ===== ===== ===== ===== =====
        VERIFY VER   Running     1     0     0     0 dd-mmm-yy hh:mm:ss
        RANCBL VER   Enabled  0:15     0     0     0
        RANFOR VER   Enabled  0:15     0     0     0
        MTA0   VER   Enabled  0:15     0     0     0

        START VERIFY    9:43:33
        END   VERIFY   10:14:53

                                    NOTE

           If any messages appear between the START  message  and
           the  END  message,  there  are errors in the files you
           received.  Do not proceed any further.

   The last two messages signify the beginning and ending of the test.
   If the first test (VERIFY) finishes without error, go on to Step 205.

                                    NOTE

           In the following steps you should  use  a  tape  drive
           that  is not presently available to timesharing users.
           If you have just completed the steps in Chapter 6, you


                                    7-3
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


           can  give  the  TOPS-20  ASSIGN  command to assign the
           drive that you deassigned  in  Step  197.   Otherwise,
           perform  Steps  175  through  180  in Chapter 6 before
           continuing with Step 205.


   ____ ____  _____ _ ________ ____ __ ___ _____ ___ ____ __ _____   Step 205:  Mount a magnetic tape on the drive you want to test.

   The standard tests include a random  I/O  COBOL  test,  a  random  I/O
   FORTRAN test, and a magtape test for MTA0:.  Test MTA0 requires that a
   blank magnetic tape be mounted on drive 0.  If you want to test a tape
   drive  other  than  drive 0, you must enable the test for the selected
   drive.

   To enable the test for a specific drive, type ENABLE  MTAn  and  press
   the  RETURN  key  (n  indicates  the number of the drive; for example,
   MTA1, MTA2).

             ______ ____ _____        UETP>ENABLE MTAn <RET>
        [hh:mm:ss  ENABLE COMPLETED]

        UETP>

   Now mount a magnetic tape on the drive you want to test.  Be sure that
   a  write  ring  has been inserted in the tape and that the drive is on
   line before proceeding to the next step.


   ____ ____  ____ _____ ___ _____ ___ ______ ____   Step 206:  Type BEGIN and press the RETURN key.

   To start the remaining tests, type BEGIN.  The system  then  prints  a
   series of messages.

             _____ _____        UETP>BEGIN <RET>
        [hh:mm:ss  BEGIN COMPLETED]

        UETP>

             START  RANCBL  hh:mm:ss
             START  RANFOR  hh:mm:ss
             START  MTA0    hh:mm:ss
             END    RANCBL  hh:mm:ss
             END    RANFOR  hh:mm:ss
             END    MTA0    hh:mm:ss

   If messages other than those shown in the example  appear,  the  tests
   generating the messages have failed.


   ____ ____  _____   Step 207:  STOP.

   When all tests are completed, the system prints the  following  status


                                    7-4
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   information:

        [All tests complete on processor # 2102]

        [dd-mmm-yy hh:mm:ss]

         Test  Depth Status  Cycle Times Error Error Start
         name                      run   count limit time
        ====== ===== ======= ===== ===== ===== ===== =====
        VERIFY VER   Ended       1     1     0     0 dd-mmm-yy hh:mm:ss 
        RANCBL VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss 
        RANFOR VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss 
        MTA0   VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss 


   ____ ____  _____   Step 208:  STOP.

   At this point you can either type EXIT to terminate UETP, or begin the
   tests  for optional software.  The following step (Step 209) shows how
   to terminate UETP.  If you want to test optional software, you  should
   skip Step 209 and proceed to Step 210.


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 209:  Type EXIT and press the RETURN key.

   Type EXIT to end UETP.  Then continue at Step 214.

             ____ _____        UETP>EXIT <RET>
        $



   7.2  RUNNING OPTIONAL TESTS   7.2  RUNNING OPTIONAL TESTS

   The steps in this section describe how to enable  tests  for  optional
   software  products.   Be  sure  to  enable tests only for the optional
   software products you have installed.

   Table 7-1 contains a list of optional software  products  for  TOPS-20
   and the UETP command needed to start the test for the product.














                                    7-5
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   Table 7-1:  UETP Commands for Optional Software Product Tests   Table 7-1:  UETP Commands for Optional Software Product Tests


        -----------------------------------------------
        | Product             |  UETP Command         |
        -----------------------------------------------
        |                     |                       |
        | ALGOL-20            |  ENABLE ALGOL         |
        |                     |                       |
        | APL-20              |  ENABLE APL           |
        |                     |                       |
        | BASIC-PLUS-2        |  ENABLE BASIC         |
        |                     |                       |
        | COBOL-68            |  ENABLE COBOL         |
        |                     |                       |
        | COBOL-74            |  ENABLE CBL74         |
        |                     |                       |
        | DBMS-20             |  ENABLE DBMS          |
        |                     |                       |
        | FORTRAN             |  ENABLE FORTRA        |
        |                     |                       |
        | SORT-20             |  ENABLE SORT          |
        -----------------------------------------------


   ____ ____  _____ _____ ___ ________ ________ _________   Step 210:  Start tests for optional software products.

   To start a test for an optional software product, do the following:

        1.  Type ENABLE product-name and  press  the  RETURN  key.   (See
            Table 7-1 for the correct command for your specific product.)

                      ______ ____________ _____                 UETP>ENABLE product-name <RET>
                 [hh:mm:ss  ENABLE COMPLETED]

                 UETP>

        2.  Type an ENABLE command for each product you wish to test.

        3.  Type BEGIN and press the RETURN key.

                      _____ _____                 UETP>BEGIN <RET>
                 [hh:mm:ss  BEGIN COMPLETED]

                 UETP>

            BEGIN starts the standard tests and all the optional software
            tests   you   enabled.   The  system  starts  all  the  tests
            immediately.


   ____ ____  ____ ______ ___ _____ ___ ______ ____   Step 211:  Type STATUS and press the RETURN key.


                                    7-6
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   Periodically give a STATUS command to find out which tests are running
   and how many times they have been run.

                                    NOTE

           If there is a number other than 0 (zero) in the column
           ERROR COUNT, print the ERRORS.LOG file, when the tests
           are finished, to find out what caused the error.

        ______ _____        STATUS <RET>

        [dd-mmm-yy hh:mm:ss]

         Test  Depth Status  Cycle Times Error Error Start
         name                      run   count limit time
        ====== ===== ======= ===== ===== ===== ===== =====
        VERIFY VER   Ended       1     1     0     0 dd-mmm-yy hh:mm:ss
        RANCBL VER   Running  0:15     0     0     0 dd-mmm-yy hh:mm:ss
        RANFOR VER   Queued   0:15     0     0     0 dd-mmm-yy hh:mm:ss
        MTA0   VER   Queued   0:15     0     0     0 dd-mmm-yy hh:mm:ss

   In the example, the RANCBL.SUP test is  running,  the  RANFOR.SUP  and
   MTA0.SUP tests are in a wait state, and the VERIFY.SUP test has ended.


   ____ ____  ____ ______ ___ _____ ___ ______ ____   Step 212:  Type STATUS and press the RETURN key.

   The UETP program does not notify you when all the tests are completed.
   To  find  out when all the tests are completed, give a STATUS command.
   When all the tests are completed, your output from the STATUS  command
   resembles the following:

        ______ _____        STATUS <RET>

        [dd-mmm-yy hh:mm:ss]

         Test  Depth Status  Cycle Times Error Error Start
         name                      run   count limit time
        ====== ===== ======= ===== ===== ===== ===== =====
        VERIFY VER   Ended       1     1     0     0 dd-mmm-yy hh:mm:ss
        RANCBL VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss
        RANFOR VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss
        MTA0   VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 213:  Type EXIT and press the RETURN key.

   To exit from the UETP program,  type  EXIT.   The  system  prints  the
   TOPS-20 ENABLEd prompt ($).

        ____ _____        EXIT <RET>
        $


                                    7-7
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


   Error:  If you try to exit while there are tests  still  running,  the
           system  prints  the  message  "%You  still have tests running.
           "ABORT ALL" before exiting.  "  Wait until all the  tests  are
           completed and then reissue the EXIT command.



   7.3  DELETING TEMPORARY DIRECTORIES   7.3  DELETING TEMPORARY DIRECTORIES

   Perform Steps 214 through 219  to  delete  the  temporary  directories
   created by UETP and to return to a timesharing environment.


   ____ ____  ____ ____ ______________________ ___ _____ ___ ______ ____   Step 214:  Type TAKE <UETP.LIB>CLEAN-UP.CMD and press the RETURN key.

   To delete the temporary directories, type TAKE <UETP.LIB>CLEAN-UP.CMD.
   The system prints the word [Old] for each directory it deletes.

         ____ ______________________ _____        $TAKE <UETP.LIB>CLEAN-UP.CMD <RET>
        [Old]
        [Old]
          .
          .
          .
         End of <UETP.LIB>CLEAN-UP.CMD.3
        $


   ____ ____  ____ ________ _____ ___ _____ ___ ______ ____   Step 215:  Type DEASSIGN MTAn: and press the RETURN key.

   Type DEASSIGN MTAn: to release the magnetic  tape  drive  for  use  by
   other users.  This is the tape drive you assigned prior to Step 205.

         ________ _____ _____        $DEASSIGN MTA0: <RET>
        $


   ____ ____  ____ ___ ___ _____ ___ ______ ____   Step 216:  Type OPR and press the RETURN key.

   To return the CTY to the OPR program, type OPR.

         ___ _____        $OPR <RET>
        OPR>


   ____ ____  ____ ___ __________ _____ _________ ___  _____  ___  ______   Step 217:  Type SET TAPE-DRIVE MTAn: AVAILABLE and  press  the  RETURN
              ____              key.

   To return the tape drive you used to the pool of available  resources,
   type SET TAPE-DRIVE MTAn: AVAILABLE.

            ___ __________ _____ _________ _____        OPR>SET TAPE-DRIVE MTA0: AVAILABLE <RET>


                                    7-8
                      RUNNING THE TOPS-20 UETP PACKAGE                      RUNNING THE TOPS-20 UETP PACKAGE


        OPR>
        hh:mm:ss        -- Tape Drive Set Available --
                      MTA0: set available for assignment by MOUNTR
        SJ  0: OPR>
        SJ  0: hh:mm:ss      -- Tape Drive Set Available --
        SJ  0:             MTA0: set available for assignment by MOUNTR
        OPR>


   ____ ____  ____ ____ ___ _____ ___ ______ ____   Step 218:  Type EXIT and press the RETURN key.

   Type EXIT to leave the OPR program.

            ____ _____        OPR>EXIT <RET>
        $


   ____ ____  _____ ____________   Step 219:  Start timesharing.




































                                    7-9












                                 APPENDIX A

                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE



   This appendix describes how to  install  Version  7.0  software  on  a
   DECSYSTEM-20 now running TOPS-20 Version 6.1 software and is organized
   as follows:

        A.1  Installation Tools

             Lists the tools you need to install the software.

        A.2  Installing the TOPS-20 Version 7.0 Software

             Describes how to prepare for installation, load the  bundled
             software  from  magnetic  tape,  create  a new configuration
             command file, shut down the Version 6.1 system, and bring up
             the Version 7.0 system.

        A.3  Reverting to TOPS-20 Version 6.1

             Describes how to run  Version  6.1  software  after  running
             Version 7.0.

        A.4  Making the Version 7.0 Monitor the Primary Monitor

             Describes the procedure for making the Version  7.0  monitor
             your primary monitor by renaming the monitor and placing the
             Version 7.0 front-end software on disk.

        A.5  Making the Version 7.0 Monitor the Permanent Monitor

             Describes the procedure for making the Version  7.0  monitor
             your  permanent  monitor by placing the Version 7.0 software
             in the directories <SYSTEM> and <SUBSYS>  and  changing  the
             configuration command file.

                                                         __________   As you update the system, enter the commands that are underlined.  Use
   the console terminal (CTY) when performing these procedures.




                                    A-1
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   A.1  INSTALLATION TOOLS   A.1  INSTALLATION TOOLS

   To install the TOPS-20 Version 7.0 software, you need:

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy A.

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy B.

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy C.

         o  The TOPS-20 Installation Tape Version 7.0.

         o  A separate tape for each optional software product  you  have
            purchased.

   See Chapter 1, Sections 1.2.1 and 1.2.2,  for  information  about  the
   floppies and Installation tape.



   A.2  INSTALLING THE VERSION 7.0 SOFTWARE   A.2  INSTALLING THE VERSION 7.0 SOFTWARE

   The installation of TOPS-20 Version 7.0 software is divided into eight
   tasks:

        1.  Preparing for installation.

        2.  Creating the system directories.

        3.  Restoring the bundled software.

        4.  Renaming the Version 6.1 monitor.

        5.  Creating the new configuration command file.

        6.  Setting parameters for the directory <OPERATOR>.

        7.  Shutting down the DECSYSTEM-20.

        8.  Starting the new software.

   These tasks are described in the following sections.



   A.2.1  Preparing for Installation   A.2.1  Preparing for Installation

   Before  you  begin  your  installation,  read  the   listing   labeled
   TOPS20.BWR.   This  listing  describes any last minute changes made to
   the installation procedure or  to  the  TOPS-20  software.   Then,  to
   prepare the system for Version 7.0 software,



                                    A-2
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


         o  Run CHECKD.

         o  Obtain the number of free pages on the public structure.

         o  Delete directories created by UETP.

         o  Mount the Version 7.0 Installation tape.

   To prepare for installation, perform Steps 1 through 17.


   ____ __  ___ __ ___ ______ _____ __ ________ ___________   Step 1:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow the example to log in and enable your capabilities.

         Installation-test System, TOPS-20 Monitor 6.1(15054)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 3 on TTY9 23-May-87 16:56:38
         ______ _____        @ENABLE <RET>
        $

                                    NOTE

           If you are using the OPR program at the CTY, give  the
           EXIT  command  to  OPR  to  return  to TOPS-20 command
           level.


   ____ __  ___ _______   Step 2:  Run CHECKD.

   You must run CHECKD before installing the new software.  This is  done
   to  verify  that  the  directories  on  the public structure (PS:) are
   intact.  Follow the example to run CHECKD.

         ______ _____        $CHECKD <RET>
               _____ _________ ___ _____        CHECKD>CHECK DIRECTORY PS: <RET>

        [WORKING ON STRUCTURE - PS:]

               ____ _____        CHECKD>EXIT <RET>
        $

   Depending on what CHECKD finds, you may have a long wait while  CHECKD
   works on checking PS:.  The ouput you receive while running CHECKD may
                                                                   ______   or may not resemble  the  output  in  the  example.   See  the  CHECKD
   _____________   Specification for more information.


   ____ __  ____ ___________ __________ ___ _____ ___ ______ ____   Step 3:  Type INFORMATION DISK-USAGE and press the RETURN key.

   You must have enough disk space on your public structure (PS:)  before


                                    A-3
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   you  can  proceed.   To find out how many free pages there are on PS:,
   type INFORMATION DISK-USAGE.  The system prints the  number  of  pages
   assigned to you and the number of free pages on PS:.

         ___________ __________ _____        $INFORMATION DISK-USAGE <RET>
         PS:<OPERATOR>
         1942 Pages assigned, 1925 in use, 1 deleted
         5000 Working pages, 5000 Permanent pages allowed
         27180 Pages free on PS:, 189196 pages used.
        $

                                    NOTE

           The number of free pages on PS: must be at least 6000.
           If you do not have at least this number of pages free,
           you must dump some files to tape or delete and expunge
           some files.


   ____ __  ____ ____ _________________________ ___ _____ ___ ______ ____   Step 4:  Type TAKE PS:<UETP.LIB>CLEAN-UP.CMD and press the RETURN key.

   Before installing the  new  software,  you  must  delete  the  various
   directories created by UETP.  Type the TAKE command to do so.

         ____ _________________________ _____        $TAKE PS:<UETP.LIB>CLEAN-UP.CMD <RET>
        [Old]
        [Old]
          .
          .
          .
         End of <UETP.LIB>CLEAN-UP.CMD
        $


   ____ __  ____ _______ ___________ ___ _____ ___ ______ ____   Step 5:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   You must be connected to another directory in  order  to  perform  the
   following steps.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $


   ____ __  ____ _____ _____________ ___ _____ ___ ______ ____   Step 6:  Type BUILD PS:<UETP.LIB> and press the RETURN key.

   Before you can load the new version of the UETP program onto PS:,  you
   must delete the old version of the PS:<UETP.LIB> directory.

         _____ _____________ _____        $BUILD PS:<UETP.LIB> <RET>
        [Old]
        $$



                                    A-4
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


                                    NOTE

           If you find that the UETP directories do not exist  on
           your  system,  ignore  any  error messages you receive
           while deleting them in the following steps.


   ____ __  ____ ____ ___ _____ ___ ______ ____   Step 7:  Type KILL and press the RETURN key.

   Use the KILL command to delete the old PS:<UETP.LIB> directory.

          ____ _____        $$KILL <RET>
        [Confirm]


   ____ __  _____ ___ ______ ___ ______   Step 8:  Press the RETURN key twice.

   To confirm you are deleting PS:<UETP.LIB>, press the RETURN key twice.

                 _____        [Confirm]<RET>
          ____        $$<RET
        $


   ____ __  ______ ___ ___________ _____________ ___ __________   Step 9:  Delete the directories PS:<UETP.RUN> and PS:<UETP>.

   Follow the example to delete PS:<UETP.RUN> and PS:<UETP>.

         _____ _____________ _____        $BUILD PS:<UETP.RUN> <RET>
        [Old]
          ____ _____        $$KILL <RET>
                 _____        [Confirm]<RET>
          _____        $$<RET>
         _____ _________ _____        $BUILD PS:<UETP> <RET>
        [Old]
          ____ _____        $$KILL <RET>
                 _____        [Confirm]<RET>
          _____        $$<RET>
        $

                                    NOTE

           If you have tape  drive  allocation  enabled,  perform
           Steps 10 through 14.  Otherwise, continue at Step 15.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 10:  Type OPR and press the RETURN key.

   Type OPR to run the OPR program.

         ___ _____        $OPR <RET>
        OPR>


                                    A-5
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ ___  ____ ____ ______ __________ ____ ___ _____ ___ ______ ____   Step 11:  Type SHOW STATUS TAPE-DRIVE /ALL and press the RETURN key.

   To find out what drives on the  system  are  available  to  mount  the
   Installation  tape,  type  SHOW  STATUS  TAPE-DRIVE  /ALL.  The system
   prints the status of all tape drives on  the  system.   Use  any  tape
   drive  that has the status of "UNLOADED" for mounting the Installation
   tape.

            ____ ______ __________ ____ _____        OPR>SHOW STATUS TAPE-DRIVE /ALL <RET>
        OPR>
        17:00:09          --Tape Drive Status--
        DRIVE   STATE  VOLID     REQ#    JOB#  USER
        -----   -----  -----     ----    ----  ----
        MTA0:   Available
        MTA1:   Unloaded
                AVR: Yes
        MTA2:   Unloaded
                AVR: Yes
        MTA3:   Unloaded
                AVR: Yes
        MTA7:   Unavailable
        OPR>


   ____ ___  ____ ___ __________ ____ ___________ ___  _____  ___  ______   Step 12:  Type SET TAPE-DRIVE MTAn UNAVAILABLE and  press  the  RETURN
             ____             key.

   To mount the TOPS-20 Installation  tape,  you  should  first  make  an
   available  tape  drive  unavailable to timesharing users.  To do this,
   type SET TAPE-DRIVE MTAn UNAVAILABLE.  The example uses MTA0:  as  the
   tape  drive,  but you can specify any tape drive that is not in use at
   the moment.

            ___ __________ _____ ___________ _____        OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE <RET>
        Enter text and terminate with ^Z


   ____ ___  ____ __________ _______ ___ ________ ___ _____ _________   Step 13:  Type INSTALLING VERSION 7.0 SOFTWARE and press <CTRL/Z>.

   After the system prints "Enter text and terminate with ^Z,"  type  the
   text  INSTALLING  VERSION  7.0  SOFTWARE  and then type <CTRL/Z>.  The
   system prints the OPR prompt and several messages.

        Enter text and terminate with ^Z
        __________ _______ ___ ________ __        INSTALLING VERSION 7.0 SOFTWARE ^Z
        OPR>
        17:01:41       -- Tape Drive Set Unavailable --
                    MTA0: set unavailable for assignment by MOUNTR
        SJ  0: PTYCON>
        SJ  0: **** OPR(6) 17:01:41 ****
        SJ  0:
        SJ  0: 17:01:41      -- Tape Drive Set Unavailable --


                                    A-6
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


        SJ  0:            MTA0: set unavailable for assignment by MOUNTR
        SJ  0: OPR>
        OPR>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 14:  Type EXIT and press the RETURN key.

   To return to TOPS-20  command  level  and  continue  the  installation
   procedures, type EXIT.  The system prints the ENABLEd prompt ($).

            ____ _____        OPR>EXIT <RET>
        $


   ____ ___  ____ ______ _____  ___ _____ ___ ______ ____   Step 15:  Type ASSIGN MTA0:  and press the RETURN key.

   To assign tape drive 0 to your job, type  ASSIGN  MTA0:.   The  system
   prints the ENABLEd prompt ($).

         ______ _____ _____        $ASSIGN MTA0: <RET>
        $


   ____ ___  _____ ___ _______ ___ ____________ ____ __ ______   Step 16:  Mount the Version 7.0 Installation tape on MTA0:.

   Mount the Version 7.0 Installation tape on the tape  drive.   Be  sure
   the drive is on line.


   ____ ___  ____ ______ _____ ___ _____ ___ ______ ____   Step 17:  Type REWIND MTA0: and press the RETURN key.

   To position the tape at its beginning, type the REWIND command.

         ______ _____ _____        $REWIND MTA0: <RET>
        $



   A.2.2  Creating System Directories   A.2.2  Creating System Directories

   You must create directories  to  store  system  files  and  files  for
   testing  the  system.   You  create  these  directories by running the
   DLUSER program (Steps 18 through 21).


   ____ ___  ____ ____ _____ _ _____ ___ _____ ___ ______ ____   Step 18:  Type SKIP MTA0: 2 FILES and press the RETURN key.

   Type SKIP MTA0: 2 FILES to position the tape at the DLUSER program.

         ____ _____ _ _____ _____        $SKIP MTA0: 2 FILES <RET>
        $



                                    A-7
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ ___  ____ ___ _____ ___ _____ ___ ______ ____   Step 19:  Type RUN MTA0: and press the RETURN key.

   To run the DLUSER program from magnetic tape, type RUN  MTA0:.   After
   the DLUSER program starts, the system prints the DLUSER prompt.

         ___ _____ _____        $RUN MTA0: <RET>
        DLUSER>

   Error:    If you make a typing mistake,  rewind  the  tape,  skip  two
             files, and reissue the above command.  The following example
             shows how to do this when the Installation tape is on MTA0:.

                   ______ _____ _____                  $REWIND MTA0: <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 2 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DLUSER>


   ____ ___  ____ ____ _____ ___ _____ ___ ______ ____   Step 20:  Type LOAD MTA0: and press the RETURN key.

   To load the parameters for the directories <UETP>  and  <SYSTEM-ERROR>
   into  the  file  system  from the TOPS-20 Installation tape, type LOAD
   MTA0:.  After a few seconds, the system  prints  DONE. and  gives  the
   DLUSER prompt.

               ____ _____ _____        DLUSER>LOAD MTA0: <RET>

        DONE.
        DLUSER>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 21:  Type EXIT and press the RETURN key.

   Type EXIT to leave the DLUSER program.  The system prints the  TOPS-20
   ENABLEd prompt ($).

               ____ _____        DLUSER>EXIT <RET>
        $

                                    NOTE

           You may want to check the directories before restoring
           the  Version 7.0 software.  To do so, type the command
           INFORMATION DISK-USAGE PS:<*>.  Be sure that  the  old
           versions of the files are cleared from the directories
           that you will be using for Version 7.0 files.



   A.2.3  Restoring TOPS-20 Bundled Software from Tape   A.2.3  Restoring TOPS-20 Bundled Software from Tape

   The DUMPER program places  files  from  the  magnetic  tape  into  the


                                    A-8
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   TOPS-20  file  system.   (The  DUMPER program is the fifth file on the
   Installation tape.)  Once you have DUMPER running, restore  the  files
   to    the    directories    PS:<NEW-SYSTEM>,    PS:<NEW-SUBSYS>,   and
   PS:<UETP.LIB>.

   Perform Steps 22 through 34 to run  DUMPER,  to  restore  the  bundled
   software, and to dismount the Installation tape.


   ____ ___  ____ ___ _____ ___ _____ ___ ______ ____   Step 22:  Type RUN MTA0: and press the RETURN key.

   To run the DUMPER program, type RUN MTA0:.  After the  DUMPER  program
   starts, the system prints the DUMPER prompt.

         ___ _____ _____        $RUN MTA0: <RET>
        DUMPER>

   Error:    If you receive any errors, rewind the tape, skip four  files
             and  reissue the command above.  The following example shows
             how to do this for MTA0:.  If errors still persist,  contact
             DIGITAL Software Support.

                   ______ _____ _____                  $REWIND MTA0: <RET>
                   ____ _____ _ _____ _____                  $SKIP MTA0: 4 FILES <RET>
                   ___ _____ _____                  $RUN MTA0: <RET>
                  DUMPER>


   ____ ___  ____ ____ _____   ___  _____  ___  ______  ____   ____  ____   Step 23:  Type TAPE MTA0:   and  press  the  RETURN  key.   Then  type
             _______ ______________ ___ _____ ___ ______ ____             ACCOUNT SYSTEM-DEFAULT and press the RETURN key.

   To tell the DUMPER program which tape drive you are using,  type  TAPE
   MTA0:.   Then  type  ACCOUNT  SYSTEM-DEFAULT to tell DUMPER to use the
   system-default account.

               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
               _______ ______________ _____        DUMPER>ACCOUNT SYSTEM-DEFAULT <RET>
        DUMPER>


   ____ ___  ____ _____ ___ _____ ___ ______  ____  ____  ____  _________   Step 24:  Type FILES and press the RETURN  key,  then  type  SUPERSEDE
             ______ ___ _____ ___ ______ ____  ___________             ALWAYS and press the RETURN key.  (optional).

   To have the files being restored into the individual directories typed
   on  your  terminal,  type FILES.  The system prints the DUMPER prompt.
   To make sure you always have the most recent  version  of  the  files,
   type SUPERCEDE ALWAYS.

               _____ _____        DUMPER>FILES <RET>
               _________ ______ _____        DUMPER>SUPERSEDE ALWAYS <RET>
        DUMPER



                                    A-9
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ ___  ____ _______ ___________ _____________________ ___ _____ ___   Step 25:  Type RESTORE PS:<*>*.*.* PS:<NEW-SYSTEM>*.*.-1 and press the
             ______ ____             RETURN key.

   To copy  the  TOPS-20  monitor  and  its  related  programs  from  the
   Installation  tape to your public structure, type the RESTORE command.
   This DUMPER command restores all the files in the first saveset to the
   directory PS:<NEW-SYSTEM>.  Then the system prints the DUMPER prompt.

               _______ ___________ _____________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<NEW-SYSTEM>*.*.-1 <RET>
         Saveset "SYSTEM Files for TOPS-20 V7.0"  17-Mar-88 1441
         Loading files into PS:<NEW-SYSTEM>
         End of Saveset.


         Total files restored:     n
         Total pages restored:     n
        DUMPER>

                                    NOTE

           You may receive an error message from DUMPER about  it
           deleting existing files.  This happens when you do not
           delete the previous version of software and write over
           the  files.   This is an informational message and you
           should continue with your installation.


   ____ ___  ____ _______ ___________ _____________________ ___ _____ ___   Step 26:  Type RESTORE PS:<*>*.*.* PS:<NEW-SUBSYS>*.*.-1 and press the
             ______ ____             RETURN key.

   To restore the system program files to the directory  PS:<NEW-SUBSYS>,
   type the RESTORE command.  The system prints the DUMPER prompt.

               _______ ___________ _____________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<NEW-SUBSYS>*.*.-1 <RET>
         Saveset "SUBSYS Files for TOPS-20 V7.0" 17-Mar-88 1442
         Loading files into PS:<NEW-SUBSYS>
         End of Saveset.


         Total files restored:     n
         Total pages restored:     n
        DUMPER>


   ____ ___  ____ _______ ___________ _____________________ ___ _____ ___   Step 27:  Type RESTORE PS:<*>*.*.* PS:<NEW-SUBSYS>*.*.-1 and press the
             ______ ____             RETURN key.

   To restore the GALAXY files into the directory  PS:<NEW-SUBSYS>,  type
   the  RESTORE  command.   When  all  the files are restored, the system
   prints the DUMPER prompt.

               _______ ___________ _____________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<NEW-SUBSYS>*.*.-1 <RET>


                                    A-10
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


         Saveset "GALAXY SUBSYS Files for TOPS-20 V7.0" 17-Mar-88 1443
         Loading files into PS:<NEW-SUBSYS>
         End of Saveset.


         Total files restored:     n
         Total pages restored:     n
        DUMPER>


   ____ ___  ____ _______ ___________ ___________________ ___  _____  ___   Step 28:  Type RESTORE PS:<*>*.*.* PS:<UETP.LIB>*.*.-1 and  press  the
             ______ ____             RETURN key.

   To restore the files for the User  Environment  Test  Package  (UETP),
   type the RESTORE command.  When all the files are restored, the system
   prints the DUMPER prompt.

               _______ ___________ ___________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<UETP.LIB>*.*.-1 <RET>
         Saveset "UETP Files for TOPS-20 V7.0"  17-Mar-88 1444
         Loading files into PS:<UETP.LIB>
         End of Tape.


         Total files restored:     n
         Total pages restored:     n
        DUMPER>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 29:  Type EXIT and press the RETURN key.

   Type EXIT to end DUMPER and to return to TOPS-20 command level.

               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ___  ____ ______ _____  ___ _____ ___ ______ ____   Step 30:  Type UNLOAD MTA0:  and press the RETURN key.

   To unload the Installation tape  from  the  tape  drive,  type  UNLOAD
   MTA0:.  The system rewinds and unloads the tape from the drive.

         ______ _____ _____        $UNLOAD MTA0: <RET>
        $

   You can now remove the tape from the tape drive.


   ____ ___  ____ ________ _____ ___ _____ ___ ______ ____   Step 31:  Type DEASSIGN MTA0: and press the RETURN key.

   To remove the device MTA0: from your job, type  DEASSIGN  MTA0:.   The
   system prints the ENABLEd prompt ($).



                                    A-11
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


         ________ _____ _____        $DEASSIGN MTA0: <RET>
        $

                                    NOTE

           If you performed Step 12, which removed a  tape  drive
           from  the system's usage, perform Steps 32 through 34.
           Otherwise, continue at Step 35.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 32:  Type OPR and press the RETURN key.

   To return to OPR command level, type OPR.

         ___ _____        $OPR <RET>
        OPR>


   ____ ___  ____ ___ __________ _____ _________  ___  _____  ___  ______   Step 33:  Type SET TAPE-DRIVE MTAn: AVAILABLE  and  press  the  RETURN
             ____             key.

   To return the tape drive you removed from system  usage  in  Step  12,
   type SET TAPE-DRIVE MTAn: AVAILABLE.  The example uses MTA0:.

            ___ __________ _____ _________ _____        OPR>SET TAPE-DRIVE MTA0: AVAILABLE <RET>
        OPR>
        17:23:53      -- Tape Drive Set Available --
                   MTA0: set available for assignment by MOUNTR
        SJ  0: PTYCON>
        SJ  0: **** OPR(6) 17:23:53 ****
        SJ  0:
        SJ  0: 17:23:53      -- Tape Drive Set Available --
        SJ  0:            MTA0: set available for assignment by MOUNTR
        SJ  0: OPR>
        OPR>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 34:  Type EXIT and press the RETURN key.

   To return to TOPS-20  command  level  and  continue  the  installation
   procedures, type EXIT.  The system prints the ENABLEd prompt ($).

            ____ _____        OPR>EXIT <RET>
        $



   A.2.4  Renaming the Version 6.1 Monitor   A.2.4  Renaming the Version 6.1 Monitor

   In case you ever need to revert to the Version 6.1 monitor,  you  must
   rename    it   before   copying   the   Version   7.0   monitor   into
   <SYSTEM>MONITR.EXE.  Perform Steps 35 through 38 to rename the Version


                                    A-12
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   6.1  monitor  and  to copy the Version 7.0 monitor and certain network
   files to <SYSTEM>.


   ____ ___  ____ _______ ___________ ___ _____ ___ ______ ____   Step 35:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   You must be connected to the appropriate directory  to  perform  these
   procedures.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $


   ____ ___  ____ ______  ____________  ________________  ___  _____  ___   Step 36:  Type RENAME  MONITR.EXE.*  6-1-MONITR.EXE.*  and  press  the
             ______ ____             RETURN key.

   To rename and save the Version 6.1 monitor, type the  RENAME  command.
   When  the  rename is successfully completed, the system prints an [OK]
   message.

         ______ ____________ ________________ _____        $RENAME MONITR.EXE.* 6-1-MONITR.EXE.* <RET> 
         MONITR.EXE.n => 6-1-MONITR.EXE.n [OK]
        $

                            TCP/IP Installations

           If you are performing a TCP/IP installation, you  must
           choose  a  TOPS-20  monitor  at  this time.  After you
           restore the TCP/IP Distribution tape, you will be able
           to choose a TCP/IP monitor.


   ____ ___  ____  ____  ___________________________  _____________   ___   Step 37:  Type  COPY  PS:<NEW-SYSTEM>montyp.EXE.*  MONITR.EXE.-1   and
             _____ ___ ______ ____             press the RETURN key.

   To copy the Version  7.0  monitor  into  PS:<SYSTEM>,  type  the  COPY
   command.   "Montyp"  designates  the type of monitor you have selected
   for your system; for example, 2060-MONBIG.  (See Chapter 3 Section 3.1
   for  information  about choosing a monitor for your system.)  When the
   copy is successfully completed, the system prints an [OK] message.

         ____ ___________________________ _____________ _____        $COPY PS:<NEW-SYSTEM>montyp.EXE.* MONITR.EXE.-1 <RET>
         <NEW-SYSTEM>montyp.EXE.n => MONITR.EXE.n [OK]
        $


   ____ ___  ____  ____  ___________________________  _____________   ___   Step 38:  Type  COPY  PS:<NEW-SYSTEM>IPALOD.EXE.*  IPALOD.EXE.-1   and
             _____ ___ ______ ____             press the RETURN key.

   The file IPALOD.EXE must be in the directory <SYSTEM> in order for the
   CI20  microcode to be loaded properly in Step 57 of this appendix.  To
   do this, type  the  COPY  command.   When  the  copy  is  successfully


                                    A-13
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   completed, the system prints an [OK] message.

         ____ ___________________________ _____________ _____        $COPY PS:<NEW-SYSTEM>IPALOD.EXE.* IPALOD.EXE.-1 <RET>
         <NEW-SYSTEM>IPALOD.EXE.n => IPALOD.EXE.n [OK]
        $


   ____ ___  ____  ____  ___________________________  _____________   ___   Step 39:  Type  COPY  PS:<NEW-SYSTEM>KNILDR.EXE.*  KNILDR.EXE.-1   and
             _____ ___ ______ ____             press the RETURN key.

   The file KNILDR.EXE must be in the directory <SYSTEM> in order for the
   Ethernet  microcode to be loaded properly in Step 57 of this appendix.
   To do this, type the COPY command.   When  the  copy  is  successfully
   completed, the system prints an [OK] message.

         ____ ___________________________ _____________ _____        $COPY PS:<NEW-SYSTEM>KNILDR.EXE.* KNILDR.EXE.-1 <RET>
         <NEW-SYSTEM>KNILDR.EXE.n => KNILDR.EXE.n [OK]
        $



   A.2.5  Creating the Configuration Command File   A.2.5  Creating the Configuration Command File

   You must create the  configuration  command  file  to  declare  system
   parameters.    Perform   Steps  40  through  43  to  create  the  file
   <NEW-SYSTEM>7-CONFIG.CMD.

                                    NOTE

           This  section  describes  how  to   create   the   new
           configuration  command file.  The steps illustrate the
           use of the EDIT  editor  program.   You  can  use  any
           editor  of  your choice, as long as you accomplish the
           goal of each step.


   ____ ___  ____  ____  ______________  ___________________________  ___   Step 40:  Type  EDIT  6-1-CONFIG.CMD  PS:<NEW-SYSTEM>7-CONFIG.CMD  and
             _____ ___ ______ ____             press the RETURN key.

   To   edit   6-1-CONFIG.CMD   and   have   the   changes   placed    in
   PS:<NEW-SYSTEM>7-CONFIG.CMD, type the EDIT command.  The system prints
   "Edit: <SYSTEM>6-1-CONFIG.CMD" and the EDIT prompt.

         ____ ______________ ___________________________ _____        $EDIT 6-1-CONFIG.CMD PS:<NEW-SYSTEM>7-CONFIG.CMD <RET>
        Edit: PS:<SYSTEM>6-1-CONFIG.CMD.n
        *


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 41:  Type P^:* and press the RETURN key.

   To print the contents of 6-1-CONFIG.CMD, type P^:*.  The system prints
   the entire 6-1-CONFIG.CMD file and then the EDIT prompt.


                                    A-14
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


        EDIT: PS:<SYSTEM>6-1-CONFIG.CMD.n
         ____ _____        *P^:* <RET>
            .
            .
            .
        *


   ____ ___  ____ _______ _ __ ____ ______   Step 42:  Read Chapter 3 of this guide.

   Read Chapter 3 of this guide,  Tailoring  the  System,  and  make  any
   changes  to  the system parameters that are necessary.  New parameters
   added for Verison 7 include:

        ENABLE OFFLINE-STRUCTURES mm::ss (default)
        DISABLE OFFLINE-STRUCTURES
        ENABLE LOGIN-STRUCTURE
        DISABLE LOGIN-STRUCTURE  (default)
        ENABLE CLUSTER-INFORMATION (default)
        DISABLE CLUSTER-INFORMATION
        ENABLE CLUSTER-SENDALLS (default)
        DISABLE CLUSTER-SENDALLS
        ENABLE DUMP-ON-BUGCHK FACILITY
        DISABLE DUMP-ON-BUGCHK (default)
        ENABLE MINIMUM-PASSWORD-LENGTH
        DISABLE MINIMUM-PASSWORD-LENGTH (default)
|       TERMINAL IGNORE-SYSTEM-MESSAGES 
|       TERMINAL IGNORE-USER-MESSAGES 
|       TERMINAL REMOTE SPEED NOBELL (default)
|       ENABLE FAST-LOGIN-OPTION (default)
|       DISABLE FAST-LOGIN-OPTION 
|       ENABLE PASSWORD-EXPIRATION n
|       DISABLE PASSWORD-EXPIRATION (default)
|       ENABLE PASSWORD-DICTIONARY
|       DISABLE PASSWORD-DICTIONARY (default)
|       ENABLE DUMP-ON-BUGCHK bugname IGNORE-DUMP-TIMEOUT
|       DISABLE DUMP-ON-BUGCHK bugname IGNORE-DUMP-TIMEOUT (default)
|       ENABLE SHORT-BUG-OUTPUT
|       DISABLE SHORT-BUG-OUTPUT (default)
|       ENABLE JOB0-CTY-OUTPUT
|       DISABLE JOB0-CTY-OUTPUT (default)
|       ENABLE SYSTEM-ACCESS-CONTROL-JOB
|       ENABLE DETACH-CARRIER-OFF n
|       DISABLE DETACH-CARRIER-OFF n (default)
|       ENABLE HANGUP-ON-DETACH
|       DISABLE HANGUP-ON-DETACH (default)

   Also make sure the definitions for SYSTEM: and SYS: are the following:

        DEFINE SYS: PS:<NEW-SUBSYS>,PS:<SUBSYS>
        DEFINE SYSTEM: PS:<NEW-SYSTEM>,PS:<SYSTEM>



                                    A-15
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   Other information to be added includes parameters for MSCP-served disk
   drives,  daylight  savings  time,  remote  line conditions, and system
   level information.

   After you make your changes  to  the  configuration  command  file  by
   reading  Chapter  3,  return  to this appendix to continue your update
   installation at Step 43.

                                    NOTE

           When you are making a change to existing lines of  the
           6-1-CONFIG.CMD   file,   use   the   EDIT  command  "R
           line-number."   Any  changes  made   to   the   system
           parameters  are made in <NEW-SYSTEM>7-CONFIG.CMD.  The
           file <SYSTEM>6-1-CONFIG.CMD remains the same.


   ____ ___  _____ ___ ______ ____  ____ __ ___ _____ ___ ______ ____   Step 43:  Press the ESCape key.  Type EU and press the RETURN key.

   After you make all the necessary changes  to  the  system  parameters,
   press  the  ESCape  key.  Then type EU and press the RETURN key.  This
   command ends the EDIT program and saves the file.  The  system  prints
   the name of the output file.

                _        06700   $
         __ _____        *EU <RET>

        [PS:<NEW-SYSTEM>7-CONFIG.CMD.1]
        $

                                    NOTE

           Before bringing up the system under Version  7.0,  you
           should   check   the  7-PTYCON.ATO  file  against  the
           6-1-PTYCON.ATO file.  You do not have to compare these
           files  if  you  have not changed the Version 6.1 file.
           However, if you have made  your  own  changes  to  the
           6-1-PTYCON.ATO  file  and  you  wish  those changes to
           exist under Version 7.0, you must add the  changes  to
           the 7-PTYCON.ATO file.



   A.2.6  Setting Parameters for <OPERATOR>   A.2.6  Setting Parameters for <OPERATOR>

   You must be certain that the operator is a member of  user  group  100
   and  has  IPCF (InterProcess Communication Facility) capabilities.  Do
   so by giving the commands in Steps 44 through 47.


   ____ ___  ____ _____ _____________ ___ _____ ___ ______ ____   Step 44:  Type BUILD PS:<OPERATOR> and press the RETURN key.



                                    A-16
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   Type  BUILD  PS:<OPERATOR>.   The  system  prints  [Old],   then   the
   subcommand prompt ($$).

         _____ _____________ _____        $BUILD PS:<OPERATOR> <RET>
        [Old]
        $$


   ____ ___  ____ ____ ___ ___ _____ ___ ______ ____   Step 45:  Type USER 100 and press the RETURN key.

   At the subcommand prompt, type USER 100 to make the operator a  member
   of user group 100.

          ____ ___ _____        $$USER 100 <RET>
        $$


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 46:  Type IPCF and press the RETURN key.

   Type IPCF to give the operator IPCF capabilities.

          ____ _____        $$IPCF <RET>
        $$


   ____ ___  _____ ___ ______ ____   Step 47:  Press the RETURN key.

   To exit from subcommand level, press the RETURN key.

          _____        $$<RET>
        $

                            TCP/IP Installations

           If you are installing TCP/IP-20, proceed  to  Appendix
           C, Section C.3, Step 2.



   A.2.7  Shutting Down the DECSYSTEM-20   A.2.7  Shutting Down the DECSYSTEM-20

   To shut down the Version 6.1 software  on  the  DECSYSTEM-20,  perform
   Steps 48 through 50.


   ____ ___  ____ _______ __ ___ _____ ___ ______ ____   Step 48:  Type ^ECEASE +1 and press the RETURN key.

   To bring the system down in one minute, type ^ECEASE +1.   The  system
   prints several messages.  The last message is "Shutdown complete."

         _______ __ _____        $^ECEASE +1 <RET>



                                    A-17
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


        [System TOPS20 going down in one minute!!]
        $
        [System down]

        SJ  0: PTYCON> Killed Job n, User name, Account name, TTY n,
        SJ  0:   dd-mmm-yy hh:mm:ss, Used h:mm:ss in h:mm:ss

        Shutdown complete

                                    NOTE

           Do not proceed to Step  49  until  the  system  prints
           "Shutdown complete."


   ____ ___  ____ _________   Step 49:  Type <CTRL/\>.

   At the console terminal, type <CTRL/\>  to  return  to  the  front-end
   Command  Parser.   When  you  are at Command Parser command level, the
   system prints the prompt PAR>.

        ________        <CTRL/\>
        PAR>


   ____ ___  ____ ________ ___ _____ ___ ______ ____   Step 50:  Type SHUTDOWN and press the RETURN key.

   To stop the TOPS-20 monitor, type SHUTDOWN.

            ________ _____        PAR>SHUTDOWN <RET>
        **HALTED**

        %DECSYSTEM-20 NOT RUNNING



   A.2.8  Starting the New Software   A.2.8  Starting the New Software

   To start the Version 7.0 software, perform Steps 51 through 62.


   ____ ___  ____ _________   Step 51:  Type <CTRL/\>.

   Type <CTRL/\> to return to the front-end Command Parser.  Because  the
   system  is  not running, you will see the prompt PAR%.  If you see the
   prompt PAR> instead, go back to Step 50.

        ________        <CTRL/\>
        PAR%


   ____ ___  ____ ___ ___ ___ _____ ___ ______ ____   Step 52:  Type RUN PIP and press the RETURN key.


                                    A-18
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   To load the PIP program and start it, type RUN PIP.  After  1  second,
   PIP  is  ready for you to type commands.  The system prints the prompt
   PIP>.

            ___ ___ _____        PAR%RUN PIP <RET>

        PIP>


   ____ ___  ____ ___________ ___ _____ ___ ______ ____   Step 53:  Type KL.CFG;*/DE and press the RETURN key.

   You must delete any existing front-end configuration  file  from  your
   front-end  file  system  before  bringing up the Version 7.0 front-end
   monitor.

            ___________ _____        PIP>KL.CFG;*/DE <RET>
        PIP>

                                    NOTE

           If the system prints PIP -- NO SUCH FILE(S), then  you
           did  not  have  a front-end configuration file in your
           front-end file system.  Proceed to Step 54.


   ____ ___  ____ ________ ___ _________   Step 54:  Type <CTRL/Z> and <CTRL/\>.

   To end PIP and return to the front-end Command Parser,  type  <CTRL/Z>
   followed by <CTRL/\>.

            __        PIP>^Z

        ________        <CTRL/\>
        PAR%


   ____ ___  _____ ___ _______ ___ ______ ______ _ __ ______ _____ _  ___   Step 55:  Mount the Version 7.0 System Floppy A in floppy drive 0  and
             ___ _______ ___ ______ ______ _ __ ______ _____ __             the Version 7.0 System Floppy B in floppy drive 1.

   To run the Version 7.0 front-end software, mount System  Floppy  A  in
   drive 0 and System Floppy B in drive 1.


   ____ ___  ___ ___ ______ ________ __ ______ ________   Step 56:  Set the switch register to 000007 (octal).

   Set the switch register to 000007 (octal) by placing  switches  0,  1,
   and 2 up.


   ____ ___  _____ ___ ______ ___ _______________ _______ _______________   Step 57:  Press the ENABLE and SWITCH-REGISTER buttons simultaneously.

   To bring up the Version 7.0 front-end file system,  press  the  ENABLE
   and  SWITCH-REGISTER  buttons  simultaneously.   The  system  prints a

                                    A-19
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   series of messages.

        RSX-20F VB16-00 12:19 17-MAR-88

        [SY0:  redirected to DX0:]
        [DX0:  mounted]
        [DX1:  mounted]
        KLI -- VERSION VB16-00 RUNNING
        KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
        KLI>


   ____ ___  ____ __ ___ _____ ___ ______ ____   Step 58:  Type NO and press the RETURN key.

   To tell the front-end monitor that you want it to take default answers
   to  dialog  questions,  type NO.  The front end prints messages as the
   system is reloaded, and the bootstrap program gives the BOOT> prompt.

        KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?

            __ _____        KLI>NO <RET>
        KLI -- KL10 S/N:2102., MODEL B, 60 HERTZ
        KLI -- KL10 HARDWARE ENVIRONMENT:
                MOS MASTER OSCILLATOR
                EXTENDED ADDRESSING
                INTERNAL CHANNELS
                CACHE

        KLI -- MICROCODE VERSION 2.1[442] LOADED
        KLI -- ALL CACHES ENABLED

        LOGICAL MEMORY CONFIGURATION.
          ADDRESS  SIZE  INT TYPE CONTROLLER
         00000000  768K   4  MF20  10

        KLI -- CONFIGURATION FILE WRITTEN
        KLI -- BOOTSTRAP LOADED AND STARTED

        BOOT V11.O(315)
        BOOT>


   ____ ___  _____ ___ ______ ____   Step 59:  Press the RETURN key.

   To tell BOOT to restart the system, press the RETURN key.  The  system
   prints several messages before prompting for the date and time.

             _____        BOOT><RET>
        [BOOT:LOADING] [OK]

        [PS MOUNTED]

        [IPALOD: LOADING CI20 MICROCODE 1.1(733)] [OK]

                                    A-20
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


        System restarting, wait...
        ENTER CURRENT DATE AND TIME:

                                    NOTE

                                             ___           If the system structure name  is  not  PS:,  the  BOOT
           program asks for the name.

                                    CI20

           You will  receive  the  message  concerning  the  CI20
                      ____           microcode  only  if  you  are  installing  the TOPS-20
           software on a DECSYSTEM-20 with CI20.


   ____ ___  ____ ___ ____ ___ _____ ____ _____ ___ ______ ____   Step 60:  Type the date and time, then press the RETURN key.

   After the prompt, type the date and time in the format dd-mmm-yy hhmm.
   The time must be in 24-hour format.

                                     _________ ____ _____        ENTER CURRENT DATE AND TIME: 23-MAY-88 1750 <RET>

        YOU HAVE ENTERED MONDAY, 23-MAY-1987 5:50 PM,
         IS THIS CORRECT (Y,N)


   ____ ___  ____ _ __ _ ___ _____ ___ ______ ____   Step 61:  Type Y or N and press the RETURN key.

   If you have entered the correct date and  time,  type  Y.   Otherwise,
   type N.  If you type N, the system asks for the date and time again.

                              _ _____        IS THIS CORRECT (Y,N) Y <RET>
        WHY RELOAD?

                                    CI20

           If your system configuration does  not  include  CI20,
           ignore  the  following  message  when  you  start  the
           monitor:

           BUGCHK "NOLODF" AT dd-mmm-yy hh:mm
           COULD NOT FIND CI-20 MICROCODE LOAD PROGRAM

                                  Ethernet

           If your  system  configuration  does  not  include  an
           Ethernet,  ignore the following message when you start
           the monitor:

           BUGCHK "KNICFF" AT dd-mmm-yy hh:mm:ss
           PHYKNI - CANNOT RELOAD THE KLNI



                                    A-21
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 62:  Type NEW and press the RETURN key.

   When the system asks why you are reloading, type NEW.

                                    NOTE

           If you do not  respond  to  the  WHY  RELOAD  question
           within  60  seconds,  the  system  assumes  OTHER  and
           continues the startup procedure.


                    ___ _____        WHY RELOAD? NEW <RET>
        RUN CHECKD? 


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 63:  Type YES and press the RETURN key.

   When the system asks you to run CHECKD, type YES.

                                    NOTE

           If you do not  respond  to  the  RUN  CHECKD  question
           within 60 seconds, the system assumes NO and continues
           the startup procedure.


                    ___ _____        RUN CHECKD? YES <RET>
        [CHECKING FILE CONSISTENCY]
         Checking system structure.

        [WORKING ON STRUCTURE - PS:]

        %PS:<OPERATOR>PTYCON.LOG.1 IS A "NEW" FILE

        LOCAL COUNT OF FILE PAGES: 58009
        LOCAL COUNT OF OVERHEAD PAGES: 7873
        LOCAL COUNT OF USED PAGES: 65882

        SYSTEM COUNT BEFORE CHECKD: 65943
        SYSTEM COUNT AFTER CHECKD: 65943

        THERE ARE 59 LOST PAGES

         Check of system structure completed.
        ADDRESSES ARE IN FILE PS:<OPERATOR>PS-LOST-PAGES.BIN.1

        RUNNING DDMP

                                    CI20

           If you have CI20 and it  is  on,  you  may  receive  a
           series  of  messages  about  its activities - loading,


                                    A-22
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


           starting, and opening circuits.   These  messages  are
           for your information only.

   The CHECKD program examines the entire disk file system,  reports  any
   errors,  and  tries  to  correct the errors.  (Your system output will
                                                    ______  _____________   probably be different from the example.  See the CHECKD  Specification
   for additional information.)  When the system finishes running CHECKD,
   it then runs the DDMP program.  The DDMP program is a background  task
   that  moves pages from the disk swapping area to the disk file system.
   When DDMP finishes, the system runs SYSJOB.

        RUNNING DDMP


        SYSJOB 7(78) STARTED AT 23-MAY-88 17:54:12
        [KNILDR: LOADING MICROCODE VERSION 1(172) INTO ETHERNET CHANNEL
        0]

        *****
        23-MAY-88 17:54:12 - TGHA V4.2(31) IN OPERATION.
        *****
        RUN SYS:INFO
        RUN SYS:MAPPER
        RUN SYS:ORION
        RUN SYS:QUASAR
        RUN SYS:MOUNTR
        RUN SYS:MAILER
        RUN SYS:LPTSPL
        RUN SYS:LPTSPL
        RUN SYS:CDRIVE
        RUN SYS:SPRINT
        JOB O /LOG OPERATOR XX OPERATOR
        ENA
        ^ESET LOGIN PSEUDO
        ^ESET LOGIN CONSOLE
        ^ESET OPERATOR
        PTYCON
        GET SYSTEM:7-PTYCON.ATO
        /
        JOB 1 /LOG OPERATOR XX OPERATOR
        ENA
        GET SYS:BATCON
        /

        SJ  0: @LOG OPERATOR OPERATOR
        SJ  1: @LOG OPERATOR OPERATOR
        SJ  0:  JOB 1 ON TTY160 23-MAY-88 17:54:31, LAST LOGIN 
        23-MAY-87 16:54:56
        SJ  1:  JOB 2 ON TTY161 23-MAY-88 17:54:32, LAST LOGIN 
        23-MAY-87 17:54:31
        SJ  0: @ENA
        SJ  1: @ENA


                                    A-23
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


        SJ  1: $GET SYS:BATCON
        SJ  0: $^ESET LOGIN PSEUDO
        SJ  0: $^ESET LOGIN CONSOLE
        SJ  0: $^ESET OPERATOR
        SJ  0: $PTYCON
        SJ  0: PTYCON> GET SYSTEM:7-PTYCON.ATO
        SJ  0: PTYCON> SILENCE

        [From OPERATOR on node TOPS20 line 162 to all lines:   SYSTEM IN
        OPERATION]
        SJ  0:PTYCON W ALL
        SJ  0: OPR(0)    3        OPERATOR   OPR       TI       0:0:1
        SJ  0: PTYCON> CONN OPR
        SJ  0: [CONNECTED TO SUBJOB OPR(0)]


                                  Ethernet

           You will receive the message concerning  the  Ethernet
                      ____           microcode  only  if  you  are  installing  the TOPS-20
           software on a DECSYSTEM-20 with an Ethernet.


                                    NOTE

           SYSJOB no longer starts SETNOD and  MCBs.   These  are
                                          ________________ ______           started by DECnet-20.  See the DECnet-20/PSI-20 System
           _________ _____         _________  _______  __________           Manager's Guide and the DECnet-20  Network  Generation
           ___    ____________   __________           and    Installation   Procedures   manual   for   more
           information.


   ____ ___  _____   Step 64:  STOP.

   If you want to revert to Version 6.1, follow the steps in Section A.3.

   If you want to make Version 7.0 your primary monitor, follow the steps
   in Section A.4.

   If you want to make Version 7.0 your  permanent  monitor,  follow  the
   steps in Section A.5.

   If you have an RP20 disk subsystem, follow the steps in  Section  A.4.
   These  steps  make  Version  7.0  your  primary  monitor  and load the
   front-end files and DX20 microcode onto disk.



   A.3  REVERTING TO VERSION 6.1   A.3  REVERTING TO VERSION 6.1

   If you must revert to running the TOPS-20 Version 6.1 software, follow
   the steps in this section.  If you want the UETP files when you revert


                                    A-24
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   to Version 6.1, you must  restore  the  UETP  files  from  either  the
   Version  6.1  Installation  tape  or  the latest backup tape.  Perform
   Steps 1 through 7 to revert to TOPS-20 Version 6.1.


   ____ __  ___ __ ___ ______ _____ __ ________ ___________   Step 1:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow the example to log in and enable your capabilities.

         Installation-test System, TOPS-20 Monitor 7(20753)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 5 on TTY8 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $


   ____ __  ____ _______ ___________ ___ _____ ___ ______ ____   Step 2:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   You must be connected to the appropriate directory  to  perform  these
   procedures.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $

                                    NOTE

           Before  reverting  to   Version   6.1,   examine   the
           6-1-CONFIG.CMD file.  Be sure it contains a definition
           of the logical name SYSTEM:, and that this  definition
                 ___           does  not  include  the directory PS:<NEW-SYSTEM>.  If
           the  SYSTEM:   definition   includes   the   directory
           PS:<NEW-SYSTEM>  and  you  revert  to Version 6.1, the
           Version 6.1 monitor attempts to operate programs  that
           do  not function properly in a Version 6.1 system.  If
           the 6-1-CONFIG.CMD file does not contain a  definition
           of  logical name SYSTEM:, insert the following command
           into the file:

                DEFINE SYSTEM:  PS:<SYSTEM>
                DEFINE SYS: PS:<SUBSYS>


   ____ __  ____  ______  ________________  ____________  ___  _____  ___   Step 3:  Type  RENAME  6-1-MONITR.EXE.*  MONITR.EXE.*  and  press  the
            ______ ____            RETURN key.

   In  Section  A.2.4  you   renamed   the   Version   6.1   monitor   to
   PS:<SYSTEM>6-1-MONITR.EXE.   If  you are reverting to Version 6.1, you
   must put this  monitor  back  into  PS:<SYSTEM>MONITR.EXE.   Type  the
   RENAME  command  to  do  so.   When  the  rename has been successfully
   executed, the system prints an [OK] message.



                                    A-25
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


         ______ ________________ ____________ _____        $RENAME 6-1-MONITR.EXE.* MONITR.EXE.* <RET>
         6-1-MONITR.EXE.n => MONITR.EXE.n [OK]
        $


   ____ __  ____ _______ ______ ___ _____ ___ ______ ____   Step 4:  Type ^ECEASE +00:01 and press the RETURN key.

   To bring the system down in one minute, type  ^ECEASE  +00:01.   After
   the  system  prints  "[Confirm],"  press  the  RETURN key.  The system
   prints a list of messages.  The last message is "Shutdown complete."

         _______ ______ _____        $^ECEASE +00:01 <RET>
         TOPS20 Shut down scheduled for dd-mmm-yy hh:mm:ss
                 _____        [Confirm]<RET>

        [System TOPS20 going down in one minute!!]
        $
        [Timesharing is over]

                OPERATOR - WAIT FOR THE MESSAGE "Shutdown complete"
                BEFORE ENTERING COMMANDS TO PARSER

        Shutdown complete

                                    NOTE

           Do not proceed to  Step  5  until  the  system  prints
           "Shutdown complete."


   ____ __  ____ _________   Step 5:  Type <CTRL/\>.

   At the console terminal, type <CTRL/\>  to  return  to  the  front-end
   Command  Parser.   When  you  are at Command Parser command level, the
   system prints the prompt PAR>.

        ________        <CTRL/\>
        PAR>


   ____ __  ____ ________ ___ _____ ___ ______ ____   Step 6:  Type SHUTDOWN and press the RETURN key.

   To stop the TOPS-20 monitor, type SHUTDOWN.

            ________ _____        PAR>SHUTDOWN <RET>
        **HALTED**

        %DECSYSTEM-20 not running


   ____ __  ______ ___ _______ ___ _______ _____ ___ _______ ___ ________   Step 7:  Reload the Version 6.1 monitor using the Version 6.1 floppies
            __ ___ _______ ___ _____            or the Version 6.1 disk.


                                    A-26
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   To reload the Version 6.1 monitor  using  the  Version  6.1  floppies,
   mount  System  Floppy A in floppy drive 0, press the ENABLE and FLOPPY
   buttons simultaneously, and answer the usual start-up questions.

   To reload the Version 6.1 monitor using the Version  6.1  disk,  press
   the  ENABLE  and  DISK  buttons  simultaneously,  and answer the usual
   start-up questions.

                                    NOTE

           You can reload the Version 6.1 monitor from disk  only
           if  the Version 6.1 front-end software is still on the
           disk.



   A.4  MAKING THE VERSION 7.0 MONITOR THE PRIMARY MONITOR   A.4  MAKING THE VERSION 7.0 MONITOR THE PRIMARY MONITOR

   In case you are presently using the  Version  6.1  monitor,  you  must
   rename  it  (Step 4 below) before copying the Version 7.0 monitor into
   <SYSTEM>MONITR.EXE.  You then  shut  down  the  system  and  load  the
   front-end software onto disk.


   ____ __  ___ __ ___ ______ _____ __ ________ ___________   Step 1:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow the example to log in and enable your capabilities.

         Installation-test System, TOPS-20 Monitor 7(20758)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 5 on TTY8 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $


   ____ __  ____ _______ ___________ ___ _____ ___ ______ ____   Step 2:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   You must be connected to the appropriate directory  to  perform  these
   procedures.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $


   ____ __  _____   Step 3:  STOP.

   Proceed to Step 4 if you have reverted to a Version  6.1  system,  and
   your  present  monitor is a Version 6.1 monitor.  You must rename this
   monitor (Step 4) in case you ever need to revert to Version 6.1 again.

   Skip to Step 5 if your present monitor is a Version 7.0 monitor.   You


                                    A-27
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   do  not need to rename your present monitor (Step 4).  This action was
   already performed in Section A.2.4, Step 36.


   ____ __  ____  ______  ____________  ________________  ___  _____  ___   Step 4:  Type  RENAME  MONITR.EXE.*  6-1-MONITR.EXE.*  and  press  the
            ______ ____            RETURN key.

   To rename and save the Version 6.1 monitor, type the  RENAME  command.
   When  the  Version  6.1  monitor  is  successfully renamed, the system
   prints an [OK] message.

         ______ ____________ ________________ _____        $RENAME MONITR.EXE.* 6-1-MONITR.EXE.* <RET>
         MONITR.EXE.n => 6-1-MONITR.EXE.n [OK]
        $


   ____ __  ____ ____ ___________________________ _____________ ___ _____   Step 5:  Type COPY PS:<NEW-SYSTEM>montyp.EXE.* MONITR.EXE.-1 and press
            ___ ______ ____            the RETURN key.

   To copy the Version  7.0  monitor  into  PS:<SYSTEM>,  type  the  COPY
   command.  (Montyp designates the type of monitor you have selected for
   your system.)  When the copy is  successfully  completed,  the  system
   prints an [OK] message.

         ____ ___________________________ _____________ _____        $COPY PS:<NEW-SYSTEM>montyp.EXE.* MONITR.EXE.-1 <RET>
         <NEW-SYSTEM>montyp.EXE.n => MONITR.EXE.n [OK]
        $


   ____ __  ____ _______ ______ ___ _____ ___ ______ ____   Step 6:  Type ^ECEASE +00:01 and press the RETURN key.

   To shut down the system in one minute, type ^ECEASE +00:01.  After the
   system  prints  "[Confirm],"  press the RETURN key.  The system prints
   several messages.  The last message is "Shutdown complete."

         _______ ______ _____        $^ECEASE +00:01 <RET>
         TOPS20 Shut down scheduled for dd-mmm-yy hh:mm:ss
                 _____        [Confirm]<RET>

        [System going down in one minute!!]
        $
        [Timesharing is over]

                OPERATOR - WAIT FOR THE MESSAGE "Shutdown complete" 
                BEFORE ENTERING COMMANDS TO PARSER

        Shutdown complete

                                    NOTE

           Do not proceed to  Step  7  until  the  system  prints
           "Shutdown complete."


                                    A-28
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ __  ___ ___ _______ ___ _________ ________ __ _____   Step 7:  Put the Version 7.0 front-end software on disk.

   Start at Step 123, in Chapter 4 of this guide, to put the Version  7.0
   front-end software on disk.

                                    NOTE

           When the Version 7.0  front-end  software  is  put  on
           disk,  the  Version  6.1  front  end is destroyed.  In
           order to use the Version 6.1 front-end software again,
           you must reinstall it using the Version 6.1 floppies.



   A.5  MAKING THE VERSION 7.0 MONITOR THE PERMANENT MONITOR   A.5  MAKING THE VERSION 7.0 MONITOR THE PERMANENT MONITOR

   The  steps  in  this  section  should  be  performed  when  you   feel
   comfortable with the Version 7.0 software.


   ____ __  ___ __ ___ ______ _____ __ ________ ___________   Step 1:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow the example to log in and enable your capabilities.

         Installation-test System, TOPS-20 Monitor 7(20753)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 5 on TTY8 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $



   ____ __  ____ ____ ____________________  _________________  ___  _____   Step 2:  Type COPY PS:<NEW-SYSTEM>*.*.*  PS:<SYSTEM>*.*.-1  and  press
            ___ ______ ____            the RETURN key.

   To copy the directory <NEW-SYSTEM> to <SYSTEM>, type the COPY command.
   The system prints an [OK] message for each file copied.

         ____ ____________________ _________________ _____        $COPY PS:<NEW-SYSTEM>*.*.* PS:<SYSTEM>*.*.-1 <RET>
             .
             .
             .
        $


   ____ __  ____ ____ ____________________  _________________  ___  _____   Step 3:  Type COPY PS:<NEW-SUBSYS>*.*.*  PS:<SUBSYS>*.*.-1  and  press
            ___ ______ ____            the RETURN key.

   To copy the directory <NEW-SUBSYS> to <SUBSYS>, type the COPY command.
   The system prints an [OK] message for each file copied.



                                    A-29
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


         ____ ____________________ _________________ _____        $COPY PS:<NEW-SUBSYS>*.*.* PS:<SUBSYS>*.*.-1 <RET>
             .
             .
             .
        $


   ____ __  ____ _______ ___________ ___ _____ ___ ______ ____   Step 4:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   Connect to the directory PS:<SYSTEM> by typing the CONNECT command.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $

                                    NOTE

           Use an editor  program  to  change  the  configuration
           command  file.   You can use any editor of your choice
           as long as you  accomplish  the  goal  of  each  step.
           Steps  5  through  10  illustrate  the use of the EDIT
           editor program to  change  the  configuration  command
           file.


   ____ __  ____ ____ ____________ ___ _____ ___ ______ ____   Step 5:  Type EDIT 7-CONFIG.CMD and press the RETURN key.

   To edit the 7-CONFIG.CMD file, type the EDIT command.

         ____ ____________ _____        $EDIT 7-CONFIG.CMD <RET>
        Edit: PS:<SYSTEM>7-CONFIG.CMD
        *


   ____ __  ____ ____ ___ _____ ___ ______ ____   Step 6:  Type P^:* and press the RETURN key.

   To print the entire configuration command file, type P^:*.

         ____ _____        *P^:* <RET>
            .
            .
            .
        *




   ____ __  ____ _ ___________ ___ _____ ___ ______ ____   Step 7:  Type R line-number and press the RETURN key.

   The parameters

        DEFINE SYS:  PS:<NEW-SUBSYS>,PS:<SUBSYS>
        DEFINE SYSTEM:  PS:<NEW-SYSTEM>,PS:<SYSTEM>


                                    A-30
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   must be replaced by

        DEFINE SYS:  PS:<SUBSYS>
        DEFINE SYSTEM:  PS:<SYSTEM>

   To do this, use the EDIT command REPLACE, or R, followed by the number
   of the line you want to replace.

   For  example,  type  R  and  the  line  number   where   DEFINE   SYS:
   PS:<NEW-SUBSYS>,PS:<SUBSYS> is located; then press the RETURN key.  In
   response, the system prints the line  number  you  entered  in  the  R
   command  and  waits  for  you  to  type  the replacement line.  In the
   example, the parameter is located at line 500.

         _ ___ _____        *R 500 <RET>
        00500


   ____ __  ____ ______ _______ ___________ ___ _____ ___ ______ ____   Step 8:  Type DEFINE SYSTEM: PS:<SYSTEM> and press the RETURN key.

   To define SYSTEM: as PS:<SYSTEM>, type DEFINE SYSTEM:  PS:<SYSTEM> and
   press  the  RETURN  key.   Also,  use  the  EDIT command DELETE, or D,
   followed by the number of the line you want to delete, to  delete  any
   line giving another definition of SYSTEM:.

              ______ _______ ___________ _____        00500 DEFINE SYSTEM: PS:<SYSTEM> <RET>
        1 Lines (00500/1) deleted
        *


   ____ __  ______ _____ _ ___ _ ___ ___ _______ ___________   Step 9:  Repeat Steps 7 and 8 for the SYSTEM: definition.

   Repeat Steps 7 and 8 to replace

        DEFINE SYS:  PS:<NEW-SUBSYS>,PS:<SUBSYS>

   with the definition

        DEFINE SYS:  PS:<SUBSYS>


   ____ ___  ____ __ ___ _____ ___ ______ ____   Step 10:  Type EU and press the RETURN key.

   When you finish making the  necessary  changes  to  the  configuration
   command  file,  type  EU and press the RETURN key.  This ends the EDIT
   program and saves the file.  The system prints the file name  and  the
   TOPS-20 command prompt.

         __ _____        *EU <RET>

        [PS:<SYSTEM>7-CONFIG.CMD.n]
        $


                                    A-31
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


   ____ ___  ____ _______ ___ _____ ___ ______ ____   Step 11:  Type CONNECT and press the RETURN key.

   Connect back to your log-in directory by typing CONNECT.

         _______ _____        $CONNECT <RET>
        $


   ____ ___  ____ ______ ____________________ ___ _____ ___ ______ ____   Step 12:  Type DELETE PS:<NEW-SYSTEM>*.*.* and press the RETURN key.

   To delete the files in the directory PS:<NEW-SYSTEM>, type the  DELETE
   command.  The system prints an [OK] message for each file it deletes.

         ______ ____________________ _____        $DELETE PS:<NEW-SYSTEM>*.*.* <RET>
            .
            .
            .
        $


   ____ ___  ____ ______ ____________________ ___ _____ ___ ______ ____   Step 13:  Type DELETE PS:<NEW-SUBSYS>*.*.* and press the RETURN key.

   To delete the files in the directory PS:<NEW-SUBSYS>, type the  DELETE
   command.  The system prints an [OK] message for each file it deletes.

         ______ ____________________ _____        $DELETE PS:<NEW-SUBSYS>*.*.* <RET>
            .
            .
            .
        $


   ____ ___  ____ _______ ______ ___ _____ ___ ______ ____   Step 14:  Type ^ECEASE +00:01 and press the RETURN key.

   To shut down the system in one minute, type ^ECEASE +00:01.  After the
   system  prints "[Confirm]," press the RETURN key.  The system prints a
   list of messages.  The last message is "Shutdown complete."

         _______ ______ _____        $^ECEASE +00:01 <RET>
         TOPS20 Shut down scheduled for dd-mmm-yy hh:mm:ss
                 _____        [Confirm]<RET>

        [System TOPS20 going down in one minute!!]
        $
        [Timesharing is over]

                OPERATOR - WAIT FOR THE MESSAGE "Shutdown complete" 
                BEFORE ENTERING COMMANDS TO PARSER

        Shutdown complete




                                    A-32
                     UPDATING THE DECSYSTEM-20 SOFTWARE                     UPDATING THE DECSYSTEM-20 SOFTWARE


                                    NOTE

           Do not proceed to Step  15  until  the  system  prints
           "Shutdown complete."


   ____ ___  ____ _________   Step 15:  Type <CTRL/\>.

   At the console terminal, type <CTRL/\>  to  return  to  the  front-end
   Command  Parser.   When  you  are at Command Parser command level, the
   system prints the prompt PAR>.

        ________        <CTRL/\>
        PAR>


   ____ ___  ____ ________ ___ _____ ___ ______ ____   Step 16:  Type SHUTDOWN and press the RETURN key.

   To stop the TOPS-20 monitor, type SHUTDOWN.

            ________ _____        PAR>SHUTDOWN <RET>
        **HALTED**

        %DECSYSTEM-20 not running


   ____ ___  ____ _______ _ __ ____ ______   Step 17:  Read Chapter 5 of this guide.

   To run the Version 7.0 software from disk, follow the steps in Chapter
   5 of this guide.

                                   NOTES


           1.  If you ever need to revert  to  Version  6.1,  you
               must  reinstall  Version 6.1 using the Version 6.1
               floppies and tapes.

           2.  If you  are  installing  any  unbundled  software,
               perform  the  steps  specified  in the appropriate
               installation guide that accompanies each  optional
               software product.


   ____ ___  _____ ____________   Step 18:  Start timesharing.









                                    A-33












                                 APPENDIX B

               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20



   This  appendix  contains  the  console  terminal  output  for  a   new
   installation  of  the  TOPS-20  software on a DECSYSTEM-20 Model 2060.
   Step numbers are in the left column.  The  action  for  each  step  is
   __________   underlined.   No  error  recovery  procedures  are  included  in  this
   appendix.  If you need help, see the appropriate step  in  Chapters  2
   through 7.

   Step      Operation   Step      Operation

      1      Read the listing labeled TOPS20.BWR.

      2      Ask your DIGITAL Field Service Representative  if  the  disk
             packs are formatted.

      3      Power up the system.

      4      Label the disk packs.

      5      Mount the disk packs.

      6      Check the CONTROLLER SELECT switches on the disk drive.

      7      Mount System Floppy A in drive 0.

      8      Mount System Floppy B in drive 1.

      9      Mount the Installation tape on MTA0:.

     10      Place the front-end HALT switch in the ENABLE position.

     11      Set the switch register to 000007 (octal).

     12      Hold ENABLE and press the SWITCH REGISTER button.

             RSX-20F VB16-00 12:00 17-MAR-88

             [SY0: redirected to DX0:]
             [DX0: mounted]
             [DX1: mounted]
                                    B-1
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             KLI -- VERSION VB16-00 RUNNING
             KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                 ___ _____     13      KLI>YES <RET>
             KL1 -- KL10 S/N: 2102., MODEL B, 60 HERTZ
             KL1 -- KL10 HARDWARE ENVIRONMENT:
                     MOS MASTER OSCILLATOR
                     EXTENDED ADDRESSING
                     INTERNAL CHANNELS
                     CACHE

             KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
                 ___ ___ _____     14      KLI>YES KLX <RET>
             KLI -- MICROCODE VERSION 2.1[442] LOADED
             KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
                 ___ _____     16      KLI>ALL <RET>
             KLI -- ALL CACHES ENABLED
             KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?
                 ___ _____     17      KLI>ALL <RET>

             LOGICAL MEMORY CONFIGURATION
               ADDRESS  SIZE    INT    TYPE    CONTROLLER
              00000000   76K      4    MB20     10

             KLI -- LOAD KL BOOTSTRAP [FILE,YES,NO,FILENAME]?
                 ______ _____     18      KLI>MTBOOT <RET>
             KLI -- WRITE CONFIGURATION FILE [YES,NO]?
                 __ _____     19      KLI>NO <RET>
             KLI -- BOOTSTRAP LOADED AND STARTED

             BOOT V11.0(315)

                    __ _____     20      MTBOOT>/L <RET>
             [BOOT: LOADING] [OK]

                    _____ _____     21      MTBOOT>/G143 <RET>


             [FOR ADDITIONAL INFORMATION TYPE "?" TO ANY OF THE FOLLOWING
             QUESTIONS.]

     22      DO YOU WANT TO REPLACE THE FILE SYSTEM ON THE SYSTEM 
                        ___ _____             STRUCTURE? YES <RET> 

                                                         ___ _____     23      DO YOU WANT TO DEFINE THE SYSTEM STRUCTURE? YES <RET>

                                                   _ _____     24      HOW MANY PACKS ARE IN THIS STRUCTURE: 1 <RET>

     26      ON WHICH "CHANNEL,CONTROLLER,UNIT" IS LOGICAL PACK # 0
                      ______ _____             MOUNTED: 1,-1,0 <RET>

                                                     ___ _____     28      DO YOU WANT THE DEFAULT SWAPPING SPACE? YES <RET>

     31      DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM?
             ___ _____             YES <RET>
                                    B-2
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


                                                          ___ _____     33      DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA? YES <RET>

     34      DO YOU WANT TO ENABLE PASSWORD ENCRYPTION FOR THE SYSTEM 
                        ___ _____             STRUCTURE? YES <RET>

                                                 ___ _____     35      WHAT IS THE NAME OF THIS STRUCTURE? PS: <RET>

             [STRUCTURE "PS" SUCCESSFULLY DEFINED]

             [PS MOUNTED]
             %%NO SETSPD.

             System restarting, wait...
                                          _________ ____ _____     37      ENTER CURRENT DATE AND TIME: 17-MAR-88 1630 <RET>

             YOU HAVE ENTERED WEDNESDAY, 17-MARCH-1988 4:30PM,
                                    _ _____     38       IS THIS CORRECT (Y,N) Y <RET>

                         ___ _____     39      WHY RELOAD? NEW <RET>

             PROBLEM WITH <SYSTEM>ACCOUNTS-TABLE.BIN
             CANNOT FIND ERROR MESSAGE FILE - ACCOUNT VALIDATION IS
             DISABLED 

             RUNNING DDMP


             NO SYSJOB

              ________     40       <CTRL/C>
             NO EXEC
                _        _____ _____     41      MX>GET FILE MTA0: <RET>
                _        _____ _____     42      MX>GET FILE MTA0: <RET>
                S                      _____                                43      MX>START <RET>

              TOPS-20 Command processor 7.0(273)
              ______ _____     44      @ENABLE <RET>
              ___ _____ _____     45      $RUN MTA0: <RET>
                    ____ _____ _____     46      DLUSER>LOAD MTA0: <RET>

             DONE.
                    ____ _____     47      DLUSER>EXIT <RET>
              ___ _____ _____     48      $RUN MTA0: <RET>
                    ____ _____ _____     49      DUMPER>TAPE MTA0: <RET>
                    _______ ___________ ________________ _____     50      DUMPER>RESTORE PS:<*>*.*.* PS:<SYSTEM>*.*.* <RET>
             Saveset "SYSTEM Files for TOPS-20 V7.0" 17-Mar-88 1441
              Loading files into PS:<SYSTEM>
              End of Saveset.


              Total files restored:     26
              Total pages restored:     1765


                                    B-3
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


                    _______ ___________ ________________ _____     51      DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
             Saveset "SUBSYS Files for TOPS-20 V7.0" 17-Mar-88 1442
              Loading files into PS:<SUBSYS>
              End of Saveset.


              Total files restored:     177
              Total pages restored:     4534
                    _______ ___________ ________________ _____     52      DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
             Saveset "GALAXY SUBSYS Files for TOPS-20 V7.0" 17-Mar-88
             1443
              Loading files into PS:<SUBSYS>
              End of Saveset. 


              Total files restored:     24
              Total pages restored:     585
                    _______ ___________ __________________ _____     53      DUMPER>RESTORE PS:<*>*.*.* PS:<UETP.LIB>*.*.* <RET>
             Saveset "UETP Files for TOPS-20 V7.0" 17-Mar-88 1444
              Loading files into PS:<UETP.LIB>
              End of Tape.


              Total files restored:     55
              Total pages restored:     482
                    ____ _____     54      DUMPER>EXIT <RET>
              ______ _____ _____     55      $UNLOAD MTA0: <RET>


              ___________ __________ ______ _____     56      $INFORMATION DISK-USAGE PS:<*> <RET>

             PS:<ROOT-DIRECTORY>
             -881 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<ACCOUNTS>
             17 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<NEW-SUBSYS>
             0 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<NEW-SYSTEM>
             0 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<OPERATOR>
             0 Pages assigned
             250 Working pages, 250 Permanent pages allowed

             PS:<SPOOL>


                                    B-4
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             0 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<SUBSYS>
             5119 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<SYSTEM>
             1765 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<SYSTEM-ERROR>
             1 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<UETP>
             6 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<UETP.LIB>
             482 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             PS:<UETP.RUN>
             0 Pages assigned
             +INF Working pages, +INF Permanent pages allowed

             Total of 6509 Pages assigned, in 12 directories.
             52134 Pages free on PS:, 23866 pages used.
              ___ _____________________ _____     57      $RUN PS:<SUBSYS>MAKDMP.EXE <RET>
                    ______ _____________________ ____ _____     58      MAKDMP>CREATE PS:<SYSTEM>DUMP.EXE.1 2048 <RET>
             [Dump file: <SYSTEM>DUMP.EXE.1 created]
                    ____ _____     59      MAKDMP>EXIT <RET>
              _______ ___________ _____     60      $CONNECT PS:<SYSTEM> <RET>

              ____ ____________ ____________ _____     61      $COPY montyp.EXE.* MONITR.EXE.* <RET>
              montyp.EXE.n => MONITR.EXE.n [OK]
              ________ __ _____ _____     62      $TERMINAL NO RAISE <RET>
              ____ ____ __________ _____     63      $COPY TTY: MONNAM.TXT <RET>
              TTY: = MONNAM.TXT.1

             _________________ ______  __             Installation-test System  ^Z

              ____ ____ __________ _____     64      $COPY TTY: TAPNAM.TXT <RET>
              TTY: = TAPNAM.TXT.1

             __________  __             Instal-tst  ^Z
             $

                                    NOTE

           Steps 65 through  99  illustrate  how  to  create  the
           configuration   command  file  with  the  EDIT  editor

                                    B-5
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


           program.  You can use any editor of  your  choice,  as
           long as you accomplish the goal of each step.

           As you create the configuration command file, use  the
           definitions  and  values that are appropriate for your
           system.  The file shown is only an example.

              ______ ____________ _____     65      $CREATE 7-CONFIG.CMD <RET>
             Input: PS:<SYSTEM>7-CONFIG.CMD.1
                   _ ________ ______ _____     66      00100 ! Terminal Speeds <RET>
                   _ ____ _ ___ __________ ___ ___________ _____             00200 ! Line 1 has input=9600 and output=9600 <RET>
                   ________ _ _____ ____ _____             00300 TERMINAL 1 SPEED 9600 <RET>
                   _ _____ _ __ __ ____ _____ ___ ___________ _____             00400 ! Lines 2 to 20 have input and output=2400 <RET>
                   ________ ____ _____ ____ _____             00500 TERMINAL 2-20 SPEED 2400 <RET>
                   _ _____ __ __ __ ___ ____ ___ _____             00600 ! Lines 23 to 40 are shut off <RET>
                   ________ _____ _____ _ _____             00700 TERMINAL 23-40 SPEED 0 <RET>
                   _ _____ __ ___ __ ___ ______ _____ _____     67      00800 ! Lines 21 and 22 are dialup lines <RET>
                   ________ __ ______ _____ ____ _____             00900 TERMINAL 21 REMOTE SPEED 9600 <RET>
                   ________ __ ______ ____ _____             01000 TERMINAL 22 REMOTE AUTO <RET>
                   ________ __ ______________________ _____|            01100 TERMINAL 21 IGNORE-SYSTEM-MESSAGES <RET>
                   ________ __ ____________________ _____|            01200 TERMINAL 21 IGNORE-USER-MESSAGES <RET>
                   ________ __ ___________|            01300 TERMINAL 22 NOBELL<RET>
                   ______ ____ _____________ _____     68      01100 DEFINE NEW: PS:<NEW>,SYS: <RET>
                   ______ ____ _____________ _____             01400 DEFINE OLD: PS:<OLD>,SYS: <RET>
                   ______ ____ ____ _____             01500 DEFINE HLP: SYS: <RET>
                   ______ _____ _________________ _____             01600 DEFINE SERR: PS:<SYSTEM-ERROR> <RET>
                   ______ ____ ______________ _____             01700 DEFINE DMP: PS:<directory> <RET>
                   ______ ______ ___ _____             01800 DEFINE POBOX: PS: <RET>
                   ______ _______ __________ _____     69      02000 DEFINE EDITOR: SYS:TV.EXE <RET>
                   _______ _ __     ____ _____     70      02100 MAGTAPE 0 24     TU45 <RET>
                   _______ _ ____   ____ _____             02200 MAGTAPE 1 2001   TU77 <RET>
                   _______ _ ____   ____ _____             02300 MAGTAPE 2 2002   TU71 <RET>
                   _______ _ ____   ____ _____             02400 MAGTAPE 3 2003   TU70 <RET>
                   _______ _ ____   ____ _____             02500 MAGTAPE 4 1500   TU72 <RET>
                   _______ _ _________ ___ ______________ _____     71      02600 PRINTER 0 LOWERCASE VFU SYS:NORMAL.VFU <RET>
                   _______ _ ___ ______________ _____             02700 PRINTER 1 VFU SYS:NORMAL.VFU <RET>
                   _______ _ _________ ___ ____________ _____     72      02800 PRINTER 0 LOWERCASE RAM SYS:LP96.RAM <RET>
                   _______ _ ___ ____________ _____             02900 PRINTER 1 RAM SYS:LP64.RAM <RET>
                   ________ _ _____     73      03000 TIMEZONE 5 <RET>
                   _______ ___________________________ _____     74      03100 DISABLE DIRECTORY-PARAMETER-SETTING <RET>
                   _______ __________________ _____     75      03200 DISABLE ACCOUNT-VALIDATION <RET>

                             CAUTION - STEP 76

           Before you can use this performance feature, you  must
           obtain  from your DIGITAL Field Service Representative
           the following information about your hardware:

           1.  If you have a KL10-E  processor,  it  must  be  at
               revision level 3 or later.




                                    B-6
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


           2.  If you have board M7772, it  must  be  at  version
               level  E  and CS revision level F; or you may have
               board M7786.

           If your hardware does  not  meet  these  requirements,
           take       the      system      default:       DISABLE
           FULL-LATENCY-OPTIMIZATION.

                   ______ _________________________ _____     76      03300 ENABLE FULL-LATENCY-OPTIMIZATION <RET>
                   ______ ______________________ _____     77      03400 ENABLE WORKING-SET-PRELOADING <RET>
                   ____ _ _____     78      03500 BIAS 6 <RET>
                   ______ _ ___ _____     79      03600 CREATE 1 .20 <RET>
                   ______ _ ___ _____             03700 CREATE 2 .40 <RET>
                   ______ _ ___ _____             03800 CREATE 3 .15 <RET>
                   ___________ _ _____     80      03900 BATCH-CLASS 4 <RET>
                   ______ _ ___ _____             04000 CREATE 4 .25 <RET>

                             CAUTION - STEP 81

           Do  not  enter  the  command  in  Step  81  into   the
           configuration  command file until you have entered the
           commands in Steps 79 and  80.   If  you  enable  class
           scheduling  before  creating classes, class scheduling
           will not function properly.

                   ______ ________________ ________ _________ _____     81      04100 ENABLE CLASS-SCHEDULING ACCOUNTS ALLOCATED <RET>
                   ___________________________ ____ _____     82      04200 ARCHIVE-TAPE-RECYCLE-PERIOD 1825 <RET>
                   ___________________ __ _____     83      04300 TAPE-RECYCLE-PERIOD 90 <RET>
                   ______ _____________________ _____     84      04400 ENABLE TAPE-DRIVE-ALLOCATION <RET>
                   _______________________ ______ _____     85      04500 TAPE-RECOGNITION-ERRORS UNLOAD <RET>
                   ______  ____ ________ _____     86      04600 CHANGE  9:00 WEEKDAYS <RET>
                   ______ _____ ________ _____             04700 CHANGE 17:00 WEEKDAYS <RET>
                   ______  ____ ________ _____             04800 CHANGE  0:00 SATURDAY <RET>
                   _____   ____   ____ _____     87      04900 ALLOW   RP06   1243 <RET>
                   _____   ____   ____ _____             05000 ALLOW   RP20   3327 <RET>
                   ________ __ _____     88      05100 DAYLIGHT ON <RET>
                   ______   ___________________ _____     89      05200 ENABLE   HANGUP-IF-LOGGED-IN <RET>
                   ______   ____________________ _____             05300 ENABLE   HANGUP-IF-LOGGED-OUT <RET>
                   ______ ______________________ _____     90      05400 ENABLE SYSTEM-MESSAGE-LEVEL-0 <RET>
                   ______ ______________________ _____             05500 ENABLE SYSTEM-MESSAGE-LEVEL-1 <RET>
                   ____ ______ _____ _____     91      05600 NODE DISNEY 8.164 <RET>
                   _________ ___ _____     92      05700 LAT-STATE OFF <RET>
                   ______ _________________ ____ _____     93      05800 ENABLE OFFLINE-STRUCTURE 0:05 <RET>
                   ______ _______________ _____     94      05900 ENABLE LOGIN-STRUCTURE <RET>
                   _______ _________________ _____|    94.1    06000 DISABLE FAST-LOGIN-OPTION <RET>
                   _______ ___________________ _____     95      06100 DISABLE CLUSTER-INFORMATION <RET>
                   _______ ________________ _____     96      06200 DISABLE CLUSTER-SENDALLS <RET>
                   ______ _______________________ _ _____     97      06300 ENABLE MINIMUM-PASSWORD-LENGTH 6 <RET>
                   ______ ___________________ __ _____|    97.1    06400 ENABLE PASSWORD-EXPIRATION 45 <RET>
                   ______ ___________________ _____|    97.2    06500 ENABLE PASSWORD-DICTIONARY <RET>
                   ______ ______________ ________ _____     98      06600 ENABLE DUMP-ON-BUGCHK FACILITY <RET>
                   ______ ______________ ___________ _____             06700 ENABLE DUMP-ON-BUGCHK ALL-BUGCHKS <RET>


                                    B-7
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


                   ______ ______________ ______ ___________________ _____|            06800 ENABLE DUMP-ON-BUGCHK TTYSTP IGNORE-DUMP-TIMEOUT <RET>
                   ______ ________________ _____|            06900 ENABLE SHORT-BUG-OUTPUT <RET>
                   _______ _______________ _____|    98.1    07000 DISABLE JOB0-CTY-OUTPUT <RET>
                   ______ _________________________ _____|    98.2    07100 ENABLE SYSTEM-ACCESS-CONTROL-JOB <RET>
                   ______ ________________ _____|    98.3    07200 ENABLE HANGUP-ON-DETACH <RET>
                   ______ __________________ _ _____|            07300 ENABLE DETACH-CARRIER-OFF 3 <RET>
                   ________________ _____|    98.4    07400 BATCH-BACKGROUND <RET>
                   _     99      07500 $
              __ _____             *EU <RET>

             [PS:<SYSTEM>7-CONFIG.CMD.1]

              ____ ____________________ _____     100     $TYPE <SYSTEM>7-CONFIG.CMD <RET>
             ! Terminal Speeds
             ! Line 1 has input=9600 and output=9600
             TERMINAL 1 SPEED 9600 
             ! Lines 2 to 20 have input and output=2400
             TERMINAL 2-20 SPEED 2400
             ! Lines 23 to 40 are shut off
             TERMINAL 23-40 SPEED 0
             ! Line 21 and 22 are dialup lines
             TERMINAL 21 REMOTE SPEED 300
             TERMINAL 22 REMOTE AUTO
|            TERMINAL 21 IGNORE-SYSTEM-MESSAGES
|            TERMINAL 21 IGNORE-USER-MESSAGES
|            TERMINAL 22 NOBELL
             DEFINE NEW: PS:<NEW>,SYS:
             DEFINE OLD: PS:<OLD>,SYS:
             DEFINE HLP: SYS:
             DEFINE SERR: PS:<SYSTEM-ERROR>
             DEFINE DMP: PS:<directory>
             DEFINE POBOX: PS:
             DEFINE EDITOR: SYS:TV.EXE
             MAGTAPE 0 24 TU45
             MAGTAPE 1 2001 TU77
             MAGTAPE 2 2002 TU71
             MAGTAPE 3 2003 TU70
             MAGTAPE 4 1500 TU72
             PRINTER 0 LOWERCASE VFU SYS:NORMAL.VFU
             PRINTER 1 VFU SYS:NORMAL.VFU
             PRINTER 0 LOWERCASE RAM SYS:LP96.RAM
             PRINTER 1 RAM SYS:LP64.RAM
             TIMEZONE 5
             DISABLE DIRECTORY-PARAMETER-SETTING
             DISABLE ACCOUNT-VALIDATION
             ENABLE FULL-LATENCY-OPTIMIZATION
             ENABLE WORKING-SET-PRELOADING
             BIAS 6
             CREATE 1 .20
             CREATE 2 .40
             CREATE 3 .15
             BATCH-CLASS 4


                                    B-8
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             CREATE 4 .25
             ENABLE CLASS-SCHEDULING ACCOUNTS ALLOCATED
             ARCHIVE-TAPE-RECYCLE-PERIOD 1825
             TAPE-RECYCLE-PERIOD 90
             ENABLE TAPE-DRIVE-ALLOCATION
             TAPE-RECOGNITION-ERRORS UNLOAD
             CHANGE 9:00 WEEKDAYS
             CHANGE 17:00 WEEKDAYS
             CHANGE 0:00 SATURDAY
             ALLOW RP06 1243
             ALLOW RP20 3327
             DAYLIGHT ON
             ENABLE HANGUP-IF-LOGGED-IN
             ENABLE HANGUP-IF-LOGGED-OUT
             ENABLE SYSTEM-MESSAGE-LEVEL-0
             ENABLE SYSTEM-MESSAGE-LEVEL-1
             NODE DISNEY 8.164
             LAT-STATE OFF
             ENABLE OFFLINE-STRUCTURE 0:05
             ENABLE LOGIN-STRUCTURE
             DISABLE CLUSTER INFORMATION
             DISABLE CLUSTER-SENDALLS
|            DISABLE FAST-LOGIN-OPTION
             ENABLE MINIMUM-PASSWORD-LENGTH 6
|            ENABLE PASSWORD-EXPIRATION 45
|            ENABLE PASSWORD-DICTIONARY
             ENABLE DUMP-ON-BUGCHK FACILITY
             ENABLE DUMP-ON-BUGCHK ALL-BUGCHKS
|            ENABLE DUMP-ON-BUGCHK BUG TTYSTP IGNORE-DUMP-TIMEOUT
|            ENABLE SHORT-BUG-OUTPUT
|            DISABLE JOB0-CTY-OUTPUT
|            ENABLE SYSTEM-ACCESS-CONTROL-JOB
|            ENABLE HANGUP-ON-DETACH
|            ENABLE DETACH-CARRIER-OFF 3
|            BATCH-BACKGROUND
             $
             _____ _____________ _____    101     $BUILD PS:<OPERATOR> <RET>
            [Old]
              ________ _____________ _____    102     $$PASSWORD your-password <RET>
              _____________ ___ _____    103     $$USER-OF-GROUP 100 <RET>
              ____ _____    104     $$IPCF <RET>
              _____    105     $$<RET>


             _____ ____________ _____    106     $BUILD PS:<REMARKS> <RET>
             [New]
               _____    107      $$<RET>
              _______ ___________ _____    108      $CONNECT PS:<SUBSYS> <RET>
              ______ __________ _____    109      $CREATE LPFORM.INI <RET>
             Input: PS:<SUBSYS>LPFORM.INI.1
                   __________________________________ _____    110      00100 NORMAL/BANNER:2/HEADER:2/TRAILER:2 <RET>
                   ___________________________________________ _____             00200 NARROW/BANNER:2/HEADER:2/TRAILER:2/WIDTH:72 <RET>


                                    B-9
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


                   _    111      00300 $
              __ _____             *EU <RET>

             [PS:<SUBSYS>LPFORM.INI.1]
             $

                                    NOTE

                                         ____           Perform Steps 112 through 121 only if you are using an
           RP07  disk pack for your system structure.  Otherwise,
           continue at Step 122.


                            TCP/IP Installations

           If you are installing TCP/IP-20 and are using an  RP07
           disk  pack  as the system structure, perform Steps 112
           through  121.   Otherwise,  proceed  to  Appendix   C,
           Section C.3, Step 2.

              ___ ______ _____    112      $RUN CHECKD <RET>
                    ______ _____ _____    113      CHECKD>CREATE FESYS <RET>
                          _____ _____    114      Enter alias: FESYS <RET>
                                               _ _____    115      How many units in this structure: 1 <RET>
    116      DECIMAL Channel, Controller, and Unit numbers for logical
                     ______ _____             unit 0: 1,-1,0 <RET>
                                                       ____ _____    117      Number of pages to allocate for swapping? 7035 <RET>
    118      Number of pages to allocate for the Front End File System?
             ___ _____             950 <RET>
                         ________ _____    119      Owner name? OPERATOR <RET>
                                                     __ _____    120      Is this a system structure for startup? NO <RET>
                    ____ _____    121      CHECKD>EXIT <RET>
             $

                            TCP/IP Installations

           If you are installing TCP/IP-20, proceed  to  Appendix
                                      __ ___           C,  Section  C.3, Step 2.  Do not create the front-end
           file system until you complete Steps 1 through  23  in
           Appendix C.

              _______ ___ _____    122      $^ECEASE NOW <RET>
              KL2102 Will be shut down IMMEDIATELY
                       _____             [Confirm] <RET>

             [Timesharing is over]

                     OPERATOR - WAIT FOR THE MESSAGE "Shutdown complete"
                     BEFORE ENTERING COMMANDS TO PARSER

             Shutdown complete

    123      Make sure that the correct floppy disks are mounted.

                                    B-10
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             ________    124      <CTRL/\>
                 ________ _____    125      PAR>SHUTDOWN <RET>
             **HALTED**

             %DECSYSTEM-20 not running

    126      Set the switch register to 000003 (octal).

    127      Hold ENABLE and press the SWITCH REGISTER button.

             RSX-20F VB16-00 12:00 17-MAR-88

             [SY0: redirected to DX0:]
             [DX0: mounted]
             [DX1: mounted]

             ________    128      <CTRL/\>
                 ___ ___ _____    130      PAR%RUN INI <RET>

                 ____ _____    131      INI>DB0: <RET>
             ________    132      <CTRL/\>
                 ___ ___ _____    133      PAR%RUN MOU <RET>
                 ____ _____    134      MOU>DB0: <RET>
             MOU -- MOUNT COMPLETE
                 __    135      MOU>^Z

             ________             <CTRL/\>
                 ___ ___ _____    136      PAR%RUN UFD <RET>

                 _________ _____    137      UFD>DB0:[5,5] <RET> !Wait 10 seconds before proceeding
             ________    138      <CTRL/\>
                 ___ ___ _____    139      PAR%RUN PIP <RET>

                 _____________________________ _____    140      PIP>DB0:*.*;*=DX0:*.*;*,DX1:*.*;* <RET>
                 __    141      PIP>^Z

             ________             <CTRL/\>
                 ___ ___ _____    142      PAR%RUN RED <RET>
                 _________ _____    143      RED>DB0:=SY0: <RET> !Wait 5 seconds before proceeding
             ________    144      <CTRL/\>
                 ___ ___ _____    145      PAR%RUN SAV <RET>
             SAV>

    146      Set the switch register to zero (0).

                _______ _____    147     SAV>SY0:/WB <RET>
             [DB0: dismounted]
             [DX0: dismounted]
             [DX1: dismounted]

             RSX-20F VB16-00 12:19 17-MAR-88

             [SY0: redirected to DB0:]

                                    B-11
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             [DB0: mounted]

    148      Store the floppy disks A and B.

    149      Mount System Floppy C on drive 0.

             ________    150      <CTRL/\>
                 ___ ___ _____    151      PAR%RUN MOU <RET>
                 ____ _____    152      MOU>DX0: <RET>
             MOU -- MOUNT COMPLETE
                 __    153      MOU>^Z

             ________             <CTRL/\>
                 ___ ___ _____    154      PAR%RUN PIP <RET>

                 ___________________ _____    155      PIP>DB0:*.*;*=DX0:*.*;* <RET>
                 _______ _____    156      PIP>DB0:/LI <RET>


             DIRECTORY DB0:[5,5]
             17-MAR-88 12:17


             F11ACP.TSK;1600     77.      C  17-MAR-88 12:00
             PARSER.TSK;1600     71.      C  17-MAR-88 12:01
             KLI.TSK;1600        73.      C  17-MAR-88 12:01
             MOU.TSK;1600        5.       C  17-MAR-88 12:01
             BF16N1.A11;1        1.          17-MAR-88 12:01
             BF64N1.A11;1        1.          17-MAR-88 12:02
             CLOCK.CMD;1600      2.          17-MAR-88 12:02
             CRAM.CMD;1600       1.          17-MAR-88 12:02
             DEX.CMD;1600        5.          17-MAR-88 12:02
             DRAM.CMD;1600       1.          17-MAR-88 12:02
             EBUS.CMD;1600       1.          17-MAR-88 12:02
             FMPAR.CMD;1600      1.          17-MAR-88 12:02
             HALT.CMD;1600       1.          17-MAR-88 12:03
             KPALV.CMD;1600      1.          17-MAR-88 12:03
             KPALV7.CMD;1600     1.          17-MAR-88 12:03
             TIMEO.CMD;1600      1.          17-MAR-88 12:03
             KLX.MCB;442         55.         17-MAR-88 12:03
             MTBOOT.EXB;11315    40.         17-MAR-88 12:03
             SB0.CMD;1           2.          17-MAR-88 12:04
             SB1.CMD;1           2.          17-MAR-88 12:04
             LHALT.CMD;1600      6.          17-MAR-88 12:04
             T20ACP.TSK;1600     8.       C  17-MAR-88 12:04
             BOO.TSK;1600        19.      C  17-MAR-88 12:04
             COP.TSK;1600        8.       C  17-MAR-88 12:04
             DMO.TSK;1600        5.       C  17-MAR-88 12:05
             INI.TSK;1600        23.      C  17-MAR-88 12:05
             PIP.TSK;1600        56.      C  17-MAR-88 12:05
             RED.TSK;1600        6.       C  17-MAR-88 12:05
             SAV.TSK;1600        23.      C  17-MAR-88 12:05
             UFD.TSK;1600        9.       C  17-MAR-88 12:05

                                    B-12
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             MIDNIT.TSK;1600     4.       C  17-MAR-88 12:06
             LOGXFR.TSK;1600     10.      C  17-MAR-88 12:06
             KLDISC.TSK;1600     5.       C  17-MAR-88 12:06
             KLRING.TSK;1600     6.       C  17-MAR-88 12:06
             SETSPD.TSK;1600     5.       C  17-MAR-88 12:06
             TKTN.TSK;1600       6.       C  17-MAR-88 12:06
             BOOT.EXB;11315      46.      C  17-MAR-88 12:07
             RSX20F.SYS;1600     60.      C  17-MAR-88 12:11
             RSX20F.MAP;1600     155.        17-MAR-88 12:11
             ZAP.TSK;1600        38.      C  17-MAR-88 12:12
             RP2DBT.EXB;11315    70.         17-MAR-88 12:12
             RP2MBT.EXB;11315    64.         17-MAR-88 12:13

                     TOTAL OF 975. BLOCKS IN 42. FILES


                 __    157      PIP>^Z

             ________             <CTRL/\>
                 ___ ___ _____    158      PAR%RUN DMO <RET>
                 ____ _____    159      DMO>DX0: <RET>
             DMO -- DISMOUNT COMPLETE

                 __    160      DMO>^Z

             ________             <CTRL/\>
             PAR%

    161      Store floppy C.

                                 RP20 Disks

           If you have an RP20 disk subsystem, perform Steps  162
           through 166.  Otherwise, continue at Step 167.


                            RP20 Disk Controller

           It is necessary that the  8000-2  controller  for  the
                                                             ____           RP20  disk  subsystem  be  in  370 mode.  See the 8000
           __________ ___________  _________  ______           Controller Maintenance  Reference  Manual,  Volume  2,
           page U210, for information on switch settings.

    162      Be sure that the central processor is stopped.

                 ___ ___ _____    163      PAR%RUN PIP <RET>

                 _____________________________________ _____    164      PIP>DB0:[5,5]BOOT.EXB=DB0:[5,5]RP2DBT.EXB <RET>
                 _______________________________________ _____    165      PIP>DB0:[5,5]MTBOOT.EXB=DB0:[5,5]RP2MBT.EXB <RET>
                 __    166      PIP>^Z

             ________             <CTRL/\>
             PAR%

                                    B-13
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


    167      Be sure that the central processor is stopped.

    168      Hold ENABLE and press the DISK button.

             RSX-20F VB16-00 12:19 17-MAR-88

             [SY0: redirected to DB0:]
             [DB0: mounted]
             KLI -- VERSION VB16-00 RUNNING
             KLI -- KL10 S/N: 2102., MODEL B, 60 HERTZ
             KLI -- KL10 HARDWARE ENVIRONMENT:
                     MOS MASTER OSCILLATOR
                     EXTENDED ADDRESSING
                     INTERNAL CHANNELS
                     CACHE

             KLI -- MICROCODE VERSION 2.1[442] LOADED
             KLI -- % NO FILE - ALL CACHE BEING CONFIGURED
             KLI -- ALL CACHES ENABLED
             KLI -- % NO FILE - ALL MEMORY BEING CONFIGURED

             LOGICAL MEMORY CONFIGURATION.
               ADDRESS  SIZE  INT  TYPE CONTROLLER
              00000000  768K    4  MF20  10

             KLI -- % NO FILE - LOADING BOOTSTRAP
             KLI -- CONFIGURATION FILE WRITTEN
             KLI -- BOOTSTRAP LOADED AND STARTED


             BOOT V11.0(315)
             [BOOT: LOADING] [OK]


             [PS MOUNTED]

             [IPALOD: LOADING CI20 MICROCODE 1.1(733)] [OK]

             System restarting, wait...
                                          _________ ____ _____    169      ENTER CURRENT DATE AND TIME: 17-MAR-88 1112 <RET>

             YOU HAVE ENTERED WEDNESDAY, 17-MAR-88 11:12AM,
                                    _ _____    170       IS THIS CORRECT (Y,N) Y <RET>
                         __ _____    171      WHY RELOAD? SC <RET>

                                         NOTE

                 If you do not respond to  the  WHY  RELOAD  question
                 within  60  seconds,  the  system  assumes OTHER and
                 continues the startup procedure.

             PROBLEM WITH <SYSTEM>ACCOUNTS-TABLE.BIN


                                    B-14
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             CANNOT GET A JFN FOR <SYSTEM> ACCOUNTS TABLE.BIN - ACCOUNT
             VALIDATION 
             IS DISABLED

                         _ _____    172      RUN CHECKD? N <RET>]

                                         NOTE

                 If you do not respond to  the  RUN  CHECKD  question
                 within   60  seconds,  the  system  assumes  NO  and
                 continues the startup procedure.

             RUNNING DDMP


             SYSJOB 7(78) STARTED AT 17-MAR-88 1112
             [KNILDR: LOADING MICROCODE VERSION 1(171) INTO ETHERNET
             CHANNEL 0]

             *****
             17-MAR-88 11:12:39 - TGHA 4.2(31) IN OPERATION.
             *****
             RUN SYS:INFO
             RUN SYS:MAPPER
             RUN SYS:ORION
             RUN SYS:QUASAR
             RUN SYS:MOUNTR
             RUN SYS:MAILER
             RUN SYS:LPTSPL
             RUN SYS:LPTSPL
             RUN SYS:CDRIVE
             RUN SYS:SPRINT
             JOB 0 /LOG OPERATOR XX OPERATOR
             ENA
             ^ESET LOGIN PSEUDO
             ^ESET LOGIN CONSOLE
             ^ESET OPERATOR
             PTYCON
             GET SYSTEM:7-PTYCON.ATO
             /

             JOB 1 /LOG OPERATOR XX OPERATOR
             ENA
             GET SYS:BATCON
             /
             SJ  0: @LOG OPERATOR OPERATOR
             SJ  1: @LOG OPERATOR OPERATOR

             SJ  0:  Job 1 on TTY206 dd-mmm-yy hh:mm:ss, Last Login never
             SJ  1:  Job 1 on TTY206 dd-mmm-yy hh:mm:ss, Last Login never
             SJ  0: @ENA
             SJ  1: @ENA


                                    B-15
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


             SJ  1: $GET SYS:BATCON
             SJ  0: $^ESET LOGIN PSEUDO
             SJ  0: $^ESET LOGIN CONSOLE
             SJ  0: $^ESET OPERATOR
             SJ  0: $PTYCON
             SJ  0: PTYCON> GET SYSTEM:7-PTYCON.ATO
             SJ  0: PTYCON> SILENCE

             [From OPERATOR on node TOPS20 line 210 to all lines
             :   SYSTEM IN OPERATION]
             SJ  0: PTYCON> W ALL
             SJ  0: OPR(0)    3        OPERATOR   OPR      TI     0:0:1
             SJ  0: PTYCON> CONN OPR
             SJ  0: [CONNECTED TO SUBJOB OPR(0)]
    173      <CTRL/C>
              Installation-test System, TOPS-20 Monitor 7.0(6763)
              _____ ________ _____________ _____    174      @LOGIN OPERATOR your-password <RET>
              Job 4 on TTY5 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy
             hh:mm:ss
              ______ _____             @ENABLE <RET>
              ___ _____    175      $OPR <RET>
                 ____ ______ __________ ____ _____    176      OPR>SHOW STATUS TAPE-DRIVE /ALL <RET>
             OPR>
             15:58:35        --Tape Drive Status--

             Drive   State   Volid   Req#   Job#   User
             -----   -----   ------  ----    ----    ----
             MTA0:   Unloaded
                     AVR: Yes
             MTA1:   In Use  DEK     31      45      LARRUP
                     AVR: Yes, Write: Yes, Unlabeled
             MTA2:   Loaded
                     AVR: Yes, Write: Yes, Unlabeled
             MTA3:   Unloaded
                     AVR: Yes
                 ___ __________ _____ ___________ _____    177      OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE <RET>
             Enter text and terminate with ^Z
             __________ ________ ________ __    178      INSTALLING OPTIONAL SOFTWARE ^Z
             OPR>
             15:59:07        -- Tape Drive Set Unavailable --
                           MTA0: set unavailable for assignment by MOUNTR
             SJ  0:
             SJ  0: 15:59:07    -- Tape Drive Set Unavailable --
             SJ  0:        MTA0: set unavailable for assignment by MOUNTR
                 ____ _____    179      OPR>EXIT <RET>
              ______ _____ _____    180      $ASSIGN MTA0: <RET>
              ______ _____    181      $DUMPER <RET>
                    ____ _____ _____    182      DUMPER>TAPE MTA0: <RET>
             DUMPER>

    183      Mount Distribution tape 1.



                                    B-16
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


                    ______ _____    184      DUMPER>REWIND <RET>
                    _______ ___________ ________________ _____    185      DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
             Saveset "SOURCE Files for TOPS-20 V7.0" 17-Mar-88 0957
              Loading files into PS:<SUBSYS>
              End of Saveset.


              Total files restored:     1072
              Total pages restored:     8983
             DUMPER>
                    ____ _____    186      DUMPER>EXIT <RET>
              ______ _____ _____    187      $UNLOAD MTA0: <RET>
             $

    188      Dismount the software tape and store it.
    189      Repeat Steps 183 and 184 for Distribution tape 2.
                    _______ ___________ __________________ _____    190      DUMPER>RESTORE PS:<*>*.*.* PS:<OPERATOR>*.*.* <RET>
             Saveset  "DOCUMENTATION Files for TOPS-20 V7.0" 17-Mar-88
             0957
              Loading files into PS:<OPERATOR>
              End of Saveset.


              Total files restored:     80
              Total pages restored:     1167

    191      Restore the language sources (optional).

    192      Restore the GALAXY sources (optional).

                    ____ _____    193      DUMPER>EXIT <RET>
              ______ _____ _____    194      $UNLOAD MTA0: <RET>
             $

    195      Dismount the software tape and store it.
    196      Return to Step 183 to restore files from other tapes
             (optional). 

    197
              ________ _____ _____             $DEASSIGN MTA0: <RET>
             $

                                    NOTE

           If you performed Steps 173 through 197, you  can  skip
           Steps 199 and 200 and start at Step 201.

             ________    199      <CTRL/C>
              Installation-test System, TOPS-20 Monitor 7.0(6763)
              _____ ________ _____________ _____    200      @LOGIN OPERATOR your-password <RET>
              Job n on TTYn dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy 
              hh:mm:ss


                                    B-17
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


              ______ _____             @ENABLE <RET>
              ____ _______________________ _____    201      $TAKE PS:<UETP.LIB>SET-UP.CMD <RET>
             [New]
             [New]
               .
               .
               .
              End of <UETP.LIB>SET-UP.CMD.1
              _______ _____________ _____    202      $CONNECT PS:<UETP.RUN> <RET>
              ___ ________ _____    203      $RUN UETP.EXE <RET>
             [dd-mmm-yy hh:mm:ss         User Environment Test Package ]

                  ____ __________ _____    204      UETP>TAKE VERIFY.CMD <RET>

             UETP>ENABLE VERIFY/CYCLE:1     !Verify that the correct 
             [hh:mm:ss  ENABLE COMPLETED]   !software is installed

             UETP>BEGIN
             [hh:mm:ss  BEGIN COMPLETED]

             UETP>DEFAULT/CYCLE:00:15
             [hh:mm:ss  DEFAULT COMPLETED]

             UETP>ENABLE RANCBL
             [hh:mm:ss  ENABLE COMPLETED]

             UETP>ENABLE RANFOR
             [hh:mm:ss  ENABLE COMPLETED]

             UETP>ENABLE MTA0
             [hh:mm:ss  ENABLE COMPLETED]

             UETP>STATUS

             [dd-mmm-yy hh:mm:ss]

           Test  Depth Status  Cycle Times Error Error Start
           name                      run   count limit time
          ====== ===== ======= ===== ===== ===== ===== =====
          VERIFY VER   Running     1     0     0     0 dd-mmm-yy hh:mm:ss
          RANCBL VER   Enabled  0:15     0     0     0
          RANFOR VER   Enabled  0:15     0     0     0
          MTA0   VER   Enabled  0:15     0     0     0

          START VERIFY    9:43:33
          END   VERIFY   10:14:53

                                    NOTE

           If any messages appear between the START  message  and
           the  END  message,  there  are errors in the files you
           received.  Do not proceed any further.


                                    B-18
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


    205      Mount a magnetic tape on the drive you want to test.

                  ______ ____ _____             UETP>ENABLE MTAn <RET>
             [hh:mm:ss  ENABLE COMPLETED]

                  _____ _____    206      UETP>BEGIN <RET>
             [hh:mm:ss  BEGIN COMPLETED]

             UETP>

                  START  RANCBL  hh:mm:ss
                  START  RANFOR  hh:mm:ss
                  START  MTA0    hh:mm:ss
                  END    RANCBL  hh:mm:ss
                  END    RANFOR  hh:mm:ss
                  END    MTA0    hh:mm:ss


    207      [All tests complete on processor # 2102]

             [dd-mmm-yy hh:mm:ss]

           Test  Depth Status  Cycle Times Error Error Start
           name                      run   count limit time
          ====== ===== ======= ===== ===== ===== ===== =====
          VERIFY VER   Ended       1           1     0 0 dd-mmm-yy hh:mm:ss 
          RANCBL VER   Ended    0:15           1     0 0 dd-mmm-yy hh:mm:ss 
          RANFOR VER   Ended    0:15           1     0 0 dd-mmm-yy hh:mm:ss 
          MTA0   VER   Ended    0:15           1     0 0 dd-mmm-yy hh:mm:ss 

    208      Proceed to Step 213 to EXIT from UETP.  If you want to test 
             optional software, proceed to Step 210.

                  ______ ____________ _____    210      UETP>ENABLE product-name <RET>
             [hh:mm:ss  ENABLE COMPLETED]

                  ______ ____________ _____             UETP>ENABLE product-name <RET>
             [hh:mm:ss  ENABLE COMPLETED]
                     .
                     .
                     .
                  _____ _____             UETP>BEGIN <RET>
             [hh:mm:ss  BEGIN COMPLETED]

             UETP>

             ______ _____    211      STATUS <RET>

             [dd-mmm-yy hh:mm:ss]

           Test  Depth Status  Cycle Times Error Error Start
           name                      run   count limit time


                                    B-19
               POCKET INSTALLATION GUIDE FOR THE DECSYSTEM-20


          ====== ===== ======= ===== ===== ===== ===== =====
          VERIFY VER   Ended       1           1     0 0 dd-mmm-yy hh:mm:ss
          RANCBL VER   Running  0:15           0     0 0 dd-mmm-yy hh:mm:ss
          RANFOR VER   Queued   0:15           0     0 0 dd-mmm-yy hh:mm:ss
          MTA0   VER   Queued   0:15           0     0 0 dd-mmm-yy hh:mm:ss

                                    NOTE

           If there is a number other than 0  under  the  heading
           ERROR  COUNT, print the ERROS.LOG file, when the tests
           are completed, to find out what caused the error.

             ______ _____    212      STATUS <RET>

             [dd-mmm-yy hh:mm:ss]

           Test  Depth Status  Cycle Times Error Error Start
           name                      run   count limit time
          ====== ===== ======= ===== ===== ===== ===== =====
          VERIFY    VER   Ended       1     1     0     0 dd-mmm-yy hh:mm:ss
          RANCBL    VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss
          RANFOR    VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss
          MTA0      VER   Ended    0:15     1     0     0 dd-mmm-yy hh:mm:ss

             ____ _____    213      EXIT <RET>

              ____ ______________________ _____    214      $TAKE <UETP.LIB>CLEAN-UP.CMD <RET>
             [Old]
             [Old]
               .
               .
               .
              End of <UETP.LIB>CLEAN-UP.CMD.3
              ________ _____ _____    215      $DEASSIGN MTA0: <RET>
              ___ _____    216      $OPR <RET>
             OPR>
                 ___ __________ _____ _________ _____    217      OPR>SET TAPE-DRIVE MTA0: AVAILABLE <RET>
             OPR>
             hh:mm:ss        -- Tape Drive Set Available --
                           MTA0: set available for assignment by MOUNTR
             SJ  0: OPR>
             SJ  0: hh:mm:ss      -- Tape Drive Set Available --
             SJ  0:          MTA0: set available for assignment by MOUNTR
             OPR>
    218      OPR>EXIT <RET>
             $

    219      Start timesharing.






                                    B-20












                                 APPENDIX C

                            INSTALLING TCP/IP-20



   Perform the steps in this appendix ONLY if you are  using  the  TCP/IP
   (Transmission  Control  Protocol/Internet  Protocol)  network software
   supported by DIGITAL.  Most of the configuration information  required
   to  utilize  the TCP/IP software is available from the ARPANET Network
   Information Center (NIC) and the  ARPANET  Network  Operations  Center
   (NOC).   Sites  that  are  not  connected to the ARPANET networks must
   develop their own configuration information.  Follow this appendix  to
   do the following:

        1.  Install the monitor and associated software.

        2.  Customize the data files.

        3.  Utilize the customized data files.



   C.1  TCP/IP INSTALLATION TOOLS   C.1  TCP/IP INSTALLATION TOOLS

   You need software packages QT023 and  QT090  to  install  TOPS-20  and
   TCP/IP software on a DECSYSTEM-20.  These packages contain

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy A.

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy B.

         o  The TOPS-20 RSX-20F Version 16-00 System Floppy C.

         o  The TOPS-20 Version 7.0 Installation Tape.

         o  The TOPS-20 Version 7.0 Distribution Tape 1.

         o  The TOPS-20 Version 7.0 Distribution Tape 2.

         o  The TCP/IP-20 Version 4.0 Distribution tape.

   See Chapter 1 of this guide for information about the floppy disks and


                                    C-1
                            INSTALLING TCP/IP-20


   the TOPS-20 Installation and Distribution tapes.

   The TCP/IP-20 Version  4.0  Distribution  tape  contains  four  DUMPER
   savesets recorded at 1600 bpi in DUMPER format.

         o  Saveset 1 contains documents about the TCP/IP software.

         o  Savesets 2 through 5 contain the TCP/IP  monitors,  data  and
            source files, utilities and tools, and keys.



   C.2  RESTORING THE TOPS-20 BUNDLED SOFTWARE FROM TAPE   C.2  RESTORING THE TOPS-20 BUNDLED SOFTWARE FROM TAPE

   Perform Step 1 to restore the TOPS-20 software.


   ____ __  ______ ___ _______ ____ ______ ___ ___ _____________  _______   Step 1:  Create the TOPS-20 file system and the configuration  command
            _____            file.

   You will be restoring a non-TCP/IP monitor  as  you  create  the  file
   system and the configuration command file.  Near the end of the TCP/IP
   installation, you will choose a TCP/IP monitor.

                      new installation   If you are doing a new installation, read  chapters  1  through  3  to
   restore  the  Version 7.0 files from tape and create the configuration
   command file.

                       update installation   If you are doing an update installation, read Appendix A, Sections A.1
   through  A.2.6,  Steps  1 through 47, to restore the Version 7.0 files
   and edit the configuration command file.



   C.3  RESTORING THE TCP/IP DISTRIBUTION TAPE   C.3  RESTORING THE TCP/IP DISTRIBUTION TAPE

   To restore the TCP/IP-20 Version 4.0 Distribution tape, you  need  the
   following disk space:

         o  125 pages in the directory <OPERATOR>.

         o  2800 pages in the directory <SYSTEM> or <NEW-SYSTEM>.

         o  175 pages in the directory <SUBSYS> or <NEW-SUBSYS>.

         o  2700 pages in the directory <TCPIP-SOURCES>, a directory  you
            must create.

         o  600 pages in the directory <TCPIP-KEYS>, a directory you must
            create.

   Use the command INFORMATION DIRECTORY dev:<directory> to determine how


                                    C-2
                            INSTALLING TCP/IP-20


   many  free pages there are in each directory.  If necessary, move some
   files to other directories or delete and expunge some files.

   Follow Steps 2 through 14 to restore the TCP/IP Distribution tape.


   ____ __  ____ _____ __________________ ___ _____ ___ ______ ____   Step 2:  Type BUILD PS:<TCPIP-SOURCES> and press the RETURN key.

   In order to restore the fourth  saveset  on  the  TCP/IP  Distribution
   tape,  you  must  BUILD  the directory PS:<TCPIP-SOURCES>.  Follow the
   example to do so.

         _____ __________________ _____        $BUILD PS:<TCPIP-SOURCES> <RET>
        [New]
          _______ ____ _____        $$WORKING 2700 <RET>
          _________ ____ _____        $$PERMANENT 2700 <RET>
          _____        $$<RET>
        $


   In order to restore the fifth saveset on the TCP/IP Distribution tape,
   you  must  BUILD the directory PS:<TCPIP-KEYS>.  Follow the example to
   do so.

         _____ _______________ _____        $BUILD PS:<TCPIP-KEYS> <RET>
        [New]
          _______ ___ _____        $$WORKING 600 <RET>
          _________ ___ _____        $$PERMANENT 600 <RET>
          _____        $$<RET>
        $


   ____ __  ____ ______ ___ _____ ___ ______ ____   Step 3:  Type DUMPER and press the RETURN key.

   Type DUMPER to start the DUMPER program.

         ______ _____        $DUMPER <RET>
        DUMPER>


   ____ __  ____ ____ _____  ___ _____ ___ ______ ____   Step 4:  Type TAPE MTAn:  and press the RETURN key.

   To tell DUMPER which tape drive you are using, type TAPE  MTAn:.   The
   example uses MTA0:  as the tape drive.

               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
        DUMPER>


   ____ __  _____ ___ ______ ____________ _____   Step 5:  Mount the TCP/IP Distribution tape.

   Mount the TCP/IP Distribution tape on the tape drive.  Be sure to  put


                                    C-3
                            INSTALLING TCP/IP-20


   the drive online.


   ____ __  ____ ______ ___ _____ ___ ______ ____   Step 6:  Type REWIND and press the RETURN key.

   To be sure that the tape is at its beginning, type REWIND.

               ______ _____        DUMPER>REWIND <RET>
        DUMPER>


   ____ __  ____ _________ ______ ___ _____ ___ ______ ____   Step 7:  Type SUPERSEDE ALWAYS and press the RETURN key.

   Type the command SUPERSEDE ALWAYS to tell DUMPER to supersede  a  disk
   file with a magnetic tape file of the same file name and type.

               _________ ______ _____        DUMPER>SUPERSEDE ALWAYS <RET>
        DUMPER>

                                    NOTE

           Give the DUMPER command FILES just before the  RESTORE
           command  if  you  want  the  system  to print the file
           specification of  each  file  it  restores.   To  stop
           printing  each  file specifications, give the NO FILES
           command after the current RESTORE command finishes.


   ____ __  ____ _______ ___________  __________________  ___  _____  ___   Step 8:  Type RESTORE PS:<*>*.*.*  PS:<OPERATOR>*.*.*  and  press  the
            ______ ____            RETURN key.

   Type the RESTORE command to restore the  documentation  files  to  the
   directory <OPERATOR>.

               _______ ___________ __________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<OPERATOR>*.*.* <RET>
        Saveset "Documentation Files for TCP/IP-20 V4.0" 18-Mar-88 0910
         Loading files into PS:<OPERATOR>
         End of Saveset.


         Total files restored:     6
         Total pages restored:     106
        DUMPER>


   ____ __  ____  _______  ___________  ________________  ___  _____  ___   Step 9:  Type  RESTORE  PS:<*>*.*.*  PS:<SYSTEM>*.*.*  and  press  the
            ______ ____            RETURN key.

   Type the RESTORE command to restore  the  monitor,  data,  and  system
   files  to  the  directory  <SYSTEM>.   If  you  are  doing  an  update
   installation, restore the files to <NEW-SYSTEM>.



                                    C-4
                            INSTALLING TCP/IP-20


               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SYSTEM>*.*.* <RET>
        Saveset "System Files for TCP/IP-20 V4.0" 18-Mar-88 0910
         Loading files into PS:<SYSTEM>
         End of Saveset.


         Total files restored:     11
         Total pages restored:     2717
        DUMPER>


   ____ ___  ____ _______  ___________  ________________  ___  _____  ___   Step 10:  Type RESTORE  PS:<*>*.*.*  PS:<SUBSYS>*.*.*  and  press  the
             ______ ____             RETURN key.

   Restore the system files to the directory <SUBSYS>.  If you are  doing
   an update installation, restore the files to <NEW-SUBSYS>.

               _______ ___________ ________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<SUBSYS>*.*.* <RET>
        Saveset "Unsupported SUBSYS Utilities for TCP/IP-20 V4.0"
        18-Mar-88 0911
         Loading files into PS:<SUBSYS>
         End of Saveset.


         Total files restored:     10
         Total pages restored:     162
        DUMPER>


   ____ ___  ____ _______ ___________ _______________________  ___  _____   Step 11:  Type RESTORE PS:<*>*.*.* PS:<TCPIP-SOURCES>*.*.*  and  press
             ___ ______ ____             the RETURN key.

   Restore   the   utilities   and   tools   files   to   the   directory
   <TCPIP-SOURCES>.

               _______ ___________ _______________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<TCPIP-SOURCES>*.*.* <RET>
        Saveset "Source Files for TCP/IP-20 V4.0" 18-Mar-88 0911
         Loading files into PS:<TCPIP-SOURCES>
         End of Saveset.


         Total files restored:     55
         Total pages restored:     2637
        DUMPER>


   ____ ___  ____ _______ ___________ ____________________ ___ _____  ___   Step 12:  Type RESTORE PS:<*>*.*.* PS:<TCPIP-KEYS>*.*.* and press  the
             ______ ____             RETURN key.

   Restore the keys files to the directory <TCPIP-KEYS>.

               _______ ___________ ____________________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<TCPIP-KEYS>*.*.* <RET>


                                    C-5
                            INSTALLING TCP/IP-20


        Saveset "Source Files for TCP/IP-20 V4.0" 18-Mar-88 0911
         Loading files into PS:<TCPIP-KEYS>
         End of Saveset.


         Total files restored:     25
         Total pages restored:     541
        DUMPER>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 13:  Type EXIT and press the RETURN key.

   Type EXIT to end the DUMPER program.

               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ___  ____ ______ _____  ___ _____ ___ ______ ____   Step 14:  Type UNLOAD MTAn:  and press the RETURN key.

   To unload the tape from the tape drive, type UNLOAD MTAn:.

         ______ _____ _____        $UNLOAD MTA0: <RET>
        $


   ____ ___  ________ ___ ______ ____________ _____   Step 15:  Dismount the TCP/IP Distribution tape.

   You can now remove the tape from the tape drive.



   C.4  CUSTOMIZING A DATA FILE   C.4  CUSTOMIZING A DATA FILE

   Follow Steps 16 through 19  to  customize  the  file  INTERNET.ADDRESS
   (formerly SITE-ADDRESS.TXT).


   ____ ___  ____ _______ ___________ ___ _____ ___ ______ ____   Step 16:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   To provide the TCP/IP software with the data it needs to run, you must
   add or change three system files that reside in <SYSTEM>.  You must be
   connected to the appropriate directory to do so.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $

                                    NOTE

           The following steps create a file with the EDIT editor
           program.   You can use any editor you wish, as long as
           you accomplish the goal of each step.


                                    C-6
                            INSTALLING TCP/IP-20


   ____ ___  ____ ______ ________________ ___ _____ ___ ______ ____   Step 17:  Type CREATE INTERNET.ADDRESS and press the RETURN key.

   The INTERNET.ADDRESS file should contain the addresses of your TOPS-20
   system for each defined interface.  TOPS-20 supports three interfaces:

         o  AN20

         o  KLNI (the Ethernet or NI, Network Interconnect)

         o  KLIPA (the CI, Computer Interconnect)

   Use the CREATE command to create the file INTERNET.ADDRESS.

         ______ ________________ _____        $CREATE INTERNET.ADDRESS <RET>
        Input: PS:<SYSTEM>INTERNET.ADDRESS.1
        00100


   ____ ___  _____ ___ ________ _________ ___ ____ _____   Step 18:  Enter the internet addresses for your site.

   You must be sure that your INTERNET.ADDRESS file contains the  correct
   network  and  host numbers.  Contact the NIC or the NOC for assistance
   in determining your network addresses.

   Here is an example of what you should place in  your  INTERNET.ADDRESS
   file:

        AN20#0, 10 0 0 79,NCP,PACKET-SIZE:1004
        IPNI#0,192 5 6 1,PACKET-SIZE:1500,DEFAULT,PREFERRED
        IPCI#0,192 5 5 4,PACKET-SIZE:632
        IPNIA#0,16,34 0 2,PACKET-SIZE:1500,LOGICAL-HOST-MASK:225.225.225.0

   The PACKET-SIZE keyword specifies the maximum size packet  (in  bytes)
   that can be transmitted over the interface.

   The DEFAULT keyword specifies  which  internet  address  to  use  when
   communicating  with  a target host that is not on a directly connected
   network.

   The PREFERRED keyword specifies which interface is  preferred  when  a
   target host is on more than one directly connected network.

   Obtain the correct network and host numbers from  the  NIC.   Use  the
   packet-size  in  the  example.   You  should  not  have  to change any
   parameters in the example, except the network address, as all  of  the
   parameters are set for optimum network accessibility.

   Use the line starting with AN20#0 if you are connecting to the ARPANET
|  or MILNET.

   Use the line with IPNI#0 if you are connecting to the Ethernet (NI).



                                    C-7
                            INSTALLING TCP/IP-20


   Use the line with IPCI#0 if you are connecting to the CI.

|  Use the line with IPNIA#0 to allow  multiple  addresses  on  the  same
|  Ethernet.

   Enter the internet addresses that are appropriate for your  site  into
   the file.

           _______ __ _ _ _________________________________________ _____     00100 AN20#0, 10 0 0 79,NCP,PACKET-SIZE:1004,DEFAULT,PREFERRED <RET>
           __________ _ _ __________________ _____     00200 IPNI#0,192 5 6 1,PACKET-SIZE:1500 <RET>
           __________ _ _ _________________ _____     00300 IPCI#0,192 5 5 4,PACKET-SIZE:632 <RET>
     00400


   ____ ___  _____ ___ ______ ____  ____ __ ___ _____ ___ ______ ____   Step 19:  Press the ESCAPE key.  Type EU and press the RETURN key.

   To save your INTERNET.ADDRESS file, press the ESCAPE key.   Then  type
   EU and press the RETURN key.

               _        00400  $
         __ _____        *EU <RET>

        [PS:<SYSTEM>INTERNET.ADDRESS.1]
        $



   C.5  CHOOSING A MONITOR   C.5  CHOOSING A MONITOR

   At  this  time,  you   are   running   a   TOPS-20   monitor,   either
   2060-MONBIG.EXE  or  2060-MONMAX.EXE.   You should now select a TCP/IP
   monitor that most closely meets your system's requirements.

   The three TCP/IP monitors you can choose from are in <SYSTEM> (for new
   installations) or in <NEW-SYSTEM> (for update installations).


     AN-MONBIG.EXE     AN-MONBIG.EXE     A big TCP/IP timesharing  monitor  without  DECnet
                       support.  This monitor supports:

                         100 jobs
                         128 lines
                          10 LAT lines
                          30 pseudo-terminals
                          40 NVTs (Network Virtual Terminals)
                        4MEG of memory
                           8 magnetic tape drives
                           2 line printers
                           1 card reader
                         120 million words of  disk  storage  (six  RP04,
                             three  RP06,  one RP07, three RP20 spindles,
                             two RA60, or one RA81) per structure


                                    C-8


                       10000 pages for swapping space

      AN-MONDCN.EXE      AN-MONDCN.EXE    A large TCP/IP  timesharing  monitor  with  DECnet
                       support.  This monitor supports:

                          80 jobs
                         128 lines
                          40 LAT lines
                          50 pseudo-terminals
                          40 NVTs
                        4MEG of memory
                           8 magnetic tape drives
                           2 line printers
                           1 card reader
                         120 million words of  disk  storage  (six  RP04,
                             three  RP06,  one RP07, three RP20 spindles,
                             two RA60, or one RA81) per structure
                       15000 pages for swapping space

      AN-MONMAX.EXE      AN-MONMAX.EXE    The largest  TCP/IP  timesharing  monitor  without
                       DECnet support.  This monitor supports:

                         128 jobs
                         128 lines
                          10 LAT lines
                          50 pseudo-terminals
                          40 NVTs
                        4MEG of memory
                           8 magnetic tape drives
                           2 line printers
                           1 card reader
                         120 million words of  disk  storage  (six  RP04,
                             three  RP06,  one RP07, three RP20 spindles,
                             two RA60, or one RA81) per structure
                       15000 pages for swapping space


   In Steps 20 and 21, you choose the TCP/IP monitor most appropriate for
   your needs and copy it to the file PS:<SYSTEM>MONITR.EXE.


   ____ ___  ____ _______ ___________ ___ _____ ___ ______ ____   Step 20:  Type CONNECT PS:<SYSTEM> and press the RETURN key.

   Connect to the directory PS:<SYSTEM> by typing the CONNECT command.

         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $


   ____ ____  ____ ____ ____________ ____________ ___  _____  ___  ______   Step 21A:  Type COPY montyp.EXE.* MONITR.EXE.* and  press  the  RETURN
              ___ ____ ______________              key (new installation).

   ____ ____  ____  ____  ___________________________  ____________   ___   Step 21B:  Type  COPY  PS:<NEW-SYSTEM>montyp.EXE.*  MONITR.EXE.*   and


                                    C-9
                            INSTALLING TCP/IP-20


              _____ ___ ______ ___ _______ ______________              press the RETURN key (update installation).

   Use the COPY command for  either  a  new  installation  or  an  update
   installation  to  copy  the monitor that you have selected to the file
   MONITR.EXE.  "Montyp" designates the type of monitor you have selected
   for  your system.  When the copy is successfully completed, the system
   prints an OK message.

   The  different  monitors   are   AN-MONBIG.EXE,   AN-MONDCN.EXE,   and
   AN-MONMAX.EXE.

         ____ ____________ ____________ _____        $COPY montyp.EXE.* MONITR.EXE.* <RET>    !New installation 
        montyp.EXE.1 => MONITR.EXE.1 [Superseding] [OK]
        $



   C.6  CHANGING THE SYSTEM NAME   C.6  CHANGING THE SYSTEM NAME

   Whenever a  user  types  <CTRL/C>  before  logging  in  or  gives  the
   INFORMATION VERSION command, the system prints a message similar to:

        TOPS-20 BIG SYSTEM, TOPS-20 Monitor n.n(nnnn)

   where n.n(nnnn) is the  version  and  edit  number  of  the  operating
   system.   You  can  change  the  system  name  "TOPS-20 BIG SYSTEM" by
   entering the name you want into the  file  PS:<SYSTEM>MONNAM.TXT.   If
   the  name  contains  lowercase  letters,  give the command TERMINAL NO
   RAISE before entering the name.

   The text of the system name can contain up  to  105  characters.   For
   practical  purposes,  it  should  not exceed 32 characters to fit on a
   single 72-character line of terminal output.  Steps 22 through 24 show
   how  to change the system name to "TCP/IP Installation System" and how
   to change the new system name to the abbreviated name "TCP/IP-Sys."


   ____ ___  ____ ________ __ _____ ___ _____ ___ ______ ___ ___________   Step 22:  Type TERMINAL NO RAISE and press the RETURN key (optional).

   If you want lowercase letters in the system name,  type  the  TERMINAL
   command.  Make sure that the CAPS LOCKED button on the terminal is not
   depressed.

         ________ __ _____ _____        $TERMINAL NO RAISE <RET>
        $


   ____ ___  ____ ____ ____  __________ ___ _____ ___ ______  ____   ____   Step 23:  Type COPY TTY:  MONNAM.TXT and press the RETURN  key.   Then
             _____ ___ ______ ____ ___ ____ _________             enter the system name and type <CTRL/Z>.

   Change the system name by entering the name you  want  into  the  file
   PS:<SYSTEM>MONNAM.TXT.    The   system   name  should  not  exceed  32
   characters.

                                    C-10
                            INSTALLING TCP/IP-20


   Use the COPY command to give the system a new system name.  After  you
   enter  the  command,  the system waits for you to type the new name of
   your system.  After you enter the new system name, type <CTRL/Z>.   In
   the example, the new system name is TCP/IP Installation System.

         ____ ____ __________ _____        $COPY TTY: MONNAM.TXT <RET>
         TTY: = MONNAM.TXT.1

        ______ ____________ ______  __        TCP/IP Installation System  ^Z
        $

   You can change this file at any time, but the system reads the  system
   name only when the monitor is started (whenever you boot the system).


   ____ ___  ____ ____ ____  __________ ___ _____ ___ ______ ____   _____   Step 24:  Type COPY TTY:  TAPNAM.TXT and press the RETURN key.   Enter
             ___ ___________ ______ ____ ___ ____ _________             the abbreviated system name and type <CTRL/Z>.

   You should also change the system name that will  be  written  on  the
   volume  header  label  of any tape initialized by users of the system.
   Do  this   by   entering   the   name   you   want   into   the   file
   PS:<SYSTEM>TAPNAM.TXT.   This  system  name  must contain ten or fewer
   characters, so you will probably have to abbreviate the name given  in
   the  previous  step.   The example shows how to change the system name
   (that appears on tape labels written by the system) to "TCP/IP-Sys."

   Give the system an abbreviated name with the COPY command.  After  you
   enter  the  command,  the system waits for you to type the abbreviated
   system name.  After  you  enter  the  abbreviated  system  name,  type
   <CTRL/Z>.  In the example, the abbreviated system name is TCP/IP-Sys.

         ____ ____ __________ _____        $COPY TTY: TAPNAM.TXT <RET>
        TTY: = TAPNAM.TXT.1

        __________  __        TCP/IP-Sys  ^Z
        $



   C.7  COMPLETING YOUR TCP/IP INSTALLATION   C.7  COMPLETING YOUR TCP/IP INSTALLATION

   Complete your installation by performing Steps 25 through 31.


   ____ ___  ____ ____ ____ ______ ___ _____ __ ____ __ ______   Step 25:  Shut down your system and bring it back up again.

   Shutting down your system and bringing it back up again will  use  the
   TOPS-20  Version  7.0  and  TCP/IP-20  Version  4.0  software  and the
   INTERNET.ADDRESS file you created.

   As you bring up the system, the system output will  differ  from  that
   shown  in  Chapters  4  and 5 or Appendix A, Sections A.2.7 and A.2.8.


                                    C-11
                            INSTALLING TCP/IP-20


   Your system output will contain messages about  the  loading  of  host
   names and different internet networks coming online.

                             ___  ____________   If you are performing  a  new  installation,  proceed  to  Chapter  4,
   Creating  the  Front-End  File  system,  and  Chapter  5, Starting the
   System, to complete the software installation and to shut your  system
   down and bring it back up again.

                            ______ ____________   If you are performing an update installation, proceed to  Appendix  A,
   Updating the DECSYSTEM-20 Software, Sections A.2.7 and A.2.8, Steps 48
   through 63, to complete the software installation  and  to  shut  your
   system down and bring it back up again.


   ____ ___  ___ __ ___ ______  ____  _____________   ____  ____  _______   Step 26:  Log in and enable  your  capabilities.   Then  type  CONNECT
             ___________ ___ _____ ___ ______ ____             PS:<SYSTEM> and press the RETURN key.

   Follow the example to log in, enable your capabilities, and connect to
   the appropriate directory.

         TCP/IP Installation System, TOPS-20 Monitor 7.0(6763)
         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 5 on TTY8 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
         _______ ___________ _____        $CONNECT PS:<SYSTEM> <RET>
        $


   ____ ___  ____ __________ _________ ___ _____ ___ ______ ____   Step 27:  Type TDIRECTORY HOSTS.TXT and press the RETURN key.

   The file named  HOSTS.TXT  is  in  your  SYSTEM: area.   (SYSTEM:   is
   usually   defined  as  PS:<NEW-SYSTEM>,PS:<SYSTEM>.)   As  an  ARPANET
   customer,  you  will  have  access  to  a  new  copy  of   this   file
   approximately  every two weeks, when it is updated by the ARPA Network
   Information Center (NIC).  Use each new copy when you retrieve  it  to
   be sure you are using the most recent copy.

   Type  TDIRECTORY  HOSTS.TXT  to  obtain  information  about  the  file
   HOSTS.TXT.

         TDIRECTORY HOSTS.TXT <RET>        $TDIRECTORY HOSTS.TXT <RET>

         PS:<SYSTEM>
                         Write

        HOSTS.TXT 27-MAR-87 18:11:54
        $

   When your system has access to the  ARPANET  networks,  obtain  a  new
   HOSTS.TXT file with the following command sequence.




                                    C-12
                            INSTALLING TCP/IP-20


                                    NOTE

           You must have  your  TCP/IP  monitor  up  and  running
           before you can issue the following command sequence.


    ______ _____   @ENABLE <RET>
    ______ _____   $IPHOST <RET>

   IPHOST - TOPS-20AN TCP/IP Host Utility Program - Version 7.0(42)

   Interface   0, net   10.0.0.0 [ARPANET], adr 10.0.0.79 [DEC-TOPS20]
   Interface   1, net   192.5.6.0 [DEC-MRRAD], adr 192.5.6.1 [DEC-TOPS20]
   Interface   2, net   192.5.5.0 [DEC-MRNET], adr 192.5.5.4 [DEC-TOPS20]

          ________ ____ _______ ___ _________ _____   IPHOST>RETRIEVE HOST SRI-NIC 101 HOSTS.TXT <RET>

    [ Opening TCP connection ] [OK]
    [ Receiving TCP data ......................................... ] [OK]
    [ Closing TCP connection ] [OK]


          ____ _____   IPHOST>EXIT <RET>
   $


   The RETRIEVE command gets the HOST table from SRI-NIC on port 101  and
   places  the  table into the file HOSTS.TXT.  (Recognition input can be
   of help with this command.)


   ____ ___  _____ ____ _________________ ___ _____ ___ ______ ____   Step 28:  Enter TYPE INTERNET.GATEWAYS and press the RETURN key.

   The INTERNET.GATEWAYS file should be in your SYSTEM: area.  It defines
   which  gateways to the ARPANET your TOPS-20 host can talk to.  DIGITAL
   provides a file in  the  correct  INTERNET.GATEWAYS  format  with  the
   TCP/IP  software.   This  file contains the gateway addresses for your
   TOPS-20 host to communicate  with  the  ARPA  MILNET  gateways.   Your
   TOPS-20  host  will  be  able  to  talk  to  only  the MILNET gateways
   specified by the NIC and the NOC for your site.  Contact your  ARPANET
   liaison if you have questions.

   Enter the TYPE command to display the file INTERNET.GATEWAYS  on  your
   terminal.

         ____ _________________ _____        $TYPE INTERNET.GATEWAYS <RET>
        ;created by...
        Created 25 JUN 1985 1858-PST
        ;GW/PRIME Internet
        PRIME 10.0.0.94., 192.5.2.6.
              .
              .


                                    C-13
                            INSTALLING TCP/IP-20


              .
        $


   ____ ___  _________ _____ _______ _________ __ _____ __ ____ _____   Step 29:  Determine which gateway addresses to place in your file.

   The addresses in the INTERNET.GATEWAYS file must be in the form:

        network-name gateway-address, alternate-gateway-address

   Each address has the format

        n.n.n.n

   where n specifies a decimal octet (that is, an 8-bit  decimal  number)
   of the internet address.

   An internet address consists of four decimal octets (that is, a  total
   of  32 bits).  For example, the internet address for host DEC-MARLBORO
   is 10.1.0.79.

   With the help of the ARPANET NIC and NOC,  or  your  ARPANET  liaison,
   determine which gateway addresses to place in your file.


   ____ ___  _____ ___ _______ _________ ____ __________________   Step 30:  Place the correct addresses into INTERNET.GATEWAYS.

   You must edit the INTERNET.GATEWAYS file you receive from  DIGITAL  to
   contain  the  gateway  addresses  for  your  site.   Therefore, use an
   editing program to place the correct addresses into the file and  save
                                                  ____ ___  ____ ____ ___   the  customized  file  in  your SYSTEM: area.  Step 31:  Shut down the
   ______ ___ ____ ____ _______ _ __ ____ ______   system and then read Chapter 5 of this guide.

   Shut down your system in an orderly fashion and then read Chapter 5 of
   this  guide  to reboot the system from disk.  By rebooting the system,
   you load the HOST.TXT and INTERNET.GATEWAYS files.   Once  you  reboot
   you can begin timesharing.
|  
|  
|  
   C.8  ACCESSING THE LIMITED DOMAIN RESOLVER|  C.8  ACCESSING THE LIMITED DOMAIN RESOLVER
|  
|  A TOPS-20 TCP/IP node now has the capacity to have access  to  a  host
|  that   supports   DNS  name  server  software.   This  enables  better
|  maintenance of the HOST.TXT file for addressing nodes in  the  network
|  and for system administration.
|  
|  The more nodes that are added to the INTERNET,  the  larger  the  host
|  file  HOSTS.TXT  becomes.   The  increasing  size of the data base and
|  frequency of updates to it created the need for a  distributed  manner
|  to maintain it, with local caching to improve performance.
|  
|  All of the nodes in the network make up the domain  name  space  tree.

                                    C-14
                            INSTALLING TCP/IP-20


|  Each  node  and  leaf  of the tree name a set of information.  A query
|  operation requests specific types of information.  A query  names  the
|  domain name of interest and describes the type of resource information
|  desired.
|  
|  Name servers are server  programs  that  hold  information  about  the
|  domain tree's structure and set information.  A particular name server
|  has complete information about a  subset  of  the  domain  space,  and
|  pointers to other name servers that have information about other parts
|  of the domain tree.
|  
|  Resolvers are program that extract information from  name  servers  in
|  response  to user requests.  Resolvers must be able to access at least
|  one name server and use that name server's  information  to  answer  a
|  query  directly,  or  pursue  the  query using referrals to other name
|  servers.
|  
|  The TOPS-20 DNS is a 'stub' resolver with a local cache and  does  not
|  pursue any query using referrals to other name servers.
|  
|  The TOPS-20  implementation  of  the  client-resolver  interface  only
|  supports  INTERNET host name to host address and INTERNET host address
|  to host name translation, and certain other information.
|  
|  The host names that are listed in SYSTEM:INTERNET.NAMESERVERS must run
|  DNS  server  software,  which  performs  the  recursive  DNS  resolver
|  functions  for  the  non-recursive  TOPS-20  'stub   resolver'.    The
|  following  steps  describe how to activate the TOPS-20 Domain Resolver
|  and Domain Name Service.
|  
|  
   ____ ___  ____ _ ____ __ ____ ____ ____ __  _______  ___  ____  ______|  Step 31:  Find a host in your area that is  running  DNS  name  server
   ________|  software
|  
|  Find a host that the TOPS-20 system  can  use  for  the  primary  name
|  server.   Preferably,  the  host should be on the same Ethernet as the
|  TOPS-20 system.
|  
|  
   ____ ___  ____ _______ ____ _______ ___ ____ ______ ________|  Step 32:  Find another host running DNS name server software
|  
|  Find another host in your area that is running  the  DNS  name  server
|  software  that can be used as a backup name server in case the primary
|  is not reachable.
|  
|  
   ____ ___  _______ ___ ___ ________ __  __________  ___  __________  __|  Step 33:  Restore the new versions of  IPHOST.EXE  and  SYSDPY.EXE  to
   _______________|  PS:<NEW-SUBSYS>
|  
   _____ ___ ________ ______ ____ ___ ______ _____ __ __ __ __ ___ __  __|  Mount the Software Update tape and repeat Steps 3, 4, 6, 7, and 10  to
   _______   ___   ___   ________   __   __________   ___  __________  __|  restore   the   new   versions   of   IPHOST.EXE   and  SYSDPY.EXE  to
   ________________|  PS:<NEW-SUBSYS>.


                                    C-15
                            INSTALLING TCP/IP-20


   ____ ___  ____ _______ __________ ___ _____ ___ ______ ____|  Step 34:  Type CONNECT PS:<SYSTEM and press the RETURN key.
|  
|  Connect   to    the    PS:<SYSTEM>    area    to    add    the    file
|  SYSTEM:INTERNET.NAMESERVERS.
|  
         _______ ___________ _____|       $CONNECT PS:<SYSTEM> <RET>
|       $
|  
|  
   ____ ___  ____ ______ ____________________ ___ _____ ___ ______ ____|  Step 35:  Type CREATE INTERNET.NAMESERVERS and press the RETURN key.
|  
|  The INTERNET.NAMESERVERS  file  should  contain  the  address  of  the
|  addresses  of  the  primary DNS name server host and the back DNS name
|  server host.
|  
|  Use the CREATE command to create the file INTERNET.ADDRESS.
|  
         ______ ____________________ _____|       $CREATE INTERNET.NAMESERVERS <RET>
|       Input: PS:<SYSTEM>INTERNET.NAMESERVERS.1
|       00100
|  
|  
   ____ ___  _____ ___ ___ ____ ______ _________ ___ ____ _____|  Step 36:  Enter the DNS name server addresses for your site.
|  
|  You must be sure  that  your  INTERNET.NAMESERVER  file  contains  the
|  correct  network  and  host  numbers.   Contact  the  local  site's IP
|  administration for assistance in determining the network addresses  of
|  the DNS name server host.
|  
|  The first line should  be  the  primary  DNS  name  server  host's  IP
|  address.   The second line should be the backup DNS name server host's
|  IP address.  Up to  eight  host  names  can  be  entered.   A  timeout
|  parameter is specified for each name server host.
|  
|  Here  is   an   example   of   what   you   should   place   in   your
|  INTERNET.NAMESERVERS file:
|  
|       16.34.0.9,TIMEOUT:10
|       16.1.0.1,TIMEOUT:10
|  
|  Normally a rather short timeout is used, on  the  order  of  5  to  10
|  seconds.   Longer timeouts may cause user frustration when a host name
|  is not found because it was spelled incorrectly.  Shorter timeouts may
|  not allow the name server enough time to satisfy the request.
|  
|  Enter the internet primary and backup DNS name server  host  addresses
|  that are appropriate for your site into the file.
|  
           _________________________|    00100 16.34.0.9,TIMEOUT:10<RET>
           ________________________|    00200 16.1.0.1,TIMEOUT:10<RET>
|    00300



                                    C-16
                            INSTALLING TCP/IP-20


   ____ ___  _____ ___ ______ ____  ____ __ ___ _____ ___ ______ ____|  Step 37:  Press the ESCAPE key.  Type EU and press the RETURN key.
|  
|  To save your INTERNET.NAMESERVERS file, press the ESCAPE key.  Then type EU
|  and press the RETURN key.
|  
               _|       00300  $
         __ _____|       *EU <RET>
|  
|       [PS:<SYSTEM>INTERNET.NAMESERVERS.1]
|       $
|  
|  
   ____ ___  ___ ___ ______ _______ ___ _______ _ ____ __________ _______|  Step 38:  Run the IPHOST program and perform a LOAD NAMESERVER command
|  
|            You must have your TCP/IP monitor up and running before  you
|            can issue the following command sequence.
|  
    ______ _____|  @ENABLE <RET>
    ______ _____|  $IPHOST <RET>
|  
|  IPHOST - TOPS-20AN TCP/IP Host Utility Program - Version 7(50)
|  
|  Interface   0, net   16.0.0.0  [internet], adr 16.34.0.2 [DEC-TOPS20]
|  Interface   1, net   192.5.5.0 [dec-mrrad], adr 192.5.5.1 [DEC-TOPS20]
|  Interface   2, net   192.5.5.0 [dec-mrnet], adr 192.5.5.4 [DEC-TOPS20]
|  
          ____ ___________ _____|  IPHOST>LOAD NAMESERVERS <RET>
|  
          ____ _____|  IPHOST>EXIT <RET>
|  $
|  
|  
   ____ ___  ____ ______ ___ ___ _____ ___ ______ ___|  Step 39:  Type SYSDPY AND and press the RETURN Key
|  
|  Run the SYSDPY program and select the AND display.   Check  to  insure
|  that  the  name  servers  address and timeout fields are correct.  The
|  "Success" and "Failures" columns show the result of  the  DNS  queries
|  issued to each name server host.
|  
    ______ ___ _____|  $SYSDPY AND <RET>
|  
|  Host Name          Host Address    Timeout   Success   Failure
|  
|  bldg19.tops.com    16.34.0.9            10     5362    5652
|  decwr1.dec.com     16.1.0.1             10      681    4033
|  
|  
   ____ ___  ______ ___ _____ ____ _______________|  Step 40:  Remove the hosts from SYSTEM:HOST.TXT
|  
|  If  the  DNS  software  works  properly,   remove   all   hosts   from
|  SYSTEM:HOSTS.TXT, except the following:



                                    C-17
                            INSTALLING TCP/IP-20


|        o  Entries for this system's IP interfaces and networks
|  
|        o  Entries for the name server hosts
|  
|        o  Any other host that local applications need to  access,  even
|           if all name server hosts are inaccessible.
|  
|  Reducing the size  of  HOSTS.TXT  files  allows  the  system  to  boot
|  quicker, and speeds up searching for host name to address translation.













































                                    C-18












                                 APPENDIX D

              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM



   This appendix describes how to generate a TOPS-20 batch  and  spooling
   (GALAXY)  system  specifically  tailored for your installation.  To do
   this you must have already  installed  a  standard  Release  6  GALAXY
   system.   The  standard  GALAXY system is satisfactory for most sites.
   The procedures shown in Chapters 1 through 7  of  this  guide,  or  in
   Appendix A or B, describe how to install Release 7.0 TOPS-20 software,
   including a standard Release 6 GALAXY system.  After performing  those
   procedures,  you  can  use  the  steps in this appendix if you need to
   generate a GALAXY system having different parameters from the standard
   one.

                                    NOTE

           While the steps in generating  a  tailored  Release  6
           GALAXY  system  can  be  used  with  timesharing users
           logged in, the critical phase of stopping the standard
           Release  6  system  and  starting up your tailored one
           (Steps 28 through 50) should, for safety  reasons,  be
           performed  on  a  stand-alone system.  The queues need
           not be empty, however, as long  as  a  Release  6  (as
           opposed  to  Release  5  or  earlier) GALAXY system is
           already running.

   The following paragraphs summarize the procedure  for  generating  and
   starting up a new GALAXY system.

        1.  Run the DUMPER program to restore the GALAXY source files  to
            disk.   In  addition  to the source code, the files include a
            special batch control file called GALAXY.CTL.

        2.  Run the GALGEN program to create a file  containing  the  new
            GALAXY  system parameters.  The name of the parameter file is
            GALCNF.MAC.

        3.  Submit the control file GALAXY.CTL to your currently  running
            batch  system.   The  batch job that is created by GALAXY.CTL
            reads the parameter file created by GALGEN  and  generates  a
            new  set  of  GALAXY  files of type .EXE in a temporary area.

                                    D-1
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


            The batch job creates a log file that  should  be  saved  for
            reference.

        4.  Stop all the  components  of  the  currently  running  GALAXY
            system (QUASAR, LPTSPL, and so on).

        5.  Copy all  the  old  GALAXY  files  from  their  current  area
            (usually SYS:) to some other area.

        6.  Copy all the new GALAXY files  from  the  temporary  area  to
            SYS:.

        7.  Start up the components of the new GALAXY system.

        8.  Delete the .EXE files of the old GALAXY system when  the  new
            batch  system  is  operating  correctly.   If  you want to be
            cautious, you can save the old .EXE files on  tape  or  in  a
            backup  directory  (see  Step  36 in this appendix).  You can
            also delete the GALAXY source files (and the unrelated  files
            restored   along  with  them  from  the  Distribution  tape).
            However, if your installation can spare the disk space, it is
            more  convenient  to leave the sources on disk.  Then, if any
            code patches must be made to the batch system, you  have  the
            sources  readily  available.   Otherwise, you have to restore
            the sources from the software tape if patching is required.

                                    NOTE

           The procedures described below assume that you have  a
           Release  6  GALAXY  system  currently  running.  These
           procedures  can   be   carried   out   during   normal
           timesharing.



   D.1  RESTORING THE GALAXY SOURCE FILES   D.1  RESTORING THE GALAXY SOURCE FILES

   To restore the GALAXY source files, you must build a directory,  mount
   the  Distribution  tape,  and run the DUMPER program.  Perform Steps 1
   through 22 to restore the GALAXY files.

                                    NOTE

           The steps in this appendix assume that you  are  using
           the console terminal (CTY).


   ____ __  ___ __ ___ ______ _____ __ ________ ___________   Step 1:  Log in and enable WHEEL or OPERATOR privileges.

   You must be enabled and have privileges to perform  these  procedures.
   Follow the example to log in and enable your capabilities.

         Installation-test System, TOPS-20 Monitor 7.0(nnnn)

                                    D-2
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


         _____ ________ _____________ _____        @LOGIN OPERATOR your-password <RET>
         Job 5 on TTY8 dd-mmm-yy hh:mm:ss, Last Login dd-mmm-yy hh:mm:ss
         ______ _____        @ENABLE <RET>
        $

                                    NOTE

           If you have tape  drive  allocation  enabled,  perform
           Steps 2 through 6.  Otherwise, continue at Step 7.


                                    NOTE

           If you have already restored ALL of  the  savesets  on
           the Distribution tape (as described in Chapter 6), you
           need not restore the GALAXY saveset again.  Proceed to
           Step 16.


   ____ __  ____ ___ ___ _____ ___ ______ ____   Step 2:  Type OPR and press the RETURN key.

   Type OPR to run the OPR program to set a tape drive unavailable.

         ___ _____        $OPR <RET>
        OPR>


   ____ __  ____ ____ ______ __________ ____ ___ _____ ___ ______ ____   Step 3:  Type SHOW STATUS TAPE-DRIVE /ALL and press the RETURN key.

   To find out what drives on the system are available, type SHOW  STATUS
   TAPE-DRIVE  /ALL.   The system prints the status of all tape drives on
   the system.  Use any tape drive that has the status of "UNLOADED."

            ____ ______ __________ ____ _____        OPR>SHOW STATUS TAPE-DRIVE /ALL <RET>
        OPR>
        15:00:09          --Tape Drive Status--
        DRIVE   STATE  VOLID     REQ#    JOB#  USER
        -----   -----  -----     ----    ----  ----
        MTA0:   Available
        MTA1:   Unloaded
                AVR: Yes
        MTA2:   Unloaded
                AVR: Yes
        MTA3:   Unloaded
                AVR: Yes
        MTA5:   Unloaded
                AVR: Yes
        MTA6:   Unavailable
        OPR>


   ____ __  ____ ___ __________ _____  ___________ ___ _____  ___  ______   Step 4:  Type SET TAPE-DRIVE MTAn:  UNAVAILABLE and press  the  RETURN
            ____            key.

                                    D-3
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   To allow the use of a tape  drive  without  the  intervention  of  the
   MOUNTR  program,  type SET TAPE-DRIVE MTAn:  UNAVAILABLE.  The example
   uses MTA0:  as the tape drive, but you can specify any tape drive that
   has the status UNLOADED.

            ___ __________ _____ ___________ _____        OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE <RET>
        Enter text and terminate with ^Z


   ____ __  ____ _____ ______ _________ ___ _____ _________   Step 5:  Type USING GALGEN PROCEDURE and press <CTRL/Z>.

   After the system prints "Enter text and terminate with ^Z,"  type  the
   text  USING  GALGEN  PROCEDURE  and  then  press <CTRL/Z>.  The system
   prints the OPR prompt and several messages.

        Enter text and terminate with ^Z
        _____ ______ _________ __        USING GALGEN PROCEDURE ^Z
        OPR>
        SJ  0: PTYCON>
        SJ  0: **** OPR(6) 15:01:41 ****
        SJ  0:
        SJ  0: 15:01:41      -- Tape Drive Set Unavailable --
        SJ  0:            MTA0: set unavailable for assignment by MOUNTR
        SJ  0: OPR>

        15:01:41       -- Tape Drive Set Unavailable --
                    MTA0: set unavailable for assignment by MOUNTR
        OPR>


   ____ __  ____ ____ ___ _____ ___ ______ ____   Step 6:  Type EXIT and press the RETURN key.

   To return to TOPS-20 command level, type EXIT.

            ____ _____        OPR>EXIT <RET>
        $


   ____ __  ____ ______ _____  ___ _____ ___ ______ ____   Step 7:  Type ASSIGN MTA0:  and press the RETURN key.

   To assign tape drive 0 to your job, type ASSIGN MTA0:.

         ______ _____ _____        $ASSIGN MTA0: <RET>
        $

                                    NOTE

           The examples in this guide  use  MTA0:   as  the  tape
           drive.  However, you can assign and use any tape drive
           that has the status UNLOADED; MTA0:  is not  required.
           Be  sure  to use the name of the tape drive you assign
           in Step 7 whenever MTA0: appears in this appendix.


                                    D-4
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   ____ __  ____ _____ __________ ___ _____ ___ ______ ____   Step 8:  Type BUILD PS:<BUILD> and press the RETURN key.

   Create a directory to hold the GALAXY source files.  Although you  can
   give  it any name, a reasonable name for this directory is PS:<BUILD>,
   because it is also known as the build area.   To  do  so,  type  BUILD
   PS:<BUILD>.   The  system  displays either [New] if the directory does
   not already exist or [Old] if the directory  exists.   The  subcommand
   prompt ($$) follows.

         _____ __________ _____        $BUILD PS:<BUILD> <RET>
        [New]
        $$


   ____ __  ______ _______ ______   Step 9:  Assign storage space.

   Assign sufficient storage space to the directory to allow  copying  of
   the  entire  fourth saveset (not just the GALAXY sources).  Follow the
   example to assign storage space and to end the BUILD procedure.

          _______ ____ _____        $$WORKING 5000 <RET>
          _________ ____ _____        $$PERMANENT 5000 <RET>
          _____        $$<RET>
        $


   ____ ___  _____ ___ ____________ ____ __ ______   Step 10:  Mount the Distribution tape on MTA0:.

   To restore the GALAXY files from tape, mount the Distribution tape  on
   the tape drive you assigned in Step 7.  (If you need help, see Chapter
   2, Section 2.2, Step 9, of this guide.)  Be sure the drive is on line.


   ____ ___  ____ ______ ___ _____ ___ ______ ____   Step 11:  Type DUMPER and press the RETURN key.

   You need to run the DUMPER program to restore the GALAXY source  files
   from  tape.   To run this program, type DUMPER.  The system prints the
   DUMPER prompt.

         ______ _____        $DUMPER <RET>
        DUMPER>


   ____ ___  ____ ____ _____   ___  _____  ___  ______  ____   ____  ____   Step 12:  Type TAPE MTA0:   and  press  the  RETURN  key.   Then  type
             _______ ______________ ___ _____ ___ ______ ____             ACCOUNT SYSTEM-DEFAULT and press the RETURN key.

   To tell the DUMPER program which tape drive you are using,  type  TAPE
   MTA0:.   Then  type  ACCOUNT  SYSTEM-DEFAULT to tell DUMPER to use the
   system-default account.

               ____ _____ _____        DUMPER>TAPE MTA0: <RET>
               _______ ______________ _____        DUMPER>ACCOUNT SYSTEM-DEFAULT <RET>
        DUMPER>

                                    D-5
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   ____ ___  ____ ____ _ ___ _____ ___ ______ ____   Step 13:  Type SKIP 3 and press the RETURN key.

   To skip over the first three savesets on the Distribution  tape,  give
   the  command  SKIP 3.  The DUMPER program prints a message identifying
   each saveset it skips, and then gives the DUMPER prompt.  Be  prepared
                 ______   for a 5 to 10 minute wait while DUMPER positions the tape.

               ____ _ _____        DUMPER>SKIP 3 <RET>
             .
             .
             .
        DUMPER>


   ____ ___  ____  _______  ___________  _______________  ___  _____  ___   Step 14:  Type  RESTORE  PS:<*>*.*.*  PS:<BUILD>*.*.*  and  press  the
             ______ ____             RETURN key.

   To restore all the files from the fourth saveset (including the GALAXY
   source  files), type the RESTORE command.  The system prints a message
   identifying the saveset and the number of files  and  pages  restored,
   followed by the DUMPER prompt.

               _______ ___________ _______________ _____        DUMPER>RESTORE PS:<*>*.*.* PS:<BUILD>*.*.* <RET>
        Saveset "GALAXY sources for TOPS-20 V7.0" 18-Mar-88 1400
         Loading files into PS:<BUILD>
         End of Tape.


         Total files restored:     n
         Total pages restored:     n
        DUMPER>

   Error:    If DUMPER does not print a message identifying  the  saveset
             as  "GALAXY  sources  for  TOPS-20  V7.0,"  the  tape is not
             positioned at the correct saveset.  Give the REWIND  command
             to DUMPER and begin again at Step 13.

             If the message "Loading  files  into  PS:<BUILD>"  does  not
             appear, no files are being restored from tape.  Be sure that
             the correct tape is mounted  on  the  tape  drive  you  have
             assigned to your job.  Then exit from DUMPER and begin again
             at Step 8.  If errors persist, the tape may be bad.  Contact
             your DIGITAL Field Service Representative for assistance.


   ____ ___  ___ ___ ______ ________   Step 15:  End the DUMPER program.

   Once the fourth saveset has been restored from tape,  end  the  DUMPER
   program.   To  do  so,  follow the example to rewind the tape and exit
   from DUMPER.  The system prints the TOPS-20 ENABLEd prompt ($).

               ______ _____        DUMPER>REWIND <RET>


                                    D-6
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


               ____ _____        DUMPER>EXIT <RET>
        $


   ____ ___  ____ ___________ __________ __________ ___ _____ ___  ______   Step 16:  Type INFORMATION DISK-USAGE PS:<BUILD> and press the  RETURN
             ____             key.

   To verify that you have restored all the files from the fourth saveset
   of the Distribution tape, type INFORMATION DISK-USAGE PS:<BUILD>.  The
   system prints information about the amount of disk space used  by  the
   directory.

         ___________ __________ __________ _____        $INFORMATION DISK-USAGE PS:<BUILD> <RET>
         PS:<BUILD>
         2597 Pages assigned
         3000 Working, 3000 Permanent pages allowed
         34540 Pages free on PS:, 41460 pages used.
        $

                                    NOTE

           If  you  restored  the  GALAXY  saveset   to   another
           directory, use that directory name in Step 16.


   ____ ___  _____   Step 17:  STOP.

   If the number of pages  assigned  does  not  approximately  match  the
   number  shown  in  Step  16,  you  may not have restored all the files
   necessary for creating a GALAXY system.  Check to be sure you have the
   correct tape mounted, then begin again at Step 11.

                                    NOTE

           If you previously  restored  the  GALAXY  saveset  (as
           described  in  Chapter  6),  and  have the appropriate
           number  of  pages  assigned,  proceed  to   Step   23.
           Otherwise,  restore the GALAXY saveset again, starting
           at Step 2.


   ____ ___  ____ ______ _____  ___ _____ ___ ______ ____   Step 18:  Type UNLOAD MTA0:  and press the RETURN key.

   To unload the tape from the tape drive, type UNLOAD MTA0:.  The system
   rewinds the tape onto the source reel.

         ______ _____ _____        $UNLOAD MTA0: <RET>
        $

   You can now remove the Distribution tape from the tape drive.




                                    D-7
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   ____ ___  ____ ________ _____  ___ _____ ___ ______ ____   Step 19:  Type DEASSIGN MTA0:  and press the RETURN key.

   Once you unload the tape from the drive, return the tape drive to  the
   pool of available resources.  To do so, type DEASSIGN MTA0:.

         ________ _____ _____        $DEASSIGN MTA0: <RET>
        $

                                    NOTE

           If you performed Step 4, which removed  a  tape  drive
           from  the system's usage, perform Steps 20 through 22.
           Otherwise, continue at Step 23.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 20:  Type OPR and press the RETURN key.

   Run the OPR program to set the tape drive available to users.

         ___ _____        $OPR <RET>
        OPR>


   ____ ___  ____ ___ __________ _____  _________ ___  _____  ___  ______   Step 21:  Type SET TAPE-DRIVE MTA0:  AVAILABLE and  press  the  RETURN
             ____             key.

   To return the tape drive you removed from system usage in Step 4, type
   SET TAPE-DRIVE MTA0:  AVAILABLE.

            ___ __________ _____ _________ _____        OPR>SET TAPE-DRIVE MTA0: AVAILABLE <RET>
        OPR>
        15:13:53      -- Tape Drive Set Available --
                   MTA0: set available for assignment by MOUNTR
        SJ  0: PTYCON>
        SJ  0: **** OPR(6) 15:13:53 ****
        SJ  0:
        SJ  0: 15:13:53      -- Tape Drive Set Available --
        SJ  0:            MTA0: set available for assignment by MOUNTR
        SJ  0: OPR>
        OPR>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 22:  Type EXIT and press the RETURN key.

   To return to TOPS-20 command level and continue with  this  procedure,
   type EXIT.  The system prints the ENABLEd prompt ($).

            ____ _____        OPR>EXIT <RET>
        $





                                    D-8
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   D.2  RUNNING THE GALGEN PROGRAM   D.2  RUNNING THE GALGEN PROGRAM

   Run the GALGEN program to create the GALAXY  configuration  file.   Be
   sure you run GALGEN Version 5, which is the latest version.


   ____ ___  ____ ______ ___ _____ ___ ______ ____   Step 23:  Type GALGEN and press the RETURN key.

   You must run the GALGEN program to  create  the  GALAXY  configuration
   file   PS:<BUILD>GALCNF.MAC,   which   will   contain  the  parameters
   describing the tailored GALAXY system you are building.   Type  GALGEN
   and  press  the RETURN key.  The GALGEN program responds by giving its
   name and version number,  and  then  printing  several  paragraphs  of
   information.

         ______ _____        $GALGEN <RET>



        GALGEN Version 6(7626)

        [Starting GALAXY Generation Procedure for TOPS-20 System]

        [Writing GALAXY Configuration File PS:<BUILD>GALCNF.MAC.1]

        In the following dialog, all questions are of the form:

          text of question (list or range of answers) [default answer]

        The line starts with the actual text of the question.   Following
        the question is a description of the possible answers enclosed in
        parentheses.  This description might be a  range  of  numbers,  a
        list  of  keywords,  or  a  textual  description.  Following this
        description is the default answer, enclosed in  square  brackets.
        The default will be assumed if you only press the RETURN key.


        You have the choice of carrying on a  LONG  dialog  in  which  an
        explanation  of  each  question  is  provided automatically, or a
        SHORT dialog in which it is assumed that you  are  familiar  with
        the  GALAXY generation procedure.  In either case, you can always
        obtain the help text by typing a question mark (?) in response to
        any question.

        Answer the following  question  with  either  LONG  (for  a  long
        dialog)  or  SHORT (for a short one).  Simply pressing the RETURN
        key implies SHORT.


        Dialog Length (SHORT,LONG) [SHORT]




                                    D-9
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   ____ ___  _____   Step 24:  STOP.

   You have the option of a long dialog, in  which  GALGEN  explains  the
   choices  it  offers  you,  or  a  short one, in which only the choices
   themselves are displayed.  If you are an experienced user  of  GALGEN,
   you  may  want  the short dialog, which is faster; in this case, press
   the RETURN key and skip to Step 26.  Otherwise, continue at Step 25.


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 25:  Type LONG and press the RETURN key.

   To request the long dialog with GALGEN, type LONG and press the RETURN
   key.   GALGEN  responds  with  some  information  and  then  the first
   question about GALGEN parameters.

                                           ____ _____        Dialog Length (SHORT,LONG) [SHORT] LONG <RET>



                     Administrative Controls and Parameters
                     -------------- -------- --- ----------



        The  questions  in  this  section   determine   absolute   GALAXY
        parameters,  which  cannot  be  overridden  by  user  or operator
        commands.

        The system logs all operator interactions in a disk file  in  the
        spooling  area.   Your answer to the following question specifies
        the name to be used for this file.


        Operator log filename(3-20 Characters) [OPERATOR-SYSTEM]


   ____ ___  ______ ___ _________ __ ___ ______ ________   Step 26:  Answer the questions in the GALGEN display.

   GALGEN presents a series of questions, one  at  a  time,  for  you  to
   answer.   If you asked for a long dialog in Step 25, an explanation of
   each question is included.  Otherwise, you see only the questions, the
   range  of  choices, and the default answer.  The default answer is the
   one that appears in brackets ([]).  This value (the default)  is  used
   if you answer the question by pressing the RETURN key.

   Following is a sample of the dialog you would see if you typed LONG in
   Step  25.  Press the RETURN key when you want the default answer shown
   in brackets and are ready to see  the  next  question  in  the  GALGEN
   dialog.   Otherwise, type your answer and then press the RETURN key to
   see the next question.

   In the sample dialog, the default answer is taken  for  all  questions


                                    D-10
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   except the last question in the dialog.

                                    NOTE

           You must  supply  the  correct  values  for  your  own
           system.


                                                                 _____        Operator log filename(3-20 Characters) [OPERATOR-SYSTEM] <RET>


        Users can  specify  a  priority  for  their  batch  and  spooling
        requests with the /PRIORITY switch.  The allowable values on this
        parameter range between 1 (representing lowest priority)  and  63
        (representing  the  highest).  The following two questions relate
        to this switch.  The first question requests the maximum priority
        which may be specified by a non-privileged user.


        Maximum priority  non-privileged  users  may  specify(1-63)  [20]
        _____        <RET>


        You may specify the value to be used if the user does not specify
        a /PRIORITY switch.  This value must be between 1 and the maximum
        that you specified in the previous question.


        Default for /PRIORITY on batch and spooling  requests(1-63)  [10]
        _____        <RET>


        This value is to control the number of objects  (printers,  batch
        streams, etc.) that can be controlled by a single command in OPR.
        This value should be at least the maximum number of objects of  a
        single type you may have.  The value must be at least 1.


        Maximum number of objects that can be controlled with one command
                    _____        (1-100) [6] <RET>

        Specify the highest number that a batch  stream  can  be  on  the
        system.   The  value  must  be greater than zero and less than or
        equal to 10000.


        Highest number a batch stream can  be  on  the  system  (1-10000)
              _____        [100] <RET>


        The priority of a process and the permissable range of queues  it
        may  run in is determined by the scheduler priority control word.


                                    D-11
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        A system process gets a higher priority than all  user  jobs  and
        gets as much time as is necessary for execution.


        Do you wish QUASAR to run as a system process?(YES,NO) [YES]
        _____        <RET>
        Do you wish ORION  to run as a system process?(YES,NO) [YES]
        _____        <RET>
        Do you wish NEBULA to run as a system process?(YES,NO) [YES]
        _____        <RET>
        Do you wish BATCON to run as a system process?(YES,NO) [YES]
        _____        <RET>
        Do you wish LPTSPL to run as a system process?(YES,NO) [YES]
        _____        <RET>


        The following parameter determines whether CLUSTER GALAXY  should
        be ENABLEd or DISABLEd at GALAXY startup.  The default is YES.


        Do you want to ENABLE CLUSTER GALAXY at GALAXY start  up?(YES,NO)
              _____        [YES] <RET>


        The following parameters allow a user with SEMI-OPR privilege  to
        be able to control certain devices.


        Do you want SEMI-OPR to be able to control the printers?(YES,NO)
              _____        [YES] <RET>
        Do you want SEMI-OPR to be able to control the plotters?(YES,NO)
              _____        [YES] <RET>
        Do you want SEMI-OPR to be able to control the card
                               _____        readers?(YES,NO) [YES] <RET>
        Do you want SEMI-OPR to be able to control the card
                             _____        punch?(YES,NO) [YES] <RET>
        Do you want SEMI-OPR to be able to control the paper tape
                             _____        punch?(YES,NO) [YES] <RET>
        Do you want SEMI-OPR to be able to control the tape
                              _____        drives?(YES,NO) [YES] <RET>



                                  Applications
                                  ------------



        The following section  establishes  parameters  for  applications
        supported  by GALAXY (for example, NCP).  These applications will
        be accessible through OPR, the operator interface.



                                    D-12
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        You can enable applications through your answers to the following
        questions.


                                                        _____        Will you be running applications?(YES,NO) [YES] <RET>


        Each application must be associated  with  an  application  table
        name (for example, NCPTAB).


                                                                     ___        Application name or carriage return to exit(1-20 characters) NCP
        _____        <RET>
                                           ______ _____        Table name for NCP(1-6 characters) NCPTAB <RET>
        Is there an internal ORION application for this
                                  _____        application?(YES,NO) [NO] <RET>
                                                                     ___        Application name or carriage return to exit(1-20 characters) LCP
        _____        <RET>
                                           ______ _____        Table name for NCP(1-6 characters) LCPTAB <RET>
        Is there an internal ORION application for this
                                  ___ _____        application?(YES,NO) [NO] YES <RET>
                                                ______ _____        Application module name(1-6 characters) LCPORN <RET>
        Application name or carriage return to exit(1-20 characters)
        _____        <RET>

                                    NOTE

           If you are running applications supported  by  GALAXY,
           see  the  appropriate  documentation  to determine the
           application  table  names.    If   you   are   running
                                ________________ ______ _________           DECnet-20,  see  the DECnet-20/PSI-20 System Manager's
           _____            _________  _______   __________   ___           Guide  and  the  DECnet-20  Network   Generation   and
           __________           Procedures manual.

                               Batch Job Defaults
                               ----- --- --------



        The questions in this section are used to define  default  values
        for the various options that a user can specify when submitting a
        batch job.



        The batch user can specify a maximum runtime for  his  batch  job
        using  the /TIME switch.  If he does not specify this switch, the
        following default will be used:


                                                              _____        Default batch job runtime limit(5-9999 seconds) [300] <RET>



                                    D-13
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        Every batch job has maximum  limits  for  each  type  of  spooled
        output.   These  limits  can  be  set  by  the  batch  user  with
        appropriate switches to the SUBMIT command.  If the user  doesn't
        specify these switches, the following defaults will be used:


                                                      _____        Line printer output limit(0-9999 pages) [200] <RET>
                                                     ____        Card punch output limit(0-9999 cards) [1000] RET>
                                                         _____        Paper tape punch output limit(0-5000 feet) [200] <RET>
                                                  _____        Plotter output limit(0-5000 minutes) [30] <RET>


        The user can specify whether or not the batch log file should  be
        printed  after  the job terminates by using the /OUTPUT switch to
        the SUBMIT command.  The action is specified by:  LOG  to  always
        print  the log file, NOLOG to never print the log file, and ERROR
        to print the log file only if the job  ended  with  an  unhandled
        error.   If  the  user doesn't specify this switch, the following
        value will be used.


                                                                _____        Default for batch SUBMIT/OUTPUT (LOG,NOLOG,ERROR) [LOG] <RET>


                      Line Printer Defaults and Parameters
                      ---- ------- -------- --- ----------



        The questions in this section are used to set default values  for
        the line printer spooler.



        Job banner pages printed at the beginning of each print  request.
        The user's name and any /NOTE value is printed on them.


                                             _____        Number of job banner pages (0-5) [2] <RET>

        Job trailer pages are printed at the end of each  print  request.
        The user's name and any spooler checkpoint information is printed
        on them.


                                             _____        Number of job trailer pages(0-5) [2] <RET>


        File header pages are printed before each file or  copy  in  each
        print  request.  The file name is printed in BOLD letters on each
        header page.



                                    D-14
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


                                             _____        Number of file header pages(0-5) [2] <RET>


        The user can specify a special form for a print request with  the
        /FORMS  switch.   If  this switch is not specified, the following
        default will be used.


                                                                _____        Name for standard output forms(4-6 Characters) [NORMAL] <RET>


        The number  of  characters  that  uniquely  identify  a  form  is
        compared  with  the  current  form  name  to determine if a forms
        change is required for a specific user request.


        Number of characters  which  uniquely  identifies  form(2-6)  [4]
        _____        <RET>


        Cluster LPTSPL requires a directory that must be  shared  between
        all  the  systems  in  the  cluster that send print requests to a
        Cluster LPTSPL.  The default logical name is LPTXFR.


        Cluster LPTSPL shared directory logical  name  (2-40  characters)
                 _____        [LPTXFR] <RET>


        Cluster printers require the LISSPL server to be running  on  the
        node  where  the  actual physical printer is located.  LISSPL has
        server forks that pick up the print request  from  remote  nodes.
        The default number of server forks is 2.

                                                _____        Number of LISSPL server forks (1-4) [2] <RET>



                                Tape Label Action
                                ---- ----- ------



        The system administrator can allow non-privileged users to bypass
        label processing.


                                                               _____        Allow bypassing for non-privileged users?(YES,NO) [NO] <RET>



                 NEBULA (Cluster GALAXY message router) options


                                    D-15
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


                 ------ -------- ------ ------- ------- -------



        The NEBULA ACK/ACK RESPONSE message option  ensures  that  NEBULA
        actually has DECnet communication with nodes that believes it has
        communication with by sending an ACK message every 5  minutes  to
        each  node.   If  an  ACK RESPONSE message is not received from a
        node after 5 minutes, then NEBULA assumes that it no  longer  has
        communication  with that node.  This covers the case where the NI
        of a remote node is reloaded.  In this case, the local NEBULA  is
        not  interrupted  so  it  assumes that it still has communication
        with the remote node when in fact it does not.


        Do you want NEBULA  ACK/RESPONSE  ACK  messages  enabled?(YES,NO)
        [NO]



                      Miscellaneous Defaults and Parameters
                      ------------- -------- --- ----------



        The questions in this section refer to general GALAXY parameters.



        The following section establishes default bias and disk  page  to
        spooler unit conversion factors.


                                                                 _____        Do you want the standard limit computation(YES,NO) [YES] <RET>

        The default action to be taken when output exceeds the  specified
        limit  for  an  output spooler may be to ABORT the job and ignore
        all remaining output, ASK the operator what to do, or PROCEED  to
        finish processing the job.


        Default  output-limit-exceeded  action(ABORT,ASK,PROCEED)   [ASK]
        _____ _____        ABORT <RET>


        [End of Galgen Dialog]
        $







                                    D-16
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   D.3  ASSEMBLING THE NEW GALAXY SYSTEM   D.3  ASSEMBLING THE NEW GALAXY SYSTEM

   In the last step you completed the GALGEN program, which produced  the
   GALAXY  parameter file, GALCNF.MAC.  This file contains your choice of
   options for a tailored batch and  spooling  system.   To  create  this
   batch  and  spooling  system  you must submit the GALAXY control file,
   GALAXY.CTL, to your present batch system.  GALAXY.CTL reads GALCNF.MAC
   and  generates  the  files  and programs for a tailored GALAXY system.
   Perform Step 27 to assemble the new GALAXY system.


   ____ ___  ____  ______   _____________________________________________   Step 27:  Type  SUBMIT   PS:<BUILD>GALAXY.CTL/TIME:0:30:00/RESTARTABLE
             ___ _____ ___ ______ ____             and press the RETURN key.

   To start the assembly process, submit  the  .CTL  file  to  the  batch
   queue.   After  doing  so,  the system prints a message giving the job
   name, the request I.D., and the time limit of the batch job.

         ______ _______________________________________________ _____        $SUBMIT PS:<BUILD>GALAXY.CTL.1/TIME:0:30:00/RESTARTABLE <RET>
        [Batch job GALAXY queued, Request #170, limit 0:30:00]
        $
        SJ  0: 
        SJ  0: 15:20:48     Batch-Stream 0    -- Started --
        SJ  0: 
        SJ  0: 15:20:48     Batch-Stream 1    -- Started --
        SJ  0: 
        SJ  0: 15:20:48     Batch-Stream 2    -- Started --
        SJ  0: OPR>
        SJ  0: 15:20:49     Batch-Stream 0    -- Begin --
        SJ  0:              Job GALAXY Req #170 for OPERATOR
        $

   While the GALAXY system assembly proceeds (this may take an hour), the
   system prints messages for each successful assembly it completes.  The
   messages are similar to the following example.

        SJ  0: OPR>
        SJ  0: 15:39:07     Batch-Stream 2 JOB #7 -- Message from Batch
        User -- 
        SJ  0:              Job PLEASE Req #6 FOR OPERATOR
        SJ  0:              PLEASE  PLEASE Assembly Successful$
        SJ  0: OPR>
        SJ  0: 15:39:15     Batch-Stream 2    -- End --
        SJ  0:              Job PLEASE Req #6 for OPERATOR
        SJ  0: OPR>
        SJ  0: 15:39:16     Batch-Stream 2    -- Begin --
        SJ  0:              Job CDRIVE Req #8 for OPERATOR

                                    NOTE

           If assembly is unsuccessful, examine  the  appropriate
           .LOG  file to see if you can find the problem.  If you


                                    D-17
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


           can, correct  it  (which  might  involve  editing  the
           control  file), delete the .LOG file, and resubmit the
           specified .CTL file.  If you are unable  to  determine
           what   caused   the   failure,  consult  your  systems
           programmer or software specialist.

   Once the assembly  completes,  you  can  run  the  new  batch  system.
   However, before you proceed to the next step, it is advisable to check
   the .LOG files to be sure that no problems arose during  batch  system
   generation.  It is conceivable that a %-type (warning) error occurred.
   Such  an  error  might  not  cause  processing  of  GALAXY.CTL  to  be
   unsuccessful,  but could create problems later when you attempt to use
   the new batch system.  Therefore, it is important that you correct any
   problems now, before you stop running the current batch system.



   D.4  SHUTTING DOWN THE OLD GALAXY SYSTEM   D.4  SHUTTING DOWN THE OLD GALAXY SYSTEM

   Once you have checked the  .LOG  files  to  be  sure  that  no  errors
   occurred  during  the  build  procedure, you are ready to stop all old
   GALAXY programs and start the new ones.  Perform Steps 28  through  41
   to do so.

                                    NOTE

           During the following steps, Steps 28 through 53, it is
           important  NOT  to have timesharing users logged in to
           the system, as their  jobs  could  initiate  batch  or
           spooling   requests  during  the  critical  period  of
           changeover.  However, it is acceptable for requests to
           be  present  in  the  queues at the time of Step 30 as
           long as the old GALAXY system is a Release 5 system.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 28:  Type OPR and press the RETURN key.

   To return to the OPR program so you can stop the old  GALAXY  objects,
   type OPR.  The system prints the OPR prompt.

         ___ _____        $OPR <RET>
        OPR>


   ____ ___  ____ ____ ______ ___ _____ ___ ______ ____   Step 29:  Type SHOW STATUS and press the RETURN key.

   To determine which GALAXY objects are in use,  give  the  SHOW  STATUS
   command.  The system responds with a list of GALAXY objects.

            ____ ______ _____        OPR>SHOW STATUS <RET>
        OPR>
        16:32:03        -- System Device Status --


                                    D-18
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        Batch-Stream Status:
          Strm      Status
          ----  ---------------
             0  Idle
             1  Idle
             2  Idle

        Printer Status:
          Unit      Status
          ----  ---------------
             0  Idle

        OPR>


   ____ ___  ____ _ ________ _______ ___ ____ ______ _______   Step 30:  Type a SHUTDOWN command for each GALAXY object.

   To be sure that each GALAXY object shuts down, type a SHUTDOWN command
   for each GALAXY object shown in Step 29.

            ________ _______ _ _____        OPR>SHUTDOWN PRINTER 0 <RET>
        OPR>
        16:32:26     Printer 0    -- Shutdown --
        SJ  0: OPR>
        SJ  0: 16:32:26     Printer 0    -- Shutdown --
            ________ ____________ ___ _____        OPR>SHUTDOWN BATCH-STREAM 0:2 <RET>
        OPR>
        16:32:37     Batch-Stream 0    -- Shutdown --

        16:32:37     Batch-Stream 1    -- Shutdown --

        16:32:37     Batch-Stream 2    -- Shutdown --
        SJ  0: OPR>
        SJ  0: 16:32:37     Batch-Stream 0    -- Shutdown --
        SJ  0:
        SJ  0: 16:32:37     Batch-Stream 1    -- Shutdown --
        SJ  0:
        SJ  0: 16:32:37     Batch-Stream 2    -- Shutdown --
        OPR>

   Error:    If you see a message similar  to  "--THERE  ARE  NO  DEVICES
             STARTED--,"  you  can  ignore  this message and go on to the
             next SHUTDOWN command.  The message  means  only  that  your
             site was not using the specified device.


   ____ ___  ____ ____ ______ ___ _____ ___ ______ ____   Step 31:  Type SHOW STATUS and press the RETURN key.

   To verify that all parts of the GALAXY system are shut down, give  the
   SHOW STATUS command.

            ____ ______ _____        OPR>SHOW STATUS <RET>


                                    D-19
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        OPR>
        16:32:47          -- There are no devices started --
        OPR>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 32:  Type EXIT and press the RETURN key.

   To return to  TOPS-20  command  level  so  you  can  stop  the  GALAXY
   components, type EXIT.  The system prints the ENABLEd prompt ($).

            ____ _____        OPR>EXIT <RET>
        $


   ____ ___  ____ _______ ___ _____ ___ ______ ____   Step 33:  Type ^ESPEAK and press the RETURN key.

   To stop the GALAXY components you must enter the ^ESPEAK command.  The
   system prints [Please type SYSJOB commands - end with ^Z].

         _______ _____        $^ESPEAK <RET>
         [Please type SYSJOB commands - end with ^Z]


   ____ ___  ____ ____ ______ __________   Step 34:  Stop each GALAXY component.

   You should stop all the  components  referenced  in  SYSJOB.RUN.   You
   should  also  stop BATCON, which normally runs as a separate job under
   SYSJOB.  Follow the example to stop the GALAXY components.

         [Please type SYSJOB commands - end with ^Z]
        ____ ______ _____        KILL QUASAR <RET>
        ____ _____ _____        KILL ORION <RET>
        ____ ______ _____        KILL MOUNTR <RET>
        ____ ______ _____        KILL CDRIVE <RET>
        ____ ______ _____        KILL SPRINT <RET>
        ____ ______ _____        KILL SPROUT <RET>
        ____ ______ _____        KILL LPTSPL <RET>
        ____ ______ _____        KILL BATCON <RET>
        _____ _ _____        CCJOB 1 <RET>
        ______ _____        STATUS <RET>


   ____ ___ ____ _________   Step 35: Type <CTRL/Z>.

   To return to TOPS-20 command level, type <CTRL/Z>. The system prints
   several messages and then the TOPS-20 ENABLEd prompt ($). 

        __        ^Z
        $KILL QUASAR 
        KILL ORION 
        KILL MOUNTR 
        KILL CDRIVE 


                                    D-20
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        KILL SPRINT 
        KILL SPROUT
        KILL LPTSPL 
        KILL BATCON
        CCJOB 1
        STATUS
        SYSJOB status at 31-May-87 1639
          0 INFO   DISMS at 1013   31-May-87 1639
          1 MAPPER DISMS at 266    31-May-87 1639
          5 MAILER DISMS at 1225   31-May-87 1639
          7 LPTSPL DISMS at 415322 31-May-87 1639
          0: Job 1, TTY 160, PTYCON
          1: Job 2, TTY 161, EXEC
        $


   ____ ___  ____ _____ _______________ ___ _____ ___ ______ ____   Step 36:  Type BUILD PS:<OLD-GALAXY> and press the RETURN key.

   You should create a directory to store your old GALAXY  system  before
   copying your new one into SYS:.  To do so, type BUILD PS:<OLD-GALAXY>.
   The system prints [New] and the subcommand prompt ($$).

         _____ _______________ _____        $BUILD PS:<OLD-GALAXY> <RET>
        [New]
        $$


   ____ ___  _____ ___ ______ ____   Step 37:  Press the RETURN key.

   To create a directory with default characteristics, press  the  RETURN
   key.  You return to TOPS-20 command level.

        [New]
          _____        $$<RET>
        $


   ____ ___  ____ ____  ______________  ________________  ___  _____  ___   Step 38:  Type COPY  SYS:QUASAR.EXE  PS:<OLD-GALAXY>*  and  press  the
             ______ ____             RETURN key.

   To copy your old QUASAR program into the back-up  directory  that  you
   just  created,  type  the  COPY  command.   The  system prints an [OK]
   message when the copy completes.

         ____ ______________ ________________ _____        $COPY SYS:QUASAR.EXE PS:<OLD-GALAXY>* <RET>
         PS:<SUBSYS>QUASAR.EXE.1 => PS:<OLD-GALAXY>QUASAR.EXE.1 [OK]
        $


   ____ ___  ____  ___  _____  _____   __   ____   ______   ______   ____   Step 39:  Copy  the  other  files   of   your   GALAXY   system   into
             ________________             PS:<OLD-GALAXY>.



                                    D-21
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   Repeat Step 38 as many times as necessary to copy  all  the  files  of
   your present GALAXY system into PS:<OLD-GALAXY>.  You must copy all of
   the following files, if they exist:

        BATCON.EXE
        CDRIVE.EXE
        GLXLIB.EXE
        LPTSPL.EXE
        MOUNTR.EXE
        OPR.EXE
        ORION.EXE
        PLEASE.EXE
        QUASAR.EXE
        SPRINT.EXE
        SPROUT.EXE



   D.5  STARTING UP THE NEW GALAXY SYSTEM   D.5  STARTING UP THE NEW GALAXY SYSTEM

   Now you are ready to replace the old GALAXY system on SYS:  with  your
   new tailored system (Steps 40 through 48).

                                    NOTE

           If you restored the GALAXY source files to a directory
           other  than  PS:<BUILD>,  use  that  directory name in
           Steps 40 and 41.


   ____ ___  ____  ____  ____________________  _____________________  ___   Step 40:  Type  COPY  PS:<BUILD>QUASAR.EXE  PS:<SUBSYS>QUASAR.EXE  and
             _____ ___ ______ ____             press the RETURN key.

   To copy the QUASAR.EXE component of the new  GALAXY  system  into  the
   system area, type the COPY command.  The system prints an [OK] message
   when the copy completes.

         ____ ____________________ _____________________ _____        $COPY PS:<BUILD>QUASAR.EXE PS:<SUBSYS>QUASAR.EXE <RET>
         PS:<GALAXY>QUASAR.EXE.1 => PS:<SUBSYS>QUASAR.EXE.1  [OK]
        $


   ____ ___  ____ ___ _____ __________ __  ___  ______  ______  ____  ___   Step 41:  Copy the other components of  the  GALAXY  system  into  the
             ______ _____             system area.

   Repeat Step 40 as many times as it is necessary to copy all the  files
   of  your  new  GALAXY  system into PS:<SUBSYS>.  You must copy all the
   files listed in Step 39.


   ____ ___  ____ _______ ___ _____ ___ ______ ____   Step 42:  Type ^ESPEAK and press the RETURN key.



                                    D-22
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   To start the new GALAXY system you must  enter  the  ^ESPEAK  command.
   The system prints [Please type SYSJOB commands - end with ^Z].

         _______ _____        $^ESPEAK <RET>
         [Please type SYSJOB commands - end with ^Z]


   ____ ___  _____ ____ _________ __ ___ ___ ______ _______   Step 43:  Start each component in the new GALAXY system.

   To be sure that all of the components of the GALAXY system start,  you
   must  type  a RUN command for each component referenced in SYSJOB.RUN.
   Follow the example to start the GALAXY components.

                                    NOTE

           The monitor must have  DECnet  installed  to  run  the
           NEBULA  and LISSPL components.  Also, if a node in the
           network is a target of cluster printing,  LISSPL  must
           be running on that node.


         [Please type SYSJOB commands - end with ^Z]
        ___ __________ _____        RUN SYS:QUASAR <RET>
        ___ _________ _____        RUN SYS:ORION <RET>
        ___ __________ _____        RUN SYS:MOUNTR <RET>
        ___ __________ _____        RUN SYS:CDRIVE <RET>
        ___ __________ _____        RUN SYS:SPRINT <RET>
        ___ __________ _____        RUN SYS:LPTSPL <RET>
        ___ _ _ _____        JOB 1 / <RET>
        ___ __________ _____        RUN SYS:BATCON <RET>
        ___ __________ _____        RUN SYS:NEBULA <RET>
        ___ __________ _____        RUN SYS:LISSPL <RET>
        _ _____        / <RET>
        ______ _____        STATUS <RET>


   ____ ___  ____ _________   Step 44:  Type <CTRL/Z>.

   To return to TOPS-20 command level, type <CTRL/Z>.

        __        ^Z
        $RUN SYS:QUASAR 
        RUN SYS:ORION 
        RUN SYS:MOUNTR
        RUN SYS:CDRIVE
        RUN SYS:SPRINT 
        RUN SYS:LPTSPL 
        JOB 1 /
        RUN SYS:BATCON
        RUN SYS:NEBULA
        RUN SYS:LISSPL
        /


                                    D-23
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        STATUS
        SYSJOB status at 31-May-87 1653
          0 INFO   DISMS at 415322 31-May-87 1653
          1 MAPPER DISMS at 415322 31-May-87 1653
          5 MAILER DISMS at 415322 31-May-87 1653
          7 LPTSPL DISMS at 415322 31-May-87 1653
        $


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 45:  Type OPR and press the RETURN key.      

   You must return to OPR command level to start the components  of  your
   new GALAXY system.

         ___ _____        $OPR <RET>
        OPR>


   ____ ___  ____ ____ _________________ ___ _____ ___ ______ ____   Step 46:  Type TAKE SYSTEM:SYSTEM.CMD and press the RETURN key.

   To start all the components  of  the  new  GALAXY  system,  type  TAKE
   SYSTEM:SYSTEM.CMD.

            ____ _________________ _____        OPR>TAKE SYSTEM:SYSTEM.CMD <RET>
        OPR>
        16:54:37  Batch-Stream 0    -- Set Accepted --

        16:54:37  Batch-Stream 1    -- Set Accepted --

        16:54:37  Batch-Stream 2    -- Set Accepted --

        16:54:37  Batch-Stream 0    -- Startup Scheduled --

        16:54:37  Batch-Stream 1    -- Startup Scheduled --

        16:54:37  Batch-Stream 2    -- Startup Scheduled --

        16:54:37  Printer 0    -- Set Accepted --

        16:54:37  Printer 0    -- Startup Scheduled --
        OPR>


   ____ ___  ____ ____ ______ ___ _____ ___ ______ ____   Step 47:  Type SHOW STATUS and press the RETURN key.

   To verify that  each  component  of  your  GALAXY  system  is  running
   properly, you should now type a SHOW STATUS command.

            ____ ______ _____        OPR>SHOW STATUS <RET>
        OPR>
        16:54:57        -- System Device Status --



                                    D-24
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


        Batch-Stream Status:
          Strm      Status
          ----  ---------------
             0  Idle
             1  Idle
             2  Idle

        Printer Status:
          Unit  Status
          ----  ---------------
             0  Idle

        OPR>


   ____ ___  ____ ____ ___ _____ ___ ______ ____   Step 48:  Type EXIT and press the RETURN key.

   To end the OPR program, type EXIT.

            ____ _____        OPR>EXIT <RET>
        $



   D.6  MAKING YOUR NEW GALAXY SYSTEM PERMANENT   D.6  MAKING YOUR NEW GALAXY SYSTEM PERMANENT

   Once your new system is successfully running, you may want  to  delete
   all  the  files  from  PS:<BUILD>, PS:<GALAXY>, and PS:<OLD-GALAXY> to
   make more disk space available.


   ____ ___  ____ ______ ________________________________ ___  _____  ___   Step 49:  Type DELETE PS:<BUILD>*.*,PS:<OLD-GALAXY>*.* and  press  the
             ______ ____             RETURN key.

   Type the DELETE command to remove the old GALAXY files  from  disk  in
   order  to make more disk space available.  The system prints a message
   for each file it deletes.

         ______ ________________________________ _____        $DELETE PS:<BUILD>*.*,PS:<OLD-GALAXY>*.* <RET>
             .
             .
             .
        $

                                    NOTE

           If your GALAXY files are in  a  directory  other  than
           PS:<BUILD>,  use  that  directory  name  in  place  of
           PS:<BUILD> in Step 49.


   ____ ___  ____ ___ ___ _____ ___ ______ ____   Step 50:  Type OPR and press the RETURN key.


                                    D-25
              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM              GENERATING A TAILORED BATCH AND SPOOLING SYSTEM


   To return to OPR level to supervise your new GALAXY system, type OPR.

         ___ _____        $OPR <RET>
        OPR>


















































                                    D-26
                                        


                                   INDEX



               -A-                                 -D-               -A-                                 -D-
    
   Abbreviations for system reload,
       5-4                             Data files for TCP/IP, C-6, C-12
   Account validation, 3-16              HOSTS.TXT, C-12
   Accounting shift changes, 3-22        INTERNET.ADDRESS, C-7
   ARPANET, See TCP/IP                   INTERNET.GATEWAYS, C-13
   Audience, viii                        INTERNET.NAMESERVERS, C-16
                                       Daylight savings time, 3-23 to
                                           3-24
                                       DDMP program, 2-22, 5-5, A-23
               -B-               -B-                     DECSYSTEM-20
                                         Model 2065, 2-9
   Beware file, 1-1, 2-2, 4-11, A-2      powering up, 2-2
   Bias controls, 3-18                   preparing for installation, 2-2
   Bootstrap file, 4-9                 DELETE key, 2-9
                                       Directories
                                         changing <OPERATOR>, 3-36, A-16
                                         creating
               -C-               -C-                         <BUILD>, D-4
                                           for GALAXY sources, 6-7
   Changing passwords, 3-29                for language sources, 6-7
   CHECKD program, 5-5, A-3, A-23          for TCP/IP, C-3
   CI20 (Computer Interconnect),           <REMARKS>, 3-37
       2-21, 5-3, 5-5, A-13, A-21,         system, 2-24 to 2-26, A-7 to
       A-23                                    A-8
   Class scheduling, 3-18 to 3-20        deleting the temporary UETP,
   Cluster data gathering, 3-28              7-8
   Cluster information, 3-28             on the public structure, 2-33
   Cluster sendalls, 3-28                parameter setting of, 3-15
   Command files                       Disallowing passwords, 3-30
     SYSJOB.RUN, D-20, D-23            Disk drives, 1-2
   Command processor                     MSCP-served, 3-23
     loading, 2-23                       structure sizes, 3-4
     starting, 2-24                    Disk packs
   Computer Interconnect                 how to label, 2-3
     See also CI20 (Computer             how to mount, 2-3 to 2-4
         Interconnect)                 Disk structures
   7-CONFIG.CMD, 3-35                    login, 3-26
     See Configuration command file      offline, 3-26
   Configuration command file, 3-36    Distribution tapes, 1-6, D-5
     for new installation, 3-6 to        for TCP/IP installation, C-1
         3-34                            installing, 6-1 to 6-8
     for update installation, A-14       savesets for, 6-1
         to A-16                       DLUSER program, 2-25, A-7
   Console terminal output             DMO program, 4-1, 4-13
     at system startup, 5-7, A-23 to   Dump-on-BUGCHK facility, 3-30
         A-24                          DUMP.EXE, 2-34


                                  Index-1
                                        


   DUMPER program, 2-27, 6-4, A-8,     GALAXY
       C-3, D-5                          how to tailor (Cont.)
   DX20 microcode, 2-13, 4-14, 5-3,        summary of, D-1 to D-2
       A-24                              making the new system permanent,
                                             D-25
               -E-               -E-                       restoring files for, D-2 to D-8
                                         running GALGEN, D-9 to D-16
   Ethernet, 2-22, 5-5, A-14, A-21,      shutting down the old, D-18 to
       A-24                                  D-22
     See also NIA20 (Ethernet)           starting the new, D-22 to D-25
                                       GALCNF.MAC, D-9
               -F-               -F-                     GALGEN program, D-9 to D-16
                                       Gateway address for TCP/IP, C-14
   Fast logins, 3-27
                                                   -H-   File system                                     -H-
     building a front-end structure
         for, 3-40 to 3-42             HOSTS.TXT, C-12
     initializing, 2-14 to 2-21          how to obtain, C-12
   Files
                                                   -I-     archiving, 3-20                               -I-
     copying from floppy disks, 4-4
         to 4-14                       INI program, 4-1, 4-5
     list of front-end, 4-13           Installation
     migration of, 3-20                  for a new system, 2-1
   Floppy disks                            See also New installation
     copying files from, 4-4 to 4-14     for TCP/IP, C-1
     for installation, 1-5, A-2            See also TCP/IP
     for TCP/IP installation, C-1        for updating TOPS-20, A-1
     how to mount, 2-5                     See also Update installation
   Front end                           Installation tape, 1-5
     building a file system            Installation tools
         structure for, 3-40 to 3-42     floppy disks, 1-5
     configuration file for, 2-11,       for new installation, 1-4
         4-9, A-19                       for TCP/IP installation, C-1
     copying files for, 4-4 to 4-14      for update installation, A-2
     creating the file system for,       tapes
         4-1 to 4-15                       Distribution, 1-6
     halting the monitor for, 4-1 to       Installation, 1-5
         4-2                           Interfaces for TCP/IP, C-7
     list of files for, 4-13           INTERNET.ADDRESS, C-7
     programs for, 4-1                 INTERNET.GATEWAYS, C-13
     restarting the monitor for, 4-3   INTERNET.NAMESERVERS, C-16
         to 4-4
                                                   -K-     saving the monitor for, 4-9                   -K-
    
               -G-               -G-                     KL.CFG, 2-11, A-19
    
   GALAXY
                                                   -L-     assembling the new, D-17 to                   -L-
         D-18
     configuration file, D-9           LAT (Local Area Transport), 3-26
     how to tailor, D-1 to D-26        Latency optimization, 3-16


                                  Index-2
                                        


   Line printers, 1-4                  New installation
     initialization file, 3-38 to        creating the file system, 2-1
         3-39                                to 2-35
     parameters, 3-12 to 3-15            creating the front-end file
     random access memory (RAM) file,        system, 4-1 to 4-15
         3-14                            installing the Distribution
     types, 3-13                             tapes, 6-1 to 6-8
     vertical formatting unit (VFU)      running the UETP program, 7-1
         file, 3-13                          to 7-9
   Logical names, 3-10 to 3-11           starting the Version 7.0 system,
   Login structure facility, 3-26            5-1 to 5-7
   LPFORM.INI, 3-38 to 3-39              tailoring the system, 3-1 to
                                             3-42
               -M-               -M-                     NIA20 (Ethernet), A-14
                                         See also Ethernet
   Magnetic tape drives, 1-3
                                                   -O-     allocating, 3-21 to 3-22                      -O-
   Magnetic tapes
     for new installation, 1-5         Off-line structures facility,
     for TCP/IP installation, C-1          3-26
     for update installation, A-2      Operator's directory, 3-36, A-16
     how to mount, 2-5 to 2-7
                                                   -P-     logical unit numbers, 3-11 to                 -P-
         3-12
   MAKDMP program, 2-34                Password encryption
   MCB, A-24                             enabling, 2-19
   Memory dumping, 3-30                Passwords
   Minimum password length, 3-29         changing, 3-29
   Monitor                               disallowing, 3-30
     changing the system name for,       minimum length, 3-29
         3-5 to 3-6, C-10 to C-11      Performance improvements, 3-16 to
     for TCP/IP, C-8 to C-9                3-17
     for TOPS-20 Version 7.0, 1-6,       latency optimization, 3-16
         3-2 to 3-4                      working set swapping, 3-17
     front-end                         PIP program, 4-1, 4-7, 4-11, A-19
       halting, 4-1 to 4-2             Preventing fast logins, 3-27
       restarting, 4-3 to 4-4          6-1-PTYCON.ATO, A-16
       saving, 4-9                     7-PTYCON.ATO, A-16
     loading and starting, 2-7 to
                                                   -Q-         2-14                                      -Q-
     renaming of, A-12
     restarting, 2-21 to 2-24          QT023, 1-1, C-1
   Monitor installation                QT090, C-1
     new, 2-7
                                                   -R-     pocket guide for, B-1                         -R-
     TCP/IP, C-1
     update, A-1                       Recognition input, x to xi
   MOU program, 4-1, 4-5, 4-10         RED program, 4-1, 4-8
                                       References, ix
               -N-               -N-                     Reloading the system
                                         abbreviations for, 5-4
   Network information, 3-25           Remote lines, 3-24


                                  Index-3
                                        


                                                   -T-   Restoring software, 2-26 to 2-32                -T-
     bundled, 2-27 to 2-31, A-8 to
         A-12                          Tape drives, 1-3
     Distribution tapes, 6-5 to 6-8      allocating, 3-21 to 3-22
     documentation files, 6-6            mounting tapes on, 2-5 to 2-7
     GALAXY files, 2-29, A-10          Tapes
     GALAXY sources, 6-7, D-6            for new installation, 1-5
     Installation tape, 2-27 to 2-31,    for TCP/IP installation, C-1
         A-10 to A-11                    for update installation, A-2
     language sources, 6-7               how to mount, 2-5 to 2-7
     source files, 6-5                   logical unit numbers, 3-11 to
     system files, 2-27, A-10                3-12
     system program files, 2-28,       TCP/IP
         A-10                            bringing up the monitor, C-11
     TCP/IP Distribution tape, C-4       changing the system name, C-10
         to C-6                              to C-11
     UETP files, 2-30, A-11              choosing a monitor, C-8 to C-10
   RP20 controller, 2-13, 4-14, A-24     completing installation, C-11
                                             to C-18
                                         customizing a data file, C-6 to
               -S-               -S-                           C-8, C-14
                                         data files, C-6
   SAV program, 4-1, 4-9                   HOSTS.TXT, C-12
   Scheduler controls, 3-18 to 3-20        INTERNET.ADDRESS, C-7 to C-8
     bias, 3-18                            INTERNET.GATEWAYS, C-13 to
     class, 3-18 to 3-20                       C-14
   SETNOD, A-24                            INTERNET.NAMESERVERS, C-16 to
   Shutdown                                    C-17
     of the front-end monitor, 4-1       gateway address, C-14
         to 4-2                          installation tools, C-1
   Software                              installing software for, C-1 to
     bundled, 1-6, 2-27, A-1                 C-18
     restoring, 2-26 to 2-32, 6-5 to     monitor installation, C-2
         6-8, A-8 to A-12, C-4, D-6      restoring bundled software, C-2
         to D-7                          restoring TCP/IP Distribution
     unbundled, 1-6, A-33                    tape, C-2 to C-6
   Software installation                 softare package, C-1
     See Installation                    supported interfaces, C-7
   Software package, 2-1, C-1          Terminal lines, 1-2 to 1-3
     QT023, 1-1, C-1                     dial-up, 3-9 to 3-10
     QT090, C-1                          numbers for, 3-8
   Structure size, 3-4                   speeds for, 3-7 to 3-9
   Summary of manual, viii to ix       Terminal servers, 3-26
   SYSJOB program, 2-22, 5-5, A-23,    Time zone, setting, 3-15
       A-24                            Tools for installation, 1-4, A-2
   SYSJOB.RUN, D-20, D-23                TCP/IP, C-1
   System errors                       Tools tape, 6-1, 6-5, 6-6
     dumping on non-fatal, 3-30        TOPS-20 software package, 2-1,
   System message levels, 3-24             C-1
   System startup                      TOPS-20 Version 6.1
     console terminal output for,        reverting to, A-24 to A-27
         5-7, A-23                       shutting down, A-17 to A-18


                                  Index-4
                                        


   TOPS-20 Version 7.0                 Update installation (Cont.)
     as permanent monitor, A-29 to       making Version 7.0 the
         A-33                                permanent monitor, A-29 to
     as primary monitor, A-27 to             A-33
         A-29                            making Version 7.0 the primary
     monitors for, 1-6, 3-2 to 3-4,          monitor, A-27 to A-29
         A-13                            preparing for, A-2 to A-7
     starting, 5-1 to 5-7, A-18 to       renaming the monitor, A-12 to
         A-24                                A-14
   TOPS20.BWR, 1-1, 2-2, 4-11, A-2       restoring bundled software, A-8
   Transmission Control                      to A-12
       Protocol/Internet Protocol        reverting to Version 6.1, A-24
     See TCP/IP                              to A-27
                                         setting parameters for
               -U-               -U-                           <OPERATOR>, A-16
                                         shutting down Version 6.1, A-17
   UETP program                              to A-18
     running, 7-1 to 7-9                 starting Version 7.0, A-18 to
       optional tests, 7-5 to 7-8            A-24
       standard tests, 7-1 to 7-5        tools for, A-2
   UFD program, 4-1, 4-6
   Update installation, A-1 to A-33
                                                   -W-     creating 7-CONFIG.CMD, A-14 to                -W-
         A-16
     creating system directories,      WHY RELOAD question, 2-22
         A-7 to A-8                    Working set swapping, 3-17




























                                  Index-5
